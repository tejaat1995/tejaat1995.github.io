(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4390],{744:(q,a,F)=>{"use strict";F.d(a,{M:()=>e});let e=(()=>{class T{}return T.COURSES="courses",T.ORDERS="orders",T.STUDENTS="students",T.TESTS="tests",T.MEDIA="media",T.SCHEDULES="schedules",T.QUESTION_PAPERS="question_papers",T.VALUED_ANSWER_SHEET="valued_answer_sheets",T.ANSWER_SHEET="answer_sheets",T.STUDENT_ACTIVITY="student_activity",T.NOTIFICATIONS="notifications",T.CHAT_ROOM="chat_room",T.MESSAGES="messages",T})()},9763:(q,a,F)=>{"use strict";F.d(a,{v:()=>D});var e=F(8274),T=F(2346);let D=(()=>{class Y{constructor(R,_){this.toastCtrl=R,this.navCtrl=_}presentToast(R="Please wait...",_="primary",L=3e3){this.toastCtrl.create({cssClass:"",color:_,duration:L,message:R}).then(I=>{I.present()},I=>{console.error("Error while toasting message",I)})}isValidData(R){return null!=R&&""!==R&&R!==[]&&0!==Object.keys(R).length}getExtension(R){let _=R.split(/[#?]/)[0].split(".").pop().trim();return["jpg","jpeg","png","gif","tiff","svg"].includes(_.toLowerCase())?_="image":["mp3","m4a","acc","ogg","wma","flac","alac"].includes(_.toLowerCase())?_="audio":["3gp","mp4","mov","wmv","flv","avi","avchd","webm","mkv"].includes(_.toLowerCase())?_="video":["zip","rar"].includes(_.toLowerCase())&&(_="archive"),_.toLowerCase()}navigateForward(R,_={}){this.navCtrl.navigateForward(R,{state:{..._}})}navigateBack(R,_={}){this.navCtrl.navigateBack(R,{state:{..._}})}navigateRoot(R,_={}){this.navCtrl.setDirection("root"),this.navCtrl.navigateRoot(R,{state:{..._}})}}return Y.\u0275fac=function(R){return new(R||Y)(e.LFG(T.yF),e.LFG(T.SH))},Y.\u0275prov=e.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})()},9244:(q,a,F)=>{"use strict";F.d(a,{D:()=>Y});var e=F(3725),T=F(744),D=F(8274);let Y=(()=>{class V{constructor(_){this.firestore=_}get(_){const L=(0,e.hJ)(this.firestore,_),I=(0,e.IO)(L,(0,e.Xo)("created_at","asc"));return(0,e.BS)(I,{idField:"id"})}getById(_,L){const I=(0,e.JU)(this.firestore,_+`/${L}`);return(0,e._1)(I,{idField:"id"})}getByUID(_,L){console.log(_,L);const I=(0,e.hJ)(this.firestore,_),j=(0,e.IO)(I,(0,e.ar)("uid","==",L),(0,e.Xo)("created_at","asc"));return(0,e.BS)(j,{idField:"id"})}add(_,L){const I=(0,e.hJ)(this.firestore,_);return(0,e.ET)(I,{...L,created_at:(0,e.Bt)()})}delete(_,L){const I=(0,e.JU)(this.firestore,_+`/${L.id}`);return _===T.M.MEDIA||_===T.M.MEDIA?(0,e.r7)(I,{media:(0,e.Ab)(L?.media),updated_at:(0,e.Bt)()}):(0,e.oe)(I)}update(_,L){const I=(0,e.JU)(this.firestore,_+`/${L.id}`);return(0,e.r7)(I,_===T.M.MEDIA||_===T.M.MEDIA?{media:(0,e.vr)(...L?.media),updated_at:(0,e.Bt)()}:{...L,updated_at:(0,e.Bt)()})}getCourses(){const _=(0,e.hJ)(this.firestore,"courses");return(0,e.BS)(_,{idField:"id"})}getCourseById(_){const L=(0,e.JU)(this.firestore,`courses/${_}`);return(0,e._1)(L,{idField:"id"})}getTests(_){const L=(0,e.hJ)(this.firestore,"tests"),I=(0,e.IO)(L,(0,e.ar)("course_id","==",_||""));return(0,e.BS)(I,{idField:"id"})}getTestById(_){const L=(0,e.JU)(this.firestore,`tests/${_}`);return(0,e._1)(L,{idField:"id"})}getValuedAnswerSheetByTestId(_,L){const I=(0,e.hJ)(this.firestore,T.M.VALUED_ANSWER_SHEET),j=(0,e.IO)(I,(0,e.ar)("test_id","==",_||""),(0,e.ar)("student_id","==",L||""));return(0,e.BS)(j,{idField:"id"})}getRemarksByTestId(_,L){const I=(0,e.hJ)(this.firestore,T.M.STUDENT_ACTIVITY),j=(0,e.IO)(I,(0,e.ar)("test_id","==",_||""),(0,e.ar)("student_id","==",L||""));return(0,e.BS)(j,{idField:"id"})}getAnswerSheetByTestId(_){const L=(0,e.hJ)(this.firestore,T.M.ANSWER_SHEET),I=(0,e.IO)(L,(0,e.ar)("test_id","==",_||""));return(0,e.BS)(I,{idField:"id"})}getScheduleByCourseId(_){const L=(0,e.hJ)(this.firestore,T.M.SCHEDULES),I=(0,e.IO)(L,(0,e.ar)("course_id","==",_));return(0,e.BS)(I,{idField:"id"})}getScheduleByTestId(_){const L=(0,e.hJ)(this.firestore,T.M.SCHEDULES),I=(0,e.IO)(L,(0,e.ar)("test_id","==",_||""));return(0,e.BS)(I,{idField:"id"})}getQuestionPaperByTestId(_){const L=(0,e.hJ)(this.firestore,T.M.QUESTION_PAPERS),I=(0,e.IO)(L,(0,e.ar)("test_id","==",_||""));return(0,e.BS)(I,{idField:"id"})}updateTest(_){const L=(0,e.JU)(this.firestore,`tests/${_.id}`);return(0,e.r7)(L,{..._,updated_at:(0,e.Bt)()})}getOrdersList(){const _=(0,e.hJ)(this.firestore,"orders"),L=(0,e.IO)(_,(0,e.ar)("student_id","==",localStorage.getItem("uid")||""));return(0,e.BS)(L,{idField:"id"})}getPurchasedOrders(){const _=(0,e.hJ)(this.firestore,"orders"),L=(0,e.IO)(_,(0,e.ar)("student_id","==",localStorage.getItem("student_id")||""),(0,e.ar)("status","==",!0));return(0,e.BS)(L,{idField:"id"})}getOrders(_){const L=(0,e.hJ)(this.firestore,"orders"),I=(0,e.IO)(L,(0,e.ar)("course_id","==",_.course_id||""),(0,e.ar)("student_id","==",_.student_id||""));return(0,e.PL)(I)}addOrder(_){const L=(0,e.hJ)(this.firestore,"orders");return(0,e.ET)(L,{..._,created_at:(0,e.Bt)()})}updateOrder(_){const L=(0,e.JU)(this.firestore,`orders/${_.id}`);return(0,e.r7)(L,{..._,updated_at:(0,e.Bt)()})}getStudentById(_){const L=(0,e.JU)(this.firestore,`students/${_}`);return(0,e._1)(L,{idField:"id"})}getStudent(_){const L=(0,e.hJ)(this.firestore,"students"),I=(0,e.IO)(L,(0,e.ar)("email","==",_.email||""),(0,e.ar)("password","==",_.password||""));return(0,e.BS)(I,{idField:"id"})}checkStudent(_){const L=(0,e.hJ)(this.firestore,T.M.STUDENTS),I=(0,e.IO)(L,(0,e.ar)("email","==",_));return(0,e.BS)(I,{idField:"id"})}addStudent(_){const L=(0,e.hJ)(this.firestore,"students");return(0,e.ET)(L,{..._,created_at:(0,e.Bt)()})}deleteStudent(_){const L=(0,e.JU)(this.firestore,`students/${_.id}`);return(0,e.oe)(L)}updateStudent(_){const L=(0,e.JU)(this.firestore,`students/${_.id}`);return(0,e.r7)(L,{..._,updated_at:(0,e.Bt)()})}getChat(_){const L=(0,e.hJ)(this.firestore,T.M.CHAT_ROOM),I=(0,e.IO)(L,(0,e.ar)("chat_id","==",_));return(0,e.BS)(I,{idField:"id"})}getMessages(_){const L=(0,e.hJ)(this.firestore,T.M.MESSAGES),I=(0,e.IO)(L,(0,e.ar)("chat_id","==",_),(0,e.Xo)("created_at","asc"));return(0,e.BS)(I,{idField:"id"})}}return V.\u0275fac=function(_){return new(_||V)(D.LFG(e.gg))},V.\u0275prov=D.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})()},6857:(q,a,F)=>{"use strict";F.d(a,{b:()=>T});var e=F(8274);let T=(()=>{class D{constructor(){this._data={}}getData(V){return this._data[V]}setData(V,R){this._data[V]=R}}return D.\u0275fac=function(V){return new(V||D)},D.\u0275prov=e.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})()},6036:function(module,__unused_webpack_exports,__webpack_require__){var _classStaticPrivateMethodGet=__webpack_require__(9393).default,_defineProperty=__webpack_require__(9713).default,_classPrivateMethodInitSpec=__webpack_require__(3448).default,_classPrivateMethodGet=__webpack_require__(4877).default,_classPrivateFieldInitSpec=__webpack_require__(3606).default,_classPrivateFieldSet=__webpack_require__(5962).default,_classPrivateFieldGet=__webpack_require__(1226).default,_asyncToGenerator=__webpack_require__(8926).default,F;F=function(){return(()=>{"use strict";var __webpack_modules__=[,(q,a,F)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.VerbosityLevel=a.Util=a.UnknownErrorException=a.UnexpectedResponseException=a.UNSUPPORTED_FEATURES=a.TextRenderingMode=a.StreamType=a.RenderingIntentFlag=a.PermissionFlag=a.PasswordResponses=a.PasswordException=a.PageActionEventType=a.OPS=a.MissingPDFException=a.IsLittleEndianCached=a.IsEvalSupportedCached=a.InvalidPDFException=a.ImageKind=a.IDENTITY_MATRIX=a.FormatError=a.FontType=a.FONT_IDENTITY_MATRIX=a.DocumentActionEventType=a.CMapCompressionType=a.BaseException=a.AnnotationType=a.AnnotationStateModelType=a.AnnotationReviewState=a.AnnotationReplyType=a.AnnotationMode=a.AnnotationMarkedState=a.AnnotationFlag=a.AnnotationFieldFlag=a.AnnotationBorderStyleType=a.AnnotationActionEventType=a.AbortException=void 0,a.arrayByteLength=Q,a.arraysToBytes=function ie(ne){const J=ne.length;if(1===J&&ne[0]instanceof Uint8Array)return ne[0];let te=0;for(let ve=0;ve<J;ve++)te+=Q(ne[ve]);let pe=0;const ge=new Uint8Array(te);for(let ve=0;ve<J;ve++){let me=ne[ve];me instanceof Uint8Array||(me="string"==typeof me?X(me):new Uint8Array(me));const Se=me.byteLength;ge.set(me,pe),pe+=Se}return ge},a.assert=function K(ne,J){ne||G(J)},a.bytesToString=function $(ne){("object"!=typeof ne||null===ne||void 0===ne.length)&&G("Invalid argument for bytesToString");const J=ne.length;if(J<8192)return String.fromCharCode.apply(null,ne);const pe=[];for(let ge=0;ge<J;ge+=8192){const ve=Math.min(ge+8192,J),me=ne.subarray(ge,ve);pe.push(String.fromCharCode.apply(null,me))}return pe.join("")},a.createPromiseCapability=function we(){const ne=Object.create(null);let J=!1;return Object.defineProperty(ne,"settled",{get:()=>J}),ne.promise=new Promise(function(te,pe){ne.resolve=function(ge){J=!0,te(ge)},ne.reject=function(ge){J=!0,pe(ge)}}),ne},a.createValidAbsoluteUrl=function s(ne,J=null,te=null){if(!ne)return null;try{if(te&&"string"==typeof ne){if(te.addDefaultProtocol&&ne.startsWith("www.")){const ge=ne.match(/\./g);ge&&ge.length>=2&&(ne=`http://${ne}`)}if(te.tryConvertEncoding)try{ne=re(ne)}catch{}}const pe=J?new URL(ne,J):new URL(ne);if(function l(ne){if(!ne)return!1;switch(ne.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(pe))return pe}catch{}return null},a.escapeString=function z(ne){return ne.replace(/([()\\\n\r])/g,J=>"\n"===J?"\\n":"\r"===J?"\\r":`\\${J}`)},a.getModificationDate=function Ae(ne=new Date){return[ne.getUTCFullYear().toString(),(ne.getUTCMonth()+1).toString().padStart(2,"0"),ne.getUTCDate().toString().padStart(2,"0"),ne.getUTCHours().toString().padStart(2,"0"),ne.getUTCMinutes().toString().padStart(2,"0"),ne.getUTCSeconds().toString().padStart(2,"0")].join("")},a.getVerbosityLevel=function C(){return r},a.info=function N(ne){r>=f.INFOS&&console.log(`Info: ${ne}`)},a.isArrayBuffer=function ce(ne){return"object"==typeof ne&&null!==ne&&void 0!==ne.byteLength},a.isArrayEqual=function ue(ne,J){if(ne.length!==J.length)return!1;for(let te=0,pe=ne.length;te<pe;te++)if(ne[te]!==J[te])return!1;return!0},a.isAscii=function Z(ne){return/^[\x00-\x7F]*$/.test(ne)},a.isSameOrigin=function P(ne,J){let te;try{if(te=new URL(ne),!te.origin||"null"===te.origin)return!1}catch{return!1}const pe=new URL(J,te);return te.origin===pe.origin},a.objectFromMap=function de(ne){const J=Object.create(null);for(const[te,pe]of ne)J[te]=pe;return J},a.objectSize=function he(ne){return Object.keys(ne).length},a.setVerbosityLevel=function v(ne){Number.isInteger(ne)&&(r=ne)},a.shadow=g,a.string32=function oe(ne){return String.fromCharCode(ne>>24&255,ne>>16&255,ne>>8&255,255&ne)},a.stringToBytes=X,a.stringToPDFString=function x(ne){if(ne[0]>="\xef"){let te;if("\xfe"===ne[0]&&"\xff"===ne[1]?te="utf-16be":"\xff"===ne[0]&&"\xfe"===ne[1]?te="utf-16le":"\xef"===ne[0]&&"\xbb"===ne[1]&&"\xbf"===ne[2]&&(te="utf-8"),te)try{const pe=new TextDecoder(te,{fatal:!0}),ge=X(ne);return pe.decode(ge)}catch(pe){H(`stringToPDFString: "${pe}".`)}}const J=[];for(let te=0,pe=ne.length;te<pe;te++){const ge=ee[ne.charCodeAt(te)];J.push(ge?String.fromCharCode(ge):ne.charAt(te))}return J.join("")},a.stringToUTF16BEString=function se(ne){const J=["\xfe\xff"];for(let te=0,pe=ne.length;te<pe;te++){const ge=ne.charCodeAt(te);J.push(String.fromCharCode(ge>>8&255),String.fromCharCode(255&ge))}return J.join("")},a.stringToUTF8String=re,a.unreachable=G,a.utf8StringToString=function le(ne){return unescape(encodeURIComponent(ne))},a.warn=H,F(2),a.IDENTITY_MATRIX=[1,0,0,1,0,0],a.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],a.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},a.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},a.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},a.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},a.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},a.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},a.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},a.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},a.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},a.AnnotationReplyType={GROUP:"Group",REPLY:"R"},a.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},a.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},a.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},a.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},a.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},a.PageActionEventType={O:"PageOpen",C:"PageClose"},a.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},a.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const f={ERRORS:0,WARNINGS:1,INFOS:5};a.VerbosityLevel=f,a.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},a.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},a.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},a.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let r=f.WARNINGS;function H(ne){r>=f.WARNINGS&&console.log(`Warning: ${ne}`)}function G(ne){throw new Error(ne)}function g(ne,J,te){return Object.defineProperty(ne,J,{value:te,enumerable:!0,configurable:!0,writable:!1}),te}const c=function(){function J(te,pe){this.constructor===J&&G("Cannot initialize BaseException."),this.message=te,this.name=pe}return J.prototype=new Error,J.constructor=J,J}();function X(ne){"string"!=typeof ne&&G("Invalid argument for stringToBytes");const J=ne.length,te=new Uint8Array(J);for(let pe=0;pe<J;++pe)te[pe]=255&ne.charCodeAt(pe);return te}function Q(ne){return void 0!==ne.length?ne.length:void 0!==ne.byteLength?ne.byteLength:void G("Invalid argument for arrayByteLength")}a.BaseException=c,a.PasswordException=class t extends c{constructor(J,te){super(J,"PasswordException"),this.code=te}},a.UnknownErrorException=class o extends c{constructor(J,te){super(J,"UnknownErrorException"),this.details=te}},a.InvalidPDFException=class p extends c{constructor(J){super(J,"InvalidPDFException")}},a.MissingPDFException=class M extends c{constructor(J){super(J,"MissingPDFException")}},a.UnexpectedResponseException=class y extends c{constructor(J,te){super(J,"UnexpectedResponseException"),this.status=te}},a.FormatError=class u extends c{constructor(J){super(J,"FormatError")}},a.AbortException=class W extends c{constructor(J){super(J,"AbortException")}},a.IsLittleEndianCached={get value(){return g(this,"value",function ae(){const ne=new Uint8Array(4);return ne[0]=1,1===new Uint32Array(ne.buffer,0,1)[0]}())}},a.IsEvalSupportedCached={get value(){return g(this,"value",function ye(){try{return new Function(""),!0}catch{return!1}}())}};const _e=[...Array(256).keys()].map(ne=>ne.toString(16).padStart(2,"0"));class Ee{static makeHexColor(J,te,pe){return`#${_e[J]}${_e[te]}${_e[pe]}`}static transform(J,te){return[J[0]*te[0]+J[2]*te[1],J[1]*te[0]+J[3]*te[1],J[0]*te[2]+J[2]*te[3],J[1]*te[2]+J[3]*te[3],J[0]*te[4]+J[2]*te[5]+J[4],J[1]*te[4]+J[3]*te[5]+J[5]]}static applyTransform(J,te){return[J[0]*te[0]+J[1]*te[2]+te[4],J[0]*te[1]+J[1]*te[3]+te[5]]}static applyInverseTransform(J,te){const pe=te[0]*te[3]-te[1]*te[2];return[(J[0]*te[3]-J[1]*te[2]+te[2]*te[5]-te[4]*te[3])/pe,(-J[0]*te[1]+J[1]*te[0]+te[4]*te[1]-te[5]*te[0])/pe]}static getAxialAlignedBoundingBox(J,te){const pe=Ee.applyTransform(J,te),ge=Ee.applyTransform(J.slice(2,4),te),ve=Ee.applyTransform([J[0],J[3]],te),me=Ee.applyTransform([J[2],J[1]],te);return[Math.min(pe[0],ge[0],ve[0],me[0]),Math.min(pe[1],ge[1],ve[1],me[1]),Math.max(pe[0],ge[0],ve[0],me[0]),Math.max(pe[1],ge[1],ve[1],me[1])]}static inverseTransform(J){const te=J[0]*J[3]-J[1]*J[2];return[J[3]/te,-J[1]/te,-J[2]/te,J[0]/te,(J[2]*J[5]-J[4]*J[3])/te,(J[4]*J[1]-J[5]*J[0])/te]}static apply3dTransform(J,te){return[J[0]*te[0]+J[1]*te[1]+J[2]*te[2],J[3]*te[0]+J[4]*te[1]+J[5]*te[2],J[6]*te[0]+J[7]*te[1]+J[8]*te[2]]}static singularValueDecompose2dScale(J){const te=[J[0],J[2],J[1],J[3]],pe=J[0]*te[0]+J[1]*te[2],me=J[2]*te[1]+J[3]*te[3],Se=(pe+me)/2,Pe=Math.sqrt((pe+me)**2-4*(pe*me-(J[2]*te[0]+J[3]*te[2])*(J[0]*te[1]+J[1]*te[3])))/2,xe=Se-Pe||1;return[Math.sqrt(Se+Pe||1),Math.sqrt(xe)]}static normalizeRect(J){const te=J.slice(0);return J[0]>J[2]&&(te[0]=J[2],te[2]=J[0]),J[1]>J[3]&&(te[1]=J[3],te[3]=J[1]),te}static intersect(J,te){function pe(Se,Pe){return Se-Pe}const ge=[J[0],J[2],te[0],te[2]].sort(pe),ve=[J[1],J[3],te[1],te[3]].sort(pe),me=[];return J=Ee.normalizeRect(J),te=Ee.normalizeRect(te),ge[0]===J[0]&&ge[1]===te[0]||ge[0]===te[0]&&ge[1]===J[0]?(me[0]=ge[1],me[2]=ge[2],ve[0]===J[1]&&ve[1]===te[1]||ve[0]===te[1]&&ve[1]===J[1]?(me[1]=ve[1],me[3]=ve[2],me):null):null}static bezierBoundingBox(J,te,pe,ge,ve,me,Se,Pe){const Ce=[],xe=[[],[]];let Le,ke,Fe,Te,Re,Ie,De,Ne;for(let Ve=0;Ve<2;++Ve)if(0===Ve?(ke=6*J-12*pe+6*ve,Le=-3*J+9*pe-9*ve+3*Se,Fe=3*pe-3*J):(ke=6*te-12*ge+6*me,Le=-3*te+9*ge-9*me+3*Pe,Fe=3*ge-3*te),Math.abs(Le)<1e-12){if(Math.abs(ke)<1e-12)continue;Te=-Fe/ke,0<Te&&Te<1&&Ce.push(Te)}else De=ke*ke-4*Fe*Le,Ne=Math.sqrt(De),!(De<0)&&(Re=(-ke+Ne)/(2*Le),0<Re&&Re<1&&Ce.push(Re),Ie=(-ke-Ne)/(2*Le),0<Ie&&Ie<1&&Ce.push(Ie));let Me,Oe=Ce.length;const Be=Oe;for(;Oe--;)Te=Ce[Oe],Me=1-Te,xe[0][Oe]=Me*Me*Me*J+3*Me*Me*Te*pe+3*Me*Te*Te*ve+Te*Te*Te*Se,xe[1][Oe]=Me*Me*Me*te+3*Me*Me*Te*ge+3*Me*Te*Te*me+Te*Te*Te*Pe;return xe[0][Be]=J,xe[1][Be]=te,xe[0][Be+1]=Se,xe[1][Be+1]=Pe,xe[0].length=xe[1].length=Be+2,[Math.min(...xe[0]),Math.min(...xe[1]),Math.max(...xe[0]),Math.max(...xe[1])]}}a.Util=Ee;const ee=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function re(ne){return decodeURIComponent(escape(ne))}},(q,a,F)=>{F(3)},(q,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.isNodeJS=void 0;const F=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);a.isNodeJS=F},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_node_utils=__w_pdfjs_require__(8),_annotation_storage=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(12),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(13),_metadata=__w_pdfjs_require__(14),_optional_content_config=__w_pdfjs_require__(15),_transport_stream=__w_pdfjs_require__(16),_xfa_text=__w_pdfjs_require__(17);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultStandardFontDataFactory=_is_node.isNodeJS?_node_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;let createPDFNetworkStream;function setPDFNetworkStreamFactory(q){createPDFNetworkStream=q}function getDocument(q){const a=new PDFDocumentLoadingTask;let F;if("string"==typeof q||q instanceof URL)F={url:q};else if((0,_util.isArrayBuffer)(q))F={data:q};else if(q instanceof PDFDataRangeTransport)F={range:q};else{if("object"!=typeof q)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!q.url&&!q.data&&!q.range)throw new Error("Invalid parameter object: need either .data, .range or .url");F=q}const e=Object.create(null);let T=null,D=null;for(const V in F){const R=F[V];switch(V){case"url":if(typeof window<"u")try{e[V]=new URL(R,window.location).href;continue}catch(_){(0,_util.warn)(`Cannot create valid URL: "${_}".`)}else if("string"==typeof R||R instanceof URL){e[V]=R.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":T=R;continue;case"worker":D=R;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&R instanceof Buffer)e[V]=new Uint8Array(R);else{if(R instanceof Uint8Array)break;if("string"==typeof R)e[V]=(0,_util.stringToBytes)(R);else if("object"!=typeof R||null===R||isNaN(R.length)){if(!(0,_util.isArrayBuffer)(R))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");e[V]=new Uint8Array(R)}else e[V]=new Uint8Array(R)}continue}e[V]=R}if(e.rangeChunkSize=e.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,e.CMapReaderFactory=e.CMapReaderFactory||DefaultCMapReaderFactory,e.StandardFontDataFactory=e.StandardFontDataFactory||DefaultStandardFontDataFactory,e.ignoreErrors=!0!==e.stopAtErrors,e.fontExtraProperties=!0===e.fontExtraProperties,e.pdfBug=!0===e.pdfBug,e.enableXfa=!0===e.enableXfa,("string"!=typeof e.docBaseUrl||(0,_display_utils.isDataScheme)(e.docBaseUrl))&&(e.docBaseUrl=null),Number.isInteger(e.maxImageSize)||(e.maxImageSize=-1),"boolean"!=typeof e.useWorkerFetch&&(e.useWorkerFetch=e.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&e.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof e.isEvalSupported&&(e.isEvalSupported=!0),"boolean"!=typeof e.disableFontFace&&(e.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof e.useSystemFonts&&(e.useSystemFonts=!_is_node.isNodeJS&&!e.disableFontFace),typeof e.ownerDocument>"u"&&(e.ownerDocument=globalThis.document),"boolean"!=typeof e.disableRange&&(e.disableRange=!1),"boolean"!=typeof e.disableStream&&(e.disableStream=!1),"boolean"!=typeof e.disableAutoFetch&&(e.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(e.verbosity),!D){const V={verbosity:e.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};D=V.port?_PDFWorker.fromPort(V):new _PDFWorker(V),a._worker=D}const Y=a.docId;return D.promise.then(function(){if(a.destroyed)throw new Error("Loading aborted");const V=_fetchDocument(D,e,T,Y),R=new Promise(function(_){let L;T?L=new _transport_stream.PDFDataTransportStream({length:e.length,initialData:e.initialData,progressiveDone:e.progressiveDone,contentDispositionFilename:e.contentDispositionFilename,disableRange:e.disableRange,disableStream:e.disableStream},T):e.data||(L=createPDFNetworkStream({url:e.url,length:e.length,httpHeaders:e.httpHeaders,withCredentials:e.withCredentials,rangeChunkSize:e.rangeChunkSize,disableRange:e.disableRange,disableStream:e.disableStream})),_(L)});return Promise.all([V,R]).then(function([_,L]){if(a.destroyed)throw new Error("Loading aborted");const I=new _message_handler.MessageHandler(Y,_,D.port),j=new WorkerTransport(I,a,L,e);a._transport=j,I.send("Ready",null)})}).catch(a._capability.reject),a}function _fetchDocument(q,a,F,e){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(q,a,F,e){if(q.destroyed)throw new Error("Worker was destroyed");F&&(a.length=F.length,a.initialData=F.initialData,a.progressiveDone=F.progressiveDone,a.contentDispositionFilename=F.contentDispositionFilename);const T=yield q.messageHandler.sendWithPromise("GetDocRequest",{docId:e,apiVersion:"2.13.216",source:{data:a.data,url:a.url,password:a.password,disableAutoFetch:a.disableAutoFetch,rangeChunkSize:a.rangeChunkSize,length:a.length},maxImageSize:a.maxImageSize,disableFontFace:a.disableFontFace,docBaseUrl:a.docBaseUrl,ignoreErrors:a.ignoreErrors,isEvalSupported:a.isEvalSupported,fontExtraProperties:a.fontExtraProperties,enableXfa:a.enableXfa,useSystemFonts:a.useSystemFonts,cMapUrl:a.useWorkerFetch?a.cMapUrl:null,standardFontDataUrl:a.useWorkerFetch?a.standardFontDataUrl:null});if(q.destroyed)throw new Error("Worker was destroyed");return T})).apply(this,arguments)}exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;class PDFDocumentLoadingTask{static get idCounters(){return(0,_util.shadow)(this,"idCounters",{doc:0})}constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.idCounters.doc++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var a=this;return _asyncToGenerator(function*(){a.destroyed=!0,yield a._transport?.destroy(),a._transport=null,a._worker&&(a._worker.destroy(),a._worker=null)})()}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(a,F,e=!1,T=null){this.length=a,this.initialData=F,this.progressiveDone=e,this.contentDispositionFilename=T,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(a){this._rangeListeners.push(a)}addProgressListener(a){this._progressListeners.push(a)}addProgressiveReadListener(a){this._progressiveReadListeners.push(a)}addProgressiveDoneListener(a){this._progressiveDoneListeners.push(a)}onDataRange(a,F){for(const e of this._rangeListeners)e(a,F)}onDataProgress(a,F){this._readyCapability.promise.then(()=>{for(const e of this._progressListeners)e(a,F)})}onDataProgressiveRead(a){this._readyCapability.promise.then(()=>{for(const F of this._progressiveReadListeners)F(a)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const a of this._progressiveDoneListeners)a()})}transportReady(){this._readyCapability.resolve()}requestDataRange(a,F){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(a,F){var T,e=this;this._pdfInfo=a,this._transport=F,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(T=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),e.stats||{streamTypes:{},fontTypes:{}}}),function(){return T.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(a){return this._transport.getPage(a)}getPageIndex(a){return this._transport.getPageIndex(a)}getDestinations(){return this._transport.getDestinations()}getDestination(a){return this._transport.getDestination(a)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(a=!1){return this._transport.startCleanup(a||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(a,F,e,T,D=!1){this._pageIndex=a,this._pageInfo=F,this._ownerDocument=T,this._transport=e,this._stats=D?new _display_utils.StatTimer:null,this._pdfBug=D,this.commonObjs=e.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:a,rotation:F=this.rotate,offsetX:e=0,offsetY:T=0,dontFlip:D=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:a,rotation:F,offsetX:e,offsetY:T,dontFlip:D})}getAnnotations({intent:a="display"}={}){const F=this._transport.getRenderingIntent(a);let e=this._annotationPromises.get(F.cacheKey);return e||(e=this._transport.getAnnotations(this._pageIndex,F.renderingIntent),this._annotationPromises.set(F.cacheKey,e),e=e.then(T=>{for(const D of T)void 0!==D.titleObj&&Object.defineProperty(D,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),D.titleObj.str)}),void 0!==D.contentsObj&&Object.defineProperty(D,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),D.contentsObj.str)});return T})),e}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var a=this;return _asyncToGenerator(function*(){return a._transport._htmlForXfa?.children[a._pageIndex]||null})()}render({canvasContext:a,viewport:F,intent:e="display",annotationMode:T=_util.AnnotationMode.ENABLE,transform:D=null,imageLayer:Y=null,canvasFactory:V=null,background:R=null,optionalContentConfigPromise:_=null,annotationCanvasMap:L=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&T===_util.AnnotationMode.ENABLE&&(T=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&T===_util.AnnotationMode.ENABLE&&(T=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const I=this._transport.getRenderingIntent(e,T);this.pendingCleanup=!1,_||(_=this._transport.getOptionalContentConfig());let j=this._intentStates.get(I.cacheKey);j||(j=Object.create(null),this._intentStates.set(I.cacheKey,j)),j.streamReaderCancelTimeout&&(clearTimeout(j.streamReaderCancelTimeout),j.streamReaderCancelTimeout=null);const B=V||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),U=!!(I.renderingIntent&_util.RenderingIntentFlag.PRINT);j.displayReadyCapability||(j.displayReadyCapability=(0,_util.createPromiseCapability)(),j.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(I));const b=O=>{j.renderTasks.delete(m),(this.cleanupAfterRender||U)&&(this.pendingCleanup=!0),this._tryCleanup(),O?(m.capability.reject(O),this._abortOperatorList({intentState:j,reason:O instanceof Error?O:new Error(O)})):m.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},m=new InternalRenderTask({callback:b,params:{canvasContext:a,viewport:F,transform:D,imageLayer:Y,background:R},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:L,operatorList:j.operatorList,pageIndex:this._pageIndex,canvasFactory:B,useRequestAnimationFrame:!U,pdfBug:this._pdfBug});(j.renderTasks||(j.renderTasks=new Set)).add(m);const k=m.task;return Promise.all([j.displayReadyCapability.promise,_]).then(([O,S])=>{this.pendingCleanup?b():(this._stats&&this._stats.time("Rendering"),m.initializeGraphics({transparency:O,optionalContentConfig:S}),m.operatorListChanged())}).catch(b),k}getOperatorList({intent:a="display",annotationMode:F=_util.AnnotationMode.ENABLE}={}){const T=this._transport.getRenderingIntent(a,F,!0);let Y,D=this._intentStates.get(T.cacheKey);return D||(D=Object.create(null),this._intentStates.set(T.cacheKey,D)),D.opListReadCapability||(Y=Object.create(null),Y.operatorListChanged=function e(){D.operatorList.lastChunk&&(D.opListReadCapability.resolve(D.operatorList),D.renderTasks.delete(Y))},D.opListReadCapability=(0,_util.createPromiseCapability)(),(D.renderTasks||(D.renderTasks=new Set)).add(Y),D.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(T)),D.opListReadCapability.promise}streamTextContent({disableCombineTextItems:a=!1,includeMarkedContent:F=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==a,includeMarkedContent:!0===F},{highWaterMark:100,size:T=>T.items.length})}getTextContent(a={}){if(this._transport._htmlForXfa)return this.getXfa().then(e=>_xfa_text.XfaText.textContent(e));const F=this.streamTextContent(a);return new Promise(function(e,T){const Y=F.getReader(),V={items:[],styles:Object.create(null)};!function D(){Y.read().then(function({value:R,done:_}){_?e(V):(Object.assign(V.styles,R.styles),V.items.push(...R.items),D())},T)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const a=[];for(const F of this._intentStates.values())if(this._abortOperatorList({intentState:F,reason:new Error("Page was destroyed."),force:!0}),!F.opListReadCapability)for(const e of F.renderTasks)a.push(e.completed),e.cancel();return this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(a)}cleanup(a=!1){return this.pendingCleanup=!0,this._tryCleanup(a)}_tryCleanup(a=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:F,operatorList:e}of this._intentStates.values())if(F.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,a&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(a,F){const e=this._intentStates.get(F);!e||(this._stats&&this._stats.timeEnd("Page Request"),e.displayReadyCapability&&e.displayReadyCapability.resolve(a))}_renderPageChunk(a,F){for(let e=0,T=a.length;e<T;e++)F.operatorList.fnArray.push(a.fnArray[e]),F.operatorList.argsArray.push(a.argsArray[e]);F.operatorList.lastChunk=a.lastChunk;for(const e of F.renderTasks)e.operatorListChanged();a.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:a,cacheKey:F}){const T=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:a,cacheKey:F,annotationStorage:a&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),D=this._intentStates.get(F);D.streamReader=T;const Y=()=>{T.read().then(({value:V,done:R})=>{R?D.streamReader=null:this._transport.destroyed||(this._renderPageChunk(V,D),Y())},V=>{if(D.streamReader=null,!this._transport.destroyed){if(D.operatorList){D.operatorList.lastChunk=!0;for(const R of D.renderTasks)R.operatorListChanged();this._tryCleanup()}if(D.displayReadyCapability)D.displayReadyCapability.reject(V);else{if(!D.opListReadCapability)throw V;D.opListReadCapability.reject(V)}}})};Y()}_abortOperatorList({intentState:a,reason:F,force:e=!1}){if(a.streamReader){if(!e){if(a.renderTasks.size>0)return;if(F instanceof _display_utils.RenderingCancelledException)return void(a.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:a,reason:F,force:!0}),a.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(a.streamReader.cancel(new _util.AbortException(F.message)).catch(()=>{}),a.streamReader=null,!this._transport.destroyed){for(const[T,D]of this._intentStates)if(D===a){this._intentStates.delete(T);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(a,F){const e={data:structuredClone(a,F)};this._deferred.then(()=>{for(const T of this._listeners)T.call(this,e)})}addEventListener(a,F){this._listeners.push(F)}removeEventListener(a,F){const e=this._listeners.indexOf(F);this._listeners.splice(e,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const q=document?.currentScript?.src;q&&(PDFWorkerUtil.fallbackWorkerSrc=q.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.createCDNWrapper=function(q){return URL.createObjectURL(new Blob([`importScripts("${q}");`]))};class _PDFWorker{static get _workerPorts(){return(0,_util.shadow)(this,"_workerPorts",new WeakMap)}constructor({name:q=null,port:a=null,verbosity:F=(0,_util.getVerbosityLevel)()}={}){if(a&&_PDFWorker._workerPorts.has(a))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=q,this.destroyed=!1,this.verbosity=F,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,a)return _PDFWorker._workerPorts.set(a,this),void this._initializeFromPort(a);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(q){this._port=q,this._messageHandler=new _message_handler.MessageHandler("main","worker",q),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let q=_PDFWorker.workerSrc;try{(0,_util.isSameOrigin)(window.location.href,q)||(q=PDFWorkerUtil.createCDNWrapper(new URL(q,window.location).href));const a=new Worker(q),F=new _message_handler.MessageHandler("main","worker",a),e=()=>{a.removeEventListener("error",T),F.destroy(),a.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},T=()=>{this._webWorker||e()};a.addEventListener("error",T),F.on("test",Y=>{a.removeEventListener("error",T),this.destroyed?e():Y?(this._messageHandler=F,this._port=a,this._webWorker=a,this._readyCapability.resolve(),F.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),F.destroy(),a.terminate())}),F.on("ready",Y=>{if(a.removeEventListener("error",T),this.destroyed)e();else try{D()}catch{this._setupFakeWorker()}});const D=()=>{const Y=new Uint8Array([255]);try{F.send("test",Y,[Y.buffer])}catch{(0,_util.warn)("Cannot use postMessage transfers."),Y[0]=0,F.send("test",Y)}};return void D()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(q=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const a=new LoopbackPort;this._port=a;const F="fake"+PDFWorkerUtil.fakeWorkerId++,e=new _message_handler.MessageHandler(F+"_worker",F,a);q.setup(e,a);const T=new _message_handler.MessageHandler(F,F+"_worker",a);this._messageHandler=T,this._readyCapability.resolve(),T.send("configure",{verbosity:this.verbosity})}).catch(q=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${q.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_PDFWorker._workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(q){if(!q?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this._workerPorts.has(q.port)?this._workerPorts.get(q.port):new _PDFWorker(q)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function q(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=_PDFWorker,_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(a,F,e,T){_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=a,this.loadingTask=F,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:F.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:T.ownerDocument,styleElement:T.styleElement}),this._params=T,T.useWorkerFetch||(this.CMapReaderFactory=new T.CMapReaderFactory({baseUrl:T.cMapUrl,isCompressed:T.cMapPacked}),this.StandardFontDataFactory=new T.StandardFontDataFactory({baseUrl:T.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=e,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(this,_docStats)}getRenderingIntent(a,F=_util.AnnotationMode.ENABLE,e=!1){let T=_util.RenderingIntentFlag.DISPLAY,D="";switch(a){case"any":T=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":T=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${a}`)}switch(F){case _util.AnnotationMode.DISABLE:T+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:T+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:T+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,D=this.annotationStorage.lastModified;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${F}`)}return e&&(T+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:T,cacheKey:`${T}_${D}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const a=[];for(const e of _classPrivateFieldGet(this,_pageCache).values())a.push(e._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const F=this.messageHandler.sendWithPromise("Terminate",null);return a.push(F),Promise.all(a).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:a,loadingTask:F}=this;a.on("GetReader",(e,T)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=D=>{this._lastProgress={loaded:D.loaded,total:D.total}},T.onPull=()=>{this._fullReader.read().then(function({value:D,done:Y}){Y?T.close():((0,_util.assert)((0,_util.isArrayBuffer)(D),"GetReader - expected an ArrayBuffer."),T.enqueue(new Uint8Array(D),1,[D]))}).catch(D=>{T.error(D)})},T.onCancel=D=>{this._fullReader.cancel(D),T.ready.catch(Y=>{if(!this.destroyed)throw Y})}}),a.on("ReaderHeadersReady",e=>{const T=(0,_util.createPromiseCapability)(),D=this._fullReader;return D.headersReady.then(()=>{(!D.isStreamingSupported||!D.isRangeSupported)&&(this._lastProgress&&F.onProgress?.(this._lastProgress),D.onProgress=Y=>{F.onProgress?.({loaded:Y.loaded,total:Y.total})}),T.resolve({isStreamingSupported:D.isStreamingSupported,isRangeSupported:D.isRangeSupported,contentLength:D.contentLength})},T.reject),T.promise}),a.on("GetRangeReader",(e,T)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const D=this._networkStream.getRangeReader(e.begin,e.end);D?(T.onPull=()=>{D.read().then(function({value:Y,done:V}){V?T.close():((0,_util.assert)((0,_util.isArrayBuffer)(Y),"GetRangeReader - expected an ArrayBuffer."),T.enqueue(new Uint8Array(Y),1,[Y]))}).catch(Y=>{T.error(Y)})},T.onCancel=Y=>{D.cancel(Y),T.ready.catch(V=>{if(!this.destroyed)throw V})}):T.close()}),a.on("GetDoc",({pdfInfo:e})=>{this._numPages=e.numPages,this._htmlForXfa=e.htmlForXfa,delete e.htmlForXfa,F._capability.resolve(new PDFDocumentProxy(e,this))}),a.on("DocException",function(e){let T;switch(e.name){case"PasswordException":T=new _util.PasswordException(e.message,e.code);break;case"InvalidPDFException":T=new _util.InvalidPDFException(e.message);break;case"MissingPDFException":T=new _util.MissingPDFException(e.message);break;case"UnexpectedResponseException":T=new _util.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":T=new _util.UnknownErrorException(e.message,e.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}F._capability.reject(T)}),a.on("PasswordRequest",e=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),F.onPassword){const T=D=>{D instanceof Error?this._passwordCapability.reject(D):this._passwordCapability.resolve({password:D})};try{F.onPassword(T,e.code)}catch(D){this._passwordCapability.reject(D)}}else this._passwordCapability.reject(new _util.PasswordException(e.message,e.code));return this._passwordCapability.promise}),a.on("DataLoaded",e=>{F.onProgress?.({loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)}),a.on("StartRenderPage",e=>{this.destroyed||_classPrivateFieldGet(this,_pageCache).get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)}),a.on("commonobj",([e,T,D])=>{if(!this.destroyed&&!this.commonObjs.has(e))switch(T){case"Font":const Y=this._params;if("error"in D){const _=D.error;(0,_util.warn)(`Error during font loading: ${_}`),this.commonObjs.resolve(e,_);break}let V=null;Y.pdfBug&&globalThis.FontInspector?.enabled&&(V={registerFont(_,L){globalThis.FontInspector.fontAdded(_,L)}});const R=new _font_loader.FontFaceObject(D,{isEvalSupported:Y.isEvalSupported,disableFontFace:Y.disableFontFace,ignoreErrors:Y.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:V});this.fontLoader.bind(R).catch(_=>a.sendWithPromise("FontFallback",{id:e})).finally(()=>{!Y.fontExtraProperties&&R.data&&(R.data=null),this.commonObjs.resolve(e,R)});break;case"FontPath":case"Image":this.commonObjs.resolve(e,D);break;default:throw new Error(`Got unknown common object type ${T}`)}}),a.on("obj",([e,T,D,Y])=>{if(this.destroyed)return;const V=_classPrivateFieldGet(this,_pageCache).get(T);if(!V.objs.has(e))switch(D){case"Image":V.objs.resolve(e,Y),Y?.data?.length>8e6&&(V.cleanupAfterRender=!0);break;case"Pattern":V.objs.resolve(e,Y);break;default:throw new Error(`Got unknown object type ${D}`)}}),a.on("DocProgress",e=>{this.destroyed||F.onProgress?.({loaded:e.loaded,total:e.total})}),a.on("DocStats",e=>{this.destroyed||_classPrivateFieldSet(this,_docStats,Object.freeze({streamTypes:Object.freeze(e.streamTypes),fontTypes:Object.freeze(e.fontTypes)}))}),a.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),a.on("FetchBuiltInCMap",e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(e):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),a.on("FetchStandardFontData",e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(e):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:a}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(a)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(a){if(!Number.isInteger(a)||a<=0||a>this._numPages)return Promise.reject(new Error("Invalid page request."));const F=a-1,e=_classPrivateFieldGet(this,_pagePromises).get(F);if(e)return e;const T=this.messageHandler.sendWithPromise("GetPage",{pageIndex:F}).then(D=>{if(this.destroyed)throw new Error("Transport destroyed");const Y=new PDFPageProxy(F,D,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(F,Y),Y});return _classPrivateFieldGet(this,_pagePromises).set(F,T),T}getPageIndex(a){return"object"!=typeof a||null===a||!Number.isInteger(a.num)||a.num<0||!Number.isInteger(a.gen)||a.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:a.num,gen:a.gen})}getAnnotations(a,F){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:F})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(a){return"string"!=typeof a?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:a})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(a){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:a})}getStructTree(a){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:a})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(a=>new _optional_content_config.OptionalContentConfig(a))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(a=>({info:a[0],metadata:a[1]?new _metadata.Metadata(a[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(a=!1){var F=this;return _asyncToGenerator(function*(){if(yield F.messageHandler.sendWithPromise("Cleanup",null),!F.destroyed){for(const e of _classPrivateFieldGet(F,_pageCache).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);F.commonObjs.clear(),a||F.fontLoader.clear(),_classPrivateFieldSet(F,_metadataPromise,null),F._getFieldObjectsPromise=null,F._hasJSActionsPromise=null}})()}get loadingParams(){const a=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:a.disableAutoFetch,enableXfa:a.enableXfa})}}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(a,F=null){if(F){const T=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,a);return T.capability.promise.then(()=>F(T.data)),null}const e=_classPrivateFieldGet(this,_objs)[a];if(!e?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${a}.`);return e.data}has(a){return _classPrivateFieldGet(this,_objs)[a]?.capability.settled||!1}resolve(a,F=null){const e=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,a);e.data=F,e.capability.resolve()}clear(){_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(q){return _classPrivateFieldGet(this,_objs)[q]||(_classPrivateFieldGet(this,_objs)[q]={capability:(0,_util.createPromiseCapability)(),data:null})}class RenderTask{constructor(a){this._internalRenderTask=a,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{static get canvasInUse(){return(0,_util.shadow)(this,"canvasInUse",new WeakSet)}constructor({callback:a,params:F,objs:e,commonObjs:T,annotationCanvasMap:D,operatorList:Y,pageIndex:V,canvasFactory:R,useRequestAnimationFrame:_=!1,pdfBug:L=!1}){this.callback=a,this.params=F,this.objs=e,this.commonObjs=T,this.annotationCanvasMap=D,this.operatorListIdx=null,this.operatorList=Y,this._pageIndex=V,this.canvasFactory=R,this._pdfBug=L,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===_&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=F.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:a=!1,optionalContentConfig:F}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.canvasInUse.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.canvasInUse.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:e,viewport:T,transform:D,imageLayer:Y,background:V}=this.params;this.gfx=new _canvas.CanvasGraphics(e,this.commonObjs,this.objs,this.canvasFactory,Y,F,this.annotationCanvasMap),this.gfx.beginDrawing({transform:D,viewport:T,transparency:a,background:V}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(a=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.canvasInUse.delete(this._canvas),this.callback(a||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var a=this;return _asyncToGenerator(function*(){a.cancelled||(a.operatorListIdx=a.gfx.executeOperatorList(a.operatorList,a.operatorListIdx,a._continueBound,a.stepper),a.operatorListIdx===a.operatorList.argsArray.length&&(a.running=!1,a.operatorList.lastChunk&&(a.gfx.endDrawing(),a._canvas&&InternalRenderTask.canvasInUse.delete(a._canvas),a.callback())))})()}}const version="2.13.216";exports.version=version;const build="399a0ec60";exports.build=build},(q,a,F)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.StatTimer=a.RenderingCancelledException=a.PixelsPerInch=a.PageViewport=a.PDFDateString=a.DOMStandardFontDataFactory=a.DOMSVGFactory=a.DOMCanvasFactory=a.DOMCMapReaderFactory=void 0,a.deprecated=function n(A){console.log("Deprecated API usage: "+A)},a.getFilenameFromUrl=function k(A){const h=A.indexOf("#"),r=A.indexOf("?"),v=Math.min(h>0?h:A.length,r>0?r:A.length);return A.substring(A.lastIndexOf("/",v)+1,v)},a.getPdfFilenameFromUrl=function O(A,h="document.pdf"){if("string"!=typeof A)return h;if(b(A))return(0,T.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),h;const v=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,C=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(A);let N=v.exec(C[1])||v.exec(C[2])||v.exec(C[3]);if(N&&(N=N[0],N.includes("%")))try{N=v.exec(decodeURIComponent(N))[0]}catch{}return N||h},a.getXfaPageViewport=function d(A,{scale:h=1,rotation:r=0}){const{width:v,height:C}=A.attributes.style,N=[0,0,parseInt(v),parseInt(C)];return new B({viewBox:N,scale:h,rotation:r})},a.isDataScheme=b,a.isPdfFile=function m(A){return"string"==typeof A&&/\.pdf$/i.test(A)},a.isValidFetchUrl=w,a.loadScript=function i(A,h=!1){return new Promise((r,v)=>{const C=document.createElement("script");C.src=A,C.onload=function(N){h&&C.remove(),r(N)},C.onerror=function(){v(new Error(`Cannot load script at: ${C.src}`))},(document.head||document.documentElement).appendChild(C)})};var e=F(6),T=F(1);class Y{}function R(A){return _.apply(this,arguments)}function _(){return(_=_asyncToGenerator(function*(A,h=!1){if(w(A,document.baseURI)){const r=yield fetch(A);if(!r.ok)throw new Error(r.statusText);return h?new Uint8Array(yield r.arrayBuffer()):(0,T.stringToBytes)(yield r.text())}return new Promise((r,v)=>{const C=new XMLHttpRequest;C.open("GET",A,!0),h&&(C.responseType="arraybuffer"),C.onreadystatechange=()=>{if(C.readyState===XMLHttpRequest.DONE){if(200===C.status||0===C.status){let N;if(h&&C.response?N=new Uint8Array(C.response):!h&&C.responseText&&(N=(0,T.stringToBytes)(C.responseText)),N)return void r(N)}v(new Error(C.statusText))}},C.send(null)})})).apply(this,arguments)}_defineProperty(Y,"CSS",96),_defineProperty(Y,"PDF",72),_defineProperty(Y,"PDF_TO_CSS_UNITS",Y.CSS/Y.PDF),a.PixelsPerInch=Y,a.DOMCanvasFactory=class V extends e.BaseCanvasFactory{constructor({ownerDocument:h=globalThis.document}={}){super(),this._document=h}_createCanvas(h,r){const v=this._document.createElement("canvas");return v.width=h,v.height=r,v}},a.DOMCMapReaderFactory=class L extends e.BaseCMapReaderFactory{_fetchData(h,r){return R(h,this.isCompressed).then(v=>({cMapData:v,compressionType:r}))}},a.DOMStandardFontDataFactory=class I extends e.BaseStandardFontDataFactory{_fetchData(h){return R(h,!0)}},a.DOMSVGFactory=class j extends e.BaseSVGFactory{_createSVG(h){return document.createElementNS("http://www.w3.org/2000/svg",h)}};class B{constructor({viewBox:h,scale:r,rotation:v,offsetX:C=0,offsetY:N=0,dontFlip:H=!1}){this.viewBox=h,this.scale=r,this.rotation=v,this.offsetX=C,this.offsetY=N;const G=(h[2]+h[0])/2,K=(h[3]+h[1])/2;let P,l,s,g,c,t,o,p;switch((v%=360)<0&&(v+=360),v){case 180:P=-1,l=0,s=0,g=1;break;case 90:P=0,l=1,s=1,g=0;break;case 270:P=0,l=-1,s=-1,g=0;break;case 0:P=1,l=0,s=0,g=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}H&&(s=-s,g=-g),0===P?(c=Math.abs(K-h[1])*r+C,t=Math.abs(G-h[0])*r+N,o=Math.abs(h[3]-h[1])*r,p=Math.abs(h[2]-h[0])*r):(c=Math.abs(G-h[0])*r+C,t=Math.abs(K-h[1])*r+N,o=Math.abs(h[2]-h[0])*r,p=Math.abs(h[3]-h[1])*r),this.transform=[P*r,l*r,s*r,g*r,c-P*r*G-s*r*K,t-l*r*G-g*r*K],this.width=o,this.height=p}clone({scale:h=this.scale,rotation:r=this.rotation,offsetX:v=this.offsetX,offsetY:C=this.offsetY,dontFlip:N=!1}={}){return new B({viewBox:this.viewBox.slice(),scale:h,rotation:r,offsetX:v,offsetY:C,dontFlip:N})}convertToViewportPoint(h,r){return T.Util.applyTransform([h,r],this.transform)}convertToViewportRectangle(h){const r=T.Util.applyTransform([h[0],h[1]],this.transform),v=T.Util.applyTransform([h[2],h[3]],this.transform);return[r[0],r[1],v[0],v[1]]}convertToPdfPoint(h,r){return T.Util.applyInverseTransform([h,r],this.transform)}}function b(A){const h=A.length;let r=0;for(;r<h&&""===A[r].trim();)r++;return"data:"===A.substring(r,r+5).toLowerCase()}function w(A,h){try{const{protocol:r}=h?new URL(A,h):new URL(A);return"http:"===r||"https:"===r}catch{return!1}}let f;a.PageViewport=B,a.RenderingCancelledException=class U extends T.BaseException{constructor(h,r){super(h,"RenderingCancelledException"),this.type=r}},a.StatTimer=class S{constructor(){this.started=Object.create(null),this.times=[]}time(h){h in this.started&&(0,T.warn)(`Timer is already running for ${h}`),this.started[h]=Date.now()}timeEnd(h){h in this.started||(0,T.warn)(`Timer has not been started for ${h}`),this.times.push({name:h,start:this.started[h],end:Date.now()}),delete this.started[h]}toString(){const h=[];let r=0;for(const v of this.times){const C=v.name;C.length>r&&(r=C.length)}for(const v of this.times){const C=v.end-v.start;h.push(`${v.name.padEnd(r)} ${C}ms\n`)}return h.join("")}},a.PDFDateString=class E{static toDateObject(h){if(!h||"string"!=typeof h)return null;f||(f=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const r=f.exec(h);if(!r)return null;const v=parseInt(r[1],10);let C=parseInt(r[2],10);C=C>=1&&C<=12?C-1:0;let N=parseInt(r[3],10);N=N>=1&&N<=31?N:1;let H=parseInt(r[4],10);H=H>=0&&H<=23?H:0;let G=parseInt(r[5],10);G=G>=0&&G<=59?G:0;let K=parseInt(r[6],10);K=K>=0&&K<=59?K:0;const P=r[7]||"Z";let l=parseInt(r[8],10);l=l>=0&&l<=23?l:0;let s=parseInt(r[9],10)||0;return s=s>=0&&s<=59?s:0,"-"===P?(H+=l,G+=s):"+"===P&&(H-=l,G-=s),new Date(Date.UTC(v,C,N,H,G,K))}}},(q,a,F)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BaseStandardFontDataFactory=a.BaseSVGFactory=a.BaseCanvasFactory=a.BaseCMapReaderFactory=void 0;var e=F(1);class T{constructor(){this.constructor===T&&(0,e.unreachable)("Cannot initialize BaseCanvasFactory.")}create(_,L){if(_<=0||L<=0)throw new Error("Invalid canvas size");const I=this._createCanvas(_,L);return{canvas:I,context:I.getContext("2d")}}reset(_,L,I){if(!_.canvas)throw new Error("Canvas is not specified");if(L<=0||I<=0)throw new Error("Invalid canvas size");_.canvas.width=L,_.canvas.height=I}destroy(_){if(!_.canvas)throw new Error("Canvas is not specified");_.canvas.width=0,_.canvas.height=0,_.canvas=null,_.context=null}_createCanvas(_,L){(0,e.unreachable)("Abstract method `_createCanvas` called.")}}a.BaseCanvasFactory=T;class D{constructor({baseUrl:_=null,isCompressed:L=!1}){this.constructor===D&&(0,e.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=_,this.isCompressed=L}fetch({name:_}){var L=this;return _asyncToGenerator(function*(){if(!L.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!_)throw new Error("CMap name must be specified.");const I=L.baseUrl+_+(L.isCompressed?".bcmap":"");return L._fetchData(I,L.isCompressed?e.CMapCompressionType.BINARY:e.CMapCompressionType.NONE).catch(B=>{throw new Error(`Unable to load ${L.isCompressed?"binary ":""}CMap at: ${I}`)})})()}_fetchData(_,L){(0,e.unreachable)("Abstract method `_fetchData` called.")}}a.BaseCMapReaderFactory=D;class Y{constructor({baseUrl:_=null}){this.constructor===Y&&(0,e.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=_}fetch({filename:_}){var L=this;return _asyncToGenerator(function*(){if(!L.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!_)throw new Error("Font filename must be specified.");const I=`${L.baseUrl}${_}`;return L._fetchData(I).catch(j=>{throw new Error(`Unable to load font data at: ${I}`)})})()}_fetchData(_){(0,e.unreachable)("Abstract method `_fetchData` called.")}}a.BaseStandardFontDataFactory=Y;class V{constructor(){this.constructor===V&&(0,e.unreachable)("Cannot initialize BaseSVGFactory.")}create(_,L){if(_<=0||L<=0)throw new Error("Invalid SVG dimensions");const I=this._createSVG("svg:svg");return I.setAttribute("version","1.1"),I.setAttribute("width",`${_}px`),I.setAttribute("height",`${L}px`),I.setAttribute("preserveAspectRatio","none"),I.setAttribute("viewBox",`0 0 ${_} ${L}`),I}createElement(_){if("string"!=typeof _)throw new Error("Invalid SVG element type");return this._createSVG(_)}_createSVG(_){(0,e.unreachable)("Abstract method `_createSVG` called.")}}a.BaseSVGFactory=V},(q,a,F)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.FontLoader=a.FontFaceObject=void 0;var e=F(1);class T{constructor({docId:R,onUnsupportedFeature:_,ownerDocument:L=globalThis.document,styleElement:I=null}){this.constructor===T&&(0,e.unreachable)("Cannot initialize BaseFontLoader."),this.docId=R,this._onUnsupportedFeature=_,this._document=L,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(R){this.nativeFontFaces.push(R),this._document.fonts.add(R)}insertRule(R){let _=this.styleElement;_||(_=this.styleElement=this._document.createElement("style"),_.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(_));const L=_.sheet;L.insertRule(R,L.cssRules.length)}clear(){for(const R of this.nativeFontFaces)this._document.fonts.delete(R);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(R){var _=this;return _asyncToGenerator(function*(){if(R.attached||R.missingFile)return;if(R.attached=!0,_.isFontLoadingAPISupported){const I=R.createNativeFontFace();if(I){_.addNativeFontFace(I);try{yield I.loaded}catch(j){throw _._onUnsupportedFeature({featureId:e.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,e.warn)(`Failed to load font '${I.family}': '${j}'.`),R.disableFontFace=!0,j}}return}const L=R.createFontFaceRule();if(L){if(_.insertRule(L),_.isSyncFontLoadingSupported)return;yield new Promise(I=>{const j=_._queueLoadingCallback(I);_._prepareFontLoadEvent([L],[R],j)})}})()}_queueLoadingCallback(R){(0,e.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,e.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,e.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,e.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(R,_,L){(0,e.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let D;a.FontLoader=D,a.FontLoader=D=class extends T{constructor(R){super(R),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let R=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(R=!0),(0,e.shadow)(this,"isSyncFontLoadingSupported",R)}_queueLoadingCallback(R){const L=this.loadingContext,I={id:"pdfjs-font-loading-"+L.nextRequestId++,done:!1,complete:function _(){for((0,e.assert)(!I.done,"completeRequest() cannot be called twice."),I.done=!0;L.requests.length>0&&L.requests[0].done;){const j=L.requests.shift();setTimeout(j.callback,0)}},callback:R};return L.requests.push(I),I}get _loadTestFont(){return(0,e.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(R,_,L){function I(v,C){return v.charCodeAt(C)<<24|v.charCodeAt(C+1)<<16|v.charCodeAt(C+2)<<8|255&v.charCodeAt(C+3)}function j(v,C,N,H){return v.substring(0,C)+H+v.substring(C+N)}let B,U;const b=this._document.createElement("canvas");b.width=1,b.height=1;const m=b.getContext("2d");let k=0;const S=`lt${Date.now()}${this.loadTestFontId++}`;let w=this._loadTestFont;w=j(w,976,S.length,S);const f=1482184792;let E=I(w,16);for(B=0,U=S.length-3;B<U;B+=4)E=E-f+I(S,B)|0;B<S.length&&(E=E-f+I(S+"XXX",B)|0),w=j(w,16,4,(0,e.string32)(E));const d=`url(data:font/opentype;base64,${btoa(w)});`;this.insertRule(`@font-face {font-family:"${S}";src:${d}}`);const h=[];for(const v of _)h.push(v.loadedName);h.push(S);const r=this._document.createElement("div");r.style.visibility="hidden",r.style.width=r.style.height="10px",r.style.position="absolute",r.style.top=r.style.left="0px";for(const v of h){const C=this._document.createElement("span");C.textContent="Hi",C.style.fontFamily=v,r.appendChild(C)}this._document.body.appendChild(r),function O(v,C){if(k++,k>30)return(0,e.warn)("Load test font never loaded."),void C();m.font="30px "+v,m.fillText(".",0,20),m.getImageData(0,0,1,1).data[3]>0?C():setTimeout(O.bind(null,v,C))}(S,()=>{r.remove(),L.complete()})}},a.FontFaceObject=class Y{constructor(R,{isEvalSupported:_=!0,disableFontFace:L=!1,ignoreErrors:I=!1,onUnsupportedFeature:j,fontRegistry:B=null}){this.compiledGlyphs=Object.create(null);for(const U in R)this[U]=R[U];this.isEvalSupported=!1!==_,this.disableFontFace=!0===L,this.ignoreErrors=!0===I,this._onUnsupportedFeature=j,this.fontRegistry=B}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let R;if(this.cssFontInfo){const _={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(_.style=`oblique ${this.cssFontInfo.italicAngle}deg`),R=new FontFace(this.cssFontInfo.fontFamily,this.data,_)}else R=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),R}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const R=(0,e.bytesToString)(this.data),_=`url(data:${this.mimetype};base64,${btoa(R)});`;let L;if(this.cssFontInfo){let I=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(I+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),L=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${I}src:${_}}`}else L=`@font-face {font-family:"${this.loadedName}";src:${_}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,_),L}getPathGenerator(R,_){if(void 0!==this.compiledGlyphs[_])return this.compiledGlyphs[_];let L;try{L=R.get(this.loadedName+"_path_"+_)}catch(I){if(!this.ignoreErrors)throw I;return this._onUnsupportedFeature({featureId:e.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,e.warn)(`getPathGenerator - ignoring character: "${I}".`),this.compiledGlyphs[_]=function(j,B){}}if(this.isEvalSupported&&e.IsEvalSupportedCached.value){const I=[];for(const j of L){const B=void 0!==j.args?j.args.join(","):"";I.push("c.",j.cmd,"(",B,");\n")}return this.compiledGlyphs[_]=new Function("c","size",I.join(""))}return this.compiledGlyphs[_]=function(I,j){for(const B of L)"scale"===B.cmd&&(B.args=[j,-j]),I[B.cmd].apply(I,B.args)}}}},(q,a,F)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.NodeStandardFontDataFactory=a.NodeCanvasFactory=a.NodeCMapReaderFactory=void 0;var e=F(6),T=F(3),D=F(1);let Y=class{constructor(){(0,D.unreachable)("Not implemented: NodeCanvasFactory")}};a.NodeCanvasFactory=Y;let V=class{constructor(){(0,D.unreachable)("Not implemented: NodeCMapReaderFactory")}};a.NodeCMapReaderFactory=V;let R=class{constructor(){(0,D.unreachable)("Not implemented: NodeStandardFontDataFactory")}};if(a.NodeStandardFontDataFactory=R,T.isNodeJS){const _=function(L){return new Promise((I,j)=>{__webpack_require__(172).readFile(L,(U,b)=>{!U&&b?I(new Uint8Array(b)):j(new Error(U))})})};a.NodeCanvasFactory=Y=class extends e.BaseCanvasFactory{_createCanvas(L,I){return __webpack_require__(3414).createCanvas(L,I)}},a.NodeCMapReaderFactory=V=class extends e.BaseCMapReaderFactory{_fetchData(L,I){return _(L).then(j=>({cMapData:j,compressionType:I}))}},a.NodeStandardFontDataFactory=R=class extends e.BaseStandardFontDataFactory{_fetchData(L){return _(L)}}}},(q,a,F)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AnnotationStorage=void 0;var e=F(1);a.AnnotationStorage=class T{constructor(){this._storage=new Map,this._timeStamp=Date.now(),this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(Y,V){const R=this._storage.get(Y);return void 0===R?V:Object.assign(V,R)}setValue(Y,V){const R=this._storage.get(Y);let _=!1;if(void 0!==R)for(const[L,I]of Object.entries(V))R[L]!==I&&(_=!0,R[L]=I);else _=!0,this._storage.set(Y,V);_&&(this._timeStamp=Date.now(),this._setModified())}getAll(){return this._storage.size>0?(0,e.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get lastModified(){return this._timeStamp.toString()}}},(q,a,F)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CanvasGraphics=void 0;var e=F(1),T=F(11),D=F(5);const R=4096,B=16;function m(P){if(P._transformStack&&(P._transformStack=[]),!P.mozCurrentTransform){P._originalSave=P.save,P._originalRestore=P.restore,P._originalRotate=P.rotate,P._originalScale=P.scale,P._originalTranslate=P.translate,P._originalTransform=P.transform,P._originalSetTransform=P.setTransform,P._originalResetTransform=P.resetTransform,P._transformMatrix=P._transformMatrix||[1,0,0,1,0,0],P._transformStack=[];try{const l=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(P),"lineWidth");P._setLineWidth=l.set,P._getLineWidth=l.get,Object.defineProperty(P,"lineWidth",{set:function(g){this._setLineWidth(1.000001*g)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(P,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(P,"mozCurrentTransformInverse",{get:function(){const[s,g,c,t,o,p]=this._transformMatrix,M=s*t-g*c,y=g*c-s*t;return[t/M,g/y,c/y,s/M,(t*o-c*p)/y,(g*o-s*p)/M]}}),P.save=function(){const s=this._transformMatrix;this._transformStack.push(s),this._transformMatrix=s.slice(0,6),this._originalSave()},P.restore=function(){0===this._transformStack.length&&(0,e.warn)("Tried to restore a ctx when the stack was already empty.");const s=this._transformStack.pop();s&&(this._transformMatrix=s,this._originalRestore())},P.translate=function(s,g){const c=this._transformMatrix;c[4]=c[0]*s+c[2]*g+c[4],c[5]=c[1]*s+c[3]*g+c[5],this._originalTranslate(s,g)},P.scale=function(s,g){const c=this._transformMatrix;c[0]*=s,c[1]*=s,c[2]*=g,c[3]*=g,this._originalScale(s,g)},P.transform=function(s,g,c,t,o,p){const M=this._transformMatrix;this._transformMatrix=[M[0]*s+M[2]*g,M[1]*s+M[3]*g,M[0]*c+M[2]*t,M[1]*c+M[3]*t,M[0]*o+M[2]*p+M[4],M[1]*o+M[3]*p+M[5]],P._originalTransform(s,g,c,t,o,p)},P.setTransform=function(s,g,c,t,o,p){this._transformMatrix=[s,g,c,t,o,p],P._originalSetTransform(s,g,c,t,o,p)},P.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],P._originalResetTransform()},P.rotate=function(s){const g=Math.cos(s),c=Math.sin(s),t=this._transformMatrix;this._transformMatrix=[t[0]*g+t[2]*c,t[1]*g+t[3]*c,t[0]*-c+t[2]*g,t[1]*-c+t[3]*g,t[4],t[5]],this._originalRotate(s)}}}class k{constructor(l){this.canvasFactory=l,this.cache=Object.create(null)}getCanvas(l,s,g,c){let t;return void 0!==this.cache[l]?(t=this.cache[l],this.canvasFactory.reset(t,s,g),t.context.setTransform(1,0,0,1,0,0)):(t=this.canvasFactory.create(s,g),this.cache[l]=t),c&&m(t.context),t}clear(){for(const l in this.cache)this.canvasFactory.destroy(this.cache[l]),delete this.cache[l]}}class S{constructor(l,s){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=e.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=e.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=e.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,l,s])}clone(){const l=Object.create(this);return l.clipBox=this.clipBox.slice(),l}setCurrentPoint(l,s){this.x=l,this.y=s}updatePathMinMax(l,s,g){[s,g]=e.Util.applyTransform([s,g],l),this.minX=Math.min(this.minX,s),this.minY=Math.min(this.minY,g),this.maxX=Math.max(this.maxX,s),this.maxY=Math.max(this.maxY,g)}updateCurvePathMinMax(l,s,g,c,t,o,p,M,y){const u=e.Util.bezierBoundingBox(s,g,c,t,o,p,M,y);this.updatePathMinMax(l,u[0],u[1]),this.updatePathMinMax(l,u[2],u[3])}getPathBoundingBox(l=T.PathType.FILL,s=null){const g=[this.minX,this.minY,this.maxX,this.maxY];if(l===T.PathType.STROKE){s||(0,e.unreachable)("Stroke bounding box must include transform.");const c=e.Util.singularValueDecompose2dScale(s),t=c[0]*this.lineWidth/2,o=c[1]*this.lineWidth/2;g[0]-=t,g[1]-=o,g[2]+=t,g[3]+=o}return g}updateClipFromPath(){const l=e.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(l||[0,0,0,0])}startNewPathAndClipBox(l){this.clipBox=l,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(l=T.PathType.FILL,s=null){return e.Util.intersect(this.clipBox,this.getPathBoundingBox(l,s))}}function w(P,l,s=null){if(typeof ImageData<"u"&&l instanceof ImageData)return void P.putImageData(l,0,0);const g=l.height,c=l.width,t=g%B,o=(g-t)/B,p=0===t?o:o+1,M=P.createImageData(c,B);let u,y=0;const W=l.data,$=M.data;let X,Q,ie,oe,he,de,ae,be;if(s)switch(s.length){case 1:he=s[0],de=s[0],ae=s[0],be=s[0];break;case 4:he=s[0],de=s[1],ae=s[2],be=s[3]}if(l.kind===e.ImageKind.GRAYSCALE_1BPP){const ye=W.byteLength,fe=new Uint32Array($.buffer,0,$.byteLength>>2),_e=fe.length,Ee=c+7>>3;let ee=4294967295,x=e.IsLittleEndianCached.value?4278190080:255;for(be&&255===be[0]&&0===be[255]&&([ee,x]=[x,ee]),X=0;X<p;X++){for(ie=X<o?B:t,u=0,Q=0;Q<ie;Q++){const z=ye-y;let Z=0;const se=z>Ee?c:8*z-7,re=-8&se;let le=0,ce=0;for(;Z<re;Z+=8)ce=W[y++],fe[u++]=128&ce?ee:x,fe[u++]=64&ce?ee:x,fe[u++]=32&ce?ee:x,fe[u++]=16&ce?ee:x,fe[u++]=8&ce?ee:x,fe[u++]=4&ce?ee:x,fe[u++]=2&ce?ee:x,fe[u++]=1&ce?ee:x;for(;Z<se;Z++)0===le&&(ce=W[y++],le=128),fe[u++]=ce&le?ee:x,le>>=1}for(;u<_e;)fe[u++]=0;P.putImageData(M,0,X*B)}}else if(l.kind===e.ImageKind.RGBA_32BPP){const ye=!!(he||de||ae);for(Q=0,oe=c*B*4,X=0;X<o;X++){if($.set(W.subarray(y,y+oe)),y+=oe,ye)for(let fe=0;fe<oe;fe+=4)he&&($[fe+0]=he[$[fe+0]]),de&&($[fe+1]=de[$[fe+1]]),ae&&($[fe+2]=ae[$[fe+2]]);P.putImageData(M,0,Q),Q+=B}if(X<p){if(oe=c*t*4,$.set(W.subarray(y,y+oe)),ye)for(let fe=0;fe<oe;fe+=4)he&&($[fe+0]=he[$[fe+0]]),de&&($[fe+1]=de[$[fe+1]]),ae&&($[fe+2]=ae[$[fe+2]]);P.putImageData(M,0,Q)}}else{if(l.kind!==e.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${l.kind}`);{const ye=!!(he||de||ae);for(ie=B,oe=c*ie,X=0;X<p;X++){for(X>=o&&(ie=t,oe=c*ie),u=0,Q=oe;Q--;)$[u++]=W[y++],$[u++]=W[y++],$[u++]=W[y++],$[u++]=255;if(ye)for(let fe=0;fe<u;fe+=4)he&&($[fe+0]=he[$[fe+0]]),de&&($[fe+1]=de[$[fe+1]]),ae&&($[fe+2]=ae[$[fe+2]]);P.putImageData(M,0,X*B)}}}}function i(P,l){const s=l.height,g=l.width,c=s%B,t=(s-c)/B,o=0===c?t:t+1,p=P.createImageData(g,B);let M=0;const y=l.data,u=p.data;for(let W=0;W<o;W++){const $=W<t?B:c;let X=3;for(let Q=0;Q<$;Q++){let ie,oe=0;for(let he=0;he<g;he++)oe||(ie=y[M++],oe=128),u[X]=ie&oe?0:255,X+=4,oe>>=1}P.putImageData(p,0,W*B)}}function n(P,l){const s=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let g=0,c=s.length;g<c;g++){const t=s[g];void 0!==P[t]&&(l[t]=P[t])}void 0!==P.setLineDash&&(l.setLineDash(P.getLineDash()),l.lineDashOffset=P.lineDashOffset)}function f(P){P.strokeStyle="#000000",P.fillStyle="#000000",P.fillRule="nonzero",P.globalAlpha=1,P.lineWidth=1,P.lineCap="butt",P.lineJoin="miter",P.miterLimit=10,P.globalCompositeOperation="source-over",P.font="10px sans-serif",void 0!==P.setLineDash&&(P.setLineDash([]),P.lineDashOffset=0)}function E(P,l,s,g){const c=P.length;for(let t=3;t<c;t+=4){const o=P[t];if(0===o)P[t-3]=l,P[t-2]=s,P[t-1]=g;else if(o<255){const p=255-o;P[t-3]=P[t-3]*o+l*p>>8,P[t-2]=P[t-2]*o+s*p>>8,P[t-1]=P[t-1]*o+g*p>>8}}}function d(P,l,s){const g=P.length;for(let t=3;t<g;t+=4)l[t]=l[t]*(s?s[P[t]]:P[t])*.00392156862745098|0}function A(P,l,s){const g=P.length;for(let c=3;c<g;c+=4){const t=77*P[c-3]+152*P[c-2]+28*P[c-1];l[c]=s?l[c]*s[t>>8]>>8:l[c]*t>>16}}function v(P,l){const s=e.Util.singularValueDecompose2dScale(P);s[0]=Math.fround(s[0]),s[1]=Math.fround(s[1]);const g=Math.fround((globalThis.devicePixelRatio||1)*D.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==l?l:s[0]<=g||s[1]<=g}const C=["butt","round","square"],N=["miter","round","bevel"],H={},G={};class K{constructor(l,s,g,c,t,o,p){this.ctx=l,this.current=new S(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=s,this.objs=g,this.canvasFactory=c,this.imageLayer=t,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=o,this.cachedCanvases=new k(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=p,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,l&&m(l),this._cachedGetSinglePixelWidth=null}beginDrawing({transform:l,viewport:s,transparency:g=!1,background:c=null}){const t=this.ctx.canvas.width,o=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=c||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,t,o),this.ctx.restore(),g){const p=this.cachedCanvases.getCanvas("transparent",t,o,!0);this.compositeCtx=this.ctx,this.transparentCanvas=p.canvas,this.ctx=p.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),f(this.ctx),l&&(this.ctx.transform.apply(this.ctx,l),this.outputScaleX=l[0],this.outputScaleY=l[0]),this.ctx.transform.apply(this.ctx,s.transform),this.viewportScale=s.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(l,s,g,c){const t=l.argsArray,o=l.fnArray;let p=s||0;const M=t.length;if(M===p)return p;const y=M-p>10&&"function"==typeof g,u=y?Date.now()+15:0;let W=0;const $=this.commonObjs,X=this.objs;let Q;for(;;){if(void 0!==c&&p===c.nextBreakPoint)return c.breakIt(p,g),p;if(Q=o[p],Q!==e.OPS.dependency)this[Q].apply(this,t[p]);else for(const ie of t[p]){const oe=ie.startsWith("g_")?$:X;if(!oe.has(ie))return oe.get(ie,g),p}if(p++,p===M)return p;if(y&&++W>10){if(Date.now()>u)return g(),p;W=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(l,s){const g=l.width,c=l.height;let u,W,t=Math.max(Math.hypot(s[0],s[1]),1),o=Math.max(Math.hypot(s[2],s[3]),1),p=g,M=c,y="prescale1";for(;t>2&&p>1||o>2&&M>1;){let $=p,X=M;t>2&&p>1&&($=Math.ceil(p/2),t/=p/$),o>2&&M>1&&(X=Math.ceil(M/2),o/=M/X),u=this.cachedCanvases.getCanvas(y,$,X),W=u.context,W.clearRect(0,0,$,X),W.drawImage(l,0,0,p,M,0,0,$,X),l=u.canvas,p=$,M=X,y="prescale1"===y?"prescale2":"prescale1"}return{img:l,paintWidth:p,paintHeight:M}}_createMaskCanvas(l){const s=this.ctx,g=l.width,c=l.height,t=this.current.fillColor,o=this.current.patternFill,p=this.cachedCanvases.getCanvas("maskCanvas",g,c);i(p.context,l);let u=e.Util.transform(s.mozCurrentTransform,[1/g,0,0,-1/c,0,0]);u=e.Util.transform(u,[1,0,0,1,0,-c]);const W=e.Util.applyTransform([0,0],u),$=e.Util.applyTransform([g,c],u),X=e.Util.normalizeRect([W[0],W[1],$[0],$[1]]),Q=Math.ceil(X[2]-X[0]),ie=Math.ceil(X[3]-X[1]),oe=this.cachedCanvases.getCanvas("fillCanvas",Q,ie,!0),he=oe.context,de=Math.min(W[0],$[0]),ae=Math.min(W[1],$[1]);he.translate(-de,-ae),he.transform.apply(he,u);const be=this._scaleImage(p.canvas,he.mozCurrentTransformInverse);he.imageSmoothingEnabled=v(he.mozCurrentTransform,l.interpolate),he.drawImage(be.img,0,0,be.img.width,be.img.height,0,0,g,c),he.globalCompositeOperation="source-in";const ye=e.Util.transform(he.mozCurrentTransformInverse,[1,0,0,1,-de,-ae]);return he.fillStyle=o?t.getPattern(s,this,ye,T.PathType.FILL):t,he.fillRect(0,0,g,c),{canvas:oe.canvas,offsetX:Math.round(de),offsetY:Math.round(ae)}}setLineWidth(l){this.current.lineWidth=l,this.ctx.lineWidth=l}setLineCap(l){this.ctx.lineCap=C[l]}setLineJoin(l){this.ctx.lineJoin=N[l]}setMiterLimit(l){this.ctx.miterLimit=l}setDash(l,s){const g=this.ctx;void 0!==g.setLineDash&&(g.setLineDash(l),g.lineDashOffset=s)}setRenderingIntent(l){}setFlatness(l){}setGState(l){for(let s=0,g=l.length;s<g;s++){const c=l[s],o=c[1];switch(c[0]){case"LW":this.setLineWidth(o);break;case"LC":this.setLineCap(o);break;case"LJ":this.setLineJoin(o);break;case"ML":this.setMiterLimit(o);break;case"D":this.setDash(o[0],o[1]);break;case"RI":this.setRenderingIntent(o);break;case"FL":this.setFlatness(o);break;case"Font":this.setFont(o[0],o[1]);break;case"CA":this.current.strokeAlpha=c[1];break;case"ca":this.current.fillAlpha=c[1],this.ctx.globalAlpha=c[1];break;case"BM":this.ctx.globalCompositeOperation=o;break;case"SMask":this.current.activeSMask=o?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=o}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const l=this.inSMaskMode;this.current.activeSMask&&!l?this.beginSMaskMode():!this.current.activeSMask&&l&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const c=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=c.context;const t=this.ctx;t.setTransform.apply(t,this.suspendedCtx.mozCurrentTransform),n(this.suspendedCtx,t),function b(P,l){if(P._removeMirroring)throw new Error("Context is already forwarding operations.");P.__originalSave=P.save,P.__originalRestore=P.restore,P.__originalRotate=P.rotate,P.__originalScale=P.scale,P.__originalTranslate=P.translate,P.__originalTransform=P.transform,P.__originalSetTransform=P.setTransform,P.__originalResetTransform=P.resetTransform,P.__originalClip=P.clip,P.__originalMoveTo=P.moveTo,P.__originalLineTo=P.lineTo,P.__originalBezierCurveTo=P.bezierCurveTo,P.__originalRect=P.rect,P.__originalClosePath=P.closePath,P.__originalBeginPath=P.beginPath,P._removeMirroring=()=>{P.save=P.__originalSave,P.restore=P.__originalRestore,P.rotate=P.__originalRotate,P.scale=P.__originalScale,P.translate=P.__originalTranslate,P.transform=P.__originalTransform,P.setTransform=P.__originalSetTransform,P.resetTransform=P.__originalResetTransform,P.clip=P.__originalClip,P.moveTo=P.__originalMoveTo,P.lineTo=P.__originalLineTo,P.bezierCurveTo=P.__originalBezierCurveTo,P.rect=P.__originalRect,P.closePath=P.__originalClosePath,P.beginPath=P.__originalBeginPath,delete P._removeMirroring},P.save=function(){l.save(),this.__originalSave()},P.restore=function(){l.restore(),this.__originalRestore()},P.translate=function(g,c){l.translate(g,c),this.__originalTranslate(g,c)},P.scale=function(g,c){l.scale(g,c),this.__originalScale(g,c)},P.transform=function(g,c,t,o,p,M){l.transform(g,c,t,o,p,M),this.__originalTransform(g,c,t,o,p,M)},P.setTransform=function(g,c,t,o,p,M){l.setTransform(g,c,t,o,p,M),this.__originalSetTransform(g,c,t,o,p,M)},P.resetTransform=function(){l.resetTransform(),this.__originalResetTransform()},P.rotate=function(g){l.rotate(g),this.__originalRotate(g)},P.clip=function(g){l.clip(g),this.__originalClip(g)},P.moveTo=function(s,g){l.moveTo(s,g),this.__originalMoveTo(s,g)},P.lineTo=function(s,g){l.lineTo(s,g),this.__originalLineTo(s,g)},P.bezierCurveTo=function(s,g,c,t,o,p){l.bezierCurveTo(s,g,c,t,o,p),this.__originalBezierCurveTo(s,g,c,t,o,p)},P.rect=function(s,g,c,t){l.rect(s,g,c,t),this.__originalRect(s,g,c,t)},P.closePath=function(){l.closePath(),this.__originalClosePath()},P.beginPath=function(){l.beginPath(),this.__originalBeginPath()}}(t,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),n(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(l){this.current.activeSMask&&(l?(l[0]=Math.floor(l[0]),l[1]=Math.floor(l[1]),l[2]=Math.ceil(l[2]),l[3]=Math.ceil(l[3])):l=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function r(P,l,s,g){const c=g[0],t=g[1],o=g[2]-c,p=g[3]-t;0===o||0===p||(function h(P,l,s,g,c,t,o,p,M,y,u){const W=!!t,$=W?t[0]:0,X=W?t[1]:0,Q=W?t[2]:0;let ie;ie="Luminosity"===c?A:d;const he=Math.min(g,Math.ceil(1048576/s));for(let de=0;de<g;de+=he){const ae=Math.min(he,g-de),be=P.getImageData(p-y,de+(M-u),s,ae),ye=l.getImageData(p,de+M,s,ae);W&&E(be.data,$,X,Q),ie(be.data,ye.data,o),l.putImageData(ye,p,de+M)}}(l.context,s,o,p,l.subtype,l.backdrop,l.transferMap,c,t,l.offsetX,l.offsetY),P.save(),P.globalAlpha=1,P.globalCompositeOperation="source-over",P.setTransform(1,0,0,1,0,0),P.drawImage(s.canvas,0,0),P.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,l),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(n(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const l=this.current;this.stateStack.push(l),this.current=l.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),n(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)}transform(l,s,g,c,t,o){this.ctx.transform(l,s,g,c,t,o),this._cachedGetSinglePixelWidth=null}constructPath(l,s){const g=this.ctx,c=this.current;let p,M,t=c.x,o=c.y;for(let y=0,u=0,W=l.length;y<W;y++)switch(0|l[y]){case e.OPS.rectangle:t=s[u++],o=s[u++];const $=s[u++],X=s[u++],Q=t+$,ie=o+X;g.moveTo(t,o),0===$||0===X?g.lineTo(Q,ie):(g.lineTo(Q,o),g.lineTo(Q,ie),g.lineTo(t,ie)),c.updatePathMinMax(g.mozCurrentTransform,t,o),c.updatePathMinMax(g.mozCurrentTransform,Q,ie),g.closePath();break;case e.OPS.moveTo:t=s[u++],o=s[u++],g.moveTo(t,o),c.updatePathMinMax(g.mozCurrentTransform,t,o);break;case e.OPS.lineTo:t=s[u++],o=s[u++],g.lineTo(t,o),c.updatePathMinMax(g.mozCurrentTransform,t,o);break;case e.OPS.curveTo:p=t,M=o,t=s[u+4],o=s[u+5],g.bezierCurveTo(s[u],s[u+1],s[u+2],s[u+3],t,o),c.updateCurvePathMinMax(g.mozCurrentTransform,p,M,s[u],s[u+1],s[u+2],s[u+3],t,o),u+=6;break;case e.OPS.curveTo2:p=t,M=o,g.bezierCurveTo(t,o,s[u],s[u+1],s[u+2],s[u+3]),c.updateCurvePathMinMax(g.mozCurrentTransform,p,M,t,o,s[u],s[u+1],s[u+2],s[u+3]),t=s[u+2],o=s[u+3],u+=4;break;case e.OPS.curveTo3:p=t,M=o,t=s[u+2],o=s[u+3],g.bezierCurveTo(s[u],s[u+1],t,o,t,o),c.updateCurvePathMinMax(g.mozCurrentTransform,p,M,s[u],s[u+1],t,o,t,o),u+=4;break;case e.OPS.closePath:g.closePath()}c.setCurrentPoint(t,o)}closePath(){this.ctx.closePath()}stroke(l){l=!(typeof l<"u")||l;const s=this.ctx,g=this.current.strokeColor;if(s.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"==typeof g&&g?.getPattern){const c=this.getSinglePixelWidth();s.save(),s.strokeStyle=g.getPattern(s,this,s.mozCurrentTransformInverse,T.PathType.STROKE),s.lineWidth=Math.max(c,this.current.lineWidth),s.stroke(),s.restore()}else{const c=this.getSinglePixelWidth();c<0&&-c>=this.current.lineWidth?(s.save(),s.resetTransform(),s.lineWidth=Math.floor(this._combinedScaleFactor),s.stroke(),s.restore()):(s.lineWidth=Math.max(c,this.current.lineWidth),s.stroke())}l&&this.consumePath(this.current.getClippedPathBoundingBox()),s.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(l){l=!(typeof l<"u")||l;const s=this.ctx,g=this.current.fillColor;let t=!1;this.current.patternFill&&(s.save(),s.fillStyle=g.getPattern(s,this,s.mozCurrentTransformInverse,T.PathType.FILL),t=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==o&&(this.pendingEOFill?(s.fill("evenodd"),this.pendingEOFill=!1):s.fill()),t&&s.restore(),l&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=H}eoClip(){this.pendingClip=G}beginText(){this.current.textMatrix=e.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const l=this.pendingTextPaths,s=this.ctx;if(void 0!==l){s.save(),s.beginPath();for(let g=0;g<l.length;g++){const c=l[g];s.setTransform.apply(s,c.transform),s.translate(c.x,c.y),c.addToPath(s,c.fontSize)}s.restore(),s.clip(),s.beginPath(),delete this.pendingTextPaths}else s.beginPath()}setCharSpacing(l){this.current.charSpacing=l}setWordSpacing(l){this.current.wordSpacing=l}setHScale(l){this.current.textHScale=l/100}setLeading(l){this.current.leading=-l}setFont(l,s){const g=this.commonObjs.get(l),c=this.current;if(!g)throw new Error(`Can't find font for ${l}`);if(c.fontMatrix=g.fontMatrix||e.FONT_IDENTITY_MATRIX,(0===c.fontMatrix[0]||0===c.fontMatrix[3])&&(0,e.warn)("Invalid font matrix for font "+l),s<0?(s=-s,c.fontDirection=-1):c.fontDirection=1,this.current.font=g,this.current.fontSize=s,g.isType3Font)return;let o="normal";g.black?o="900":g.bold&&(o="bold");const p=g.italic?"italic":"normal",M=`"${g.loadedName||"sans-serif"}", ${g.fallbackName}`;let y=s;s<16?y=16:s>100&&(y=100),this.current.fontSizeScale=s/y,this.ctx.font=`${p} ${o} ${y}px ${M}`}setTextRenderingMode(l){this.current.textRenderingMode=l}setTextRise(l){this.current.textRise=l}moveText(l,s){this.current.x=this.current.lineX+=l,this.current.y=this.current.lineY+=s}setLeadingMoveText(l,s){this.setLeading(-s),this.moveText(l,s)}setTextMatrix(l,s,g,c,t,o){this.current.textMatrix=[l,s,g,c,t,o],this.current.textMatrixScale=Math.hypot(l,s),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(l,s,g,c,t){const o=this.ctx,p=this.current,M=p.font,y=p.textRenderingMode,u=p.fontSize/p.fontSizeScale,W=y&e.TextRenderingMode.FILL_STROKE_MASK,$=!!(y&e.TextRenderingMode.ADD_TO_PATH_FLAG),X=p.patternFill&&!M.missingFile;let Q;(M.disableFontFace||$||X)&&(Q=M.getPathGenerator(this.commonObjs,l)),M.disableFontFace||X?(o.save(),o.translate(s,g),o.beginPath(),Q(o,u),c&&o.setTransform.apply(o,c),(W===e.TextRenderingMode.FILL||W===e.TextRenderingMode.FILL_STROKE)&&o.fill(),(W===e.TextRenderingMode.STROKE||W===e.TextRenderingMode.FILL_STROKE)&&(t&&(o.resetTransform(),o.lineWidth=Math.floor(this._combinedScaleFactor)),o.stroke()),o.restore()):((W===e.TextRenderingMode.FILL||W===e.TextRenderingMode.FILL_STROKE)&&o.fillText(l,s,g),(W===e.TextRenderingMode.STROKE||W===e.TextRenderingMode.FILL_STROKE)&&(t?(o.save(),o.moveTo(s,g),o.resetTransform(),o.lineWidth=Math.floor(this._combinedScaleFactor),o.strokeText(l,0,0),o.restore()):o.strokeText(l,s,g))),$&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:o.mozCurrentTransform,x:s,y:g,fontSize:u,addToPath:Q})}get isFontSubpixelAAEnabled(){const{context:l}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);l.scale(1.5,1),l.fillText("I",0,10);const s=l.getImageData(0,0,10,10).data;let g=!1;for(let c=3;c<s.length;c+=4)if(s[c]>0&&s[c]<255){g=!0;break}return(0,e.shadow)(this,"isFontSubpixelAAEnabled",g)}showText(l){const s=this.current,g=s.font;if(g.isType3Font)return this.showType3Text(l);const c=s.fontSize;if(0===c)return;const t=this.ctx,o=s.fontSizeScale,p=s.charSpacing,M=s.wordSpacing,y=s.fontDirection,u=s.textHScale*y,W=l.length,$=g.vertical,X=$?1:-1,Q=g.defaultVMetrics,ie=c*s.fontMatrix[0],oe=s.textRenderingMode===e.TextRenderingMode.FILL&&!g.disableFontFace&&!s.patternFill;let he;if(t.save(),t.transform.apply(t,s.textMatrix),t.translate(s.x,s.y+s.textRise),t.scale(u,y>0?-1:1),s.patternFill){t.save();const _e=s.fillColor.getPattern(t,this,t.mozCurrentTransformInverse,T.PathType.FILL);he=t.mozCurrentTransform,t.restore(),t.fillStyle=_e}let de=s.lineWidth,ae=!1;const be=s.textMatrixScale;if(0===be||0===de){const _e=s.textRenderingMode&e.TextRenderingMode.FILL_STROKE_MASK;(_e===e.TextRenderingMode.STROKE||_e===e.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,de=this.getSinglePixelWidth(),ae=de<0)}else de/=be;1!==o&&(t.scale(o,o),de/=o),t.lineWidth=de;let fe,ye=0;for(fe=0;fe<W;++fe){const _e=l[fe];if("number"==typeof _e){ye+=X*_e*c/1e3;continue}let Ee=!1;const ee=(_e.isSpace?M:0)+p,x=_e.fontChar,z=_e.accent;let Z,se,le,re=_e.width;if($){const ce=_e.vmetric||Q,ue=-(_e.vmetric?ce[1]:.5*re)*ie;re=ce?-ce[0]:re,Z=ue/o,se=(ye+ce[2]*ie)/o}else Z=ye/o,se=0;if(g.remeasure&&re>0){const ce=1e3*t.measureText(x).width/c*o;if(re<ce&&this.isFontSubpixelAAEnabled){const ue=re/ce;Ee=!0,t.save(),t.scale(ue,1),Z/=ue}else re!==ce&&(Z+=(re-ce)/2e3*c/o)}this.contentVisible&&(_e.isInFont||g.missingFile)&&(oe&&!z?t.fillText(x,Z,se):(this.paintChar(x,Z,se,he,ae),z&&this.paintChar(z.fontChar,Z+c*z.offset.x/o,se-c*z.offset.y/o,he,ae))),le=$?re*ie-ee*y:re*ie+ee*y,ye+=le,Ee&&t.restore()}$?s.y-=ye:s.x+=ye*u,t.restore(),this.compose()}showType3Text(l){const s=this.ctx,g=this.current,c=g.font,t=g.fontSize,o=g.fontDirection,p=c.vertical?1:-1,M=g.charSpacing,y=g.wordSpacing,u=g.textHScale*o,W=g.fontMatrix||e.FONT_IDENTITY_MATRIX,$=l.length;let Q,ie,oe,he;if(g.textRenderingMode!==e.TextRenderingMode.INVISIBLE&&0!==t){for(this._cachedGetSinglePixelWidth=null,s.save(),s.transform.apply(s,g.textMatrix),s.translate(g.x,g.y),s.scale(u,o),Q=0;Q<$;++Q){if(ie=l[Q],"number"==typeof ie){he=p*ie*t/1e3,this.ctx.translate(he,0),g.x+=he*u;continue}const de=(ie.isSpace?y:0)+M,ae=c.charProcOperatorList[ie.operatorListId];ae?(this.contentVisible&&(this.processingType3=ie,this.save(),s.scale(t,t),s.transform.apply(s,W),this.executeOperatorList(ae),this.restore()),oe=e.Util.applyTransform([ie.width,0],W)[0]*t+de,s.translate(oe,0),g.x+=oe*u):(0,e.warn)(`Type3 character "${ie.operatorListId}" is not available.`)}s.restore(),this.processingType3=null}}setCharWidth(l,s){}setCharWidthAndBounds(l,s,g,c,t,o){this.ctx.rect(g,c,t-g,o-c),this.clip(),this.endPath()}getColorN_Pattern(l){let s;if("TilingPattern"===l[0]){const g=l[1],c=this.baseTransform||this.ctx.mozCurrentTransform.slice();s=new T.TilingPattern(l,g,this.ctx,{createCanvasGraphics:o=>new K(o,this.commonObjs,this.objs,this.canvasFactory)},c)}else s=this._getPattern(l[1],l[2]);return s}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(l,s,g){const c=e.Util.makeHexColor(l,s,g);this.ctx.strokeStyle=c,this.current.strokeColor=c}setFillRGBColor(l,s,g){const c=e.Util.makeHexColor(l,s,g);this.ctx.fillStyle=c,this.current.fillColor=c,this.current.patternFill=!1}_getPattern(l,s=null){let g;return this.cachedPatterns.has(l)?g=this.cachedPatterns.get(l):(g=(0,T.getShadingPattern)(this.objs.get(l)),this.cachedPatterns.set(l,g)),s&&(g.matrix=s),g}shadingFill(l){if(!this.contentVisible)return;const s=this.ctx;this.save();const g=this._getPattern(l);s.fillStyle=g.getPattern(s,this,s.mozCurrentTransformInverse,T.PathType.SHADING);const c=s.mozCurrentTransformInverse;if(c){const t=s.canvas,o=t.width,p=t.height,M=e.Util.applyTransform([0,0],c),y=e.Util.applyTransform([0,p],c),u=e.Util.applyTransform([o,0],c),W=e.Util.applyTransform([o,p],c),$=Math.min(M[0],y[0],u[0],W[0]),X=Math.min(M[1],y[1],u[1],W[1]),Q=Math.max(M[0],y[0],u[0],W[0]),ie=Math.max(M[1],y[1],u[1],W[1]);this.ctx.fillRect($,X,Q-$,ie-X)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,e.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,e.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(l,s){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(l)&&6===l.length&&this.transform.apply(this,l),this.baseTransform=this.ctx.mozCurrentTransform,s)&&(this.ctx.rect(s[0],s[1],s[2]-s[0],s[3]-s[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,s[0],s[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,s[2],s[3]),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(l){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const s=this.ctx;l.isolated||(0,e.info)("TODO: Support non-isolated groups."),l.knockout&&(0,e.warn)("Knockout groups not supported.");const g=s.mozCurrentTransform;if(l.matrix&&s.transform.apply(s,l.matrix),!l.bbox)throw new Error("Bounding box is required.");let c=e.Util.getAxialAlignedBoundingBox(l.bbox,s.mozCurrentTransform);c=e.Util.intersect(c,[0,0,s.canvas.width,s.canvas.height])||[0,0,0,0];const o=Math.floor(c[0]),p=Math.floor(c[1]);let M=Math.max(Math.ceil(c[2])-o,1),y=Math.max(Math.ceil(c[3])-p,1),u=1,W=1;M>R&&(u=M/R,M=R),y>R&&(W=y/R,y=R),this.current.startNewPathAndClipBox([0,0,M,y]);let $="groupAt"+this.groupLevel;l.smask&&($+="_smask_"+this.smaskCounter++%2);const X=this.cachedCanvases.getCanvas($,M,y,!0),Q=X.context;Q.scale(1/u,1/W),Q.translate(-o,-p),Q.transform.apply(Q,g),l.smask?this.smaskStack.push({canvas:X.canvas,context:Q,offsetX:o,offsetY:p,scaleX:u,scaleY:W,subtype:l.smask.subtype,backdrop:l.smask.backdrop,transferMap:l.smask.transferMap||null,startTransformInverse:null}):(s.setTransform(1,0,0,1,0,0),s.translate(o,p),s.scale(u,W),s.save()),n(s,Q),this.ctx=Q,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(s),this.groupLevel++}endGroup(l){if(!this.contentVisible)return;this.groupLevel--;const s=this.ctx,g=this.groupStack.pop();if(this.ctx=g,this.ctx.imageSmoothingEnabled=!1,l.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const c=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,c);const t=e.Util.getAxialAlignedBoundingBox([0,0,s.canvas.width,s.canvas.height],c);this.ctx.drawImage(s.canvas,0,0),this.ctx.restore(),this.compose(t)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(l,s,g,c,t){if(this.save(),Array.isArray(s)&&4===s.length){const o=s[2]-s[0],p=s[3]-s[1];if(t&&this.annotationCanvasMap){(g=g.slice())[4]-=s[0],g[5]-=s[1],(s=s.slice())[0]=s[1]=0,s[2]=o,s[3]=p;const[M,y]=e.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:u}=this,W=Math.ceil(o*this.outputScaleX*u),$=Math.ceil(p*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(W,$);const{canvas:X,context:Q}=this.annotationCanvas;X.style.width=`calc(${o}px * var(--viewport-scale-factor))`,X.style.height=`calc(${p}px * var(--viewport-scale-factor))`,this.annotationCanvasMap.set(l,X),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Q,this.ctx.setTransform(M,0,0,-y,0,p*y),m(this.ctx),f(this.ctx)}else f(this.ctx),this.ctx.rect(s[0],s[1],o,p),this.clip(),this.endPath()}this.current=new S(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,g),this.transform.apply(this,c)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(l){if(!this.contentVisible)return;const s=this.ctx,g=l.width,c=l.height,t=this.processingType3;if(t&&void 0===t.compiled&&(t.compiled=g<=1e3&&c<=1e3?function O(P){const s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),g=P.width,c=P.height,t=g+1;let o,p,M,y;const u=new Uint8Array(t*(c+1)),W=g+7&-8,$=P.data,X=new Uint8Array(W*c);let Q=0;for(o=0,p=$.length;o<p;o++){const ae=$[o];let be=128;for(;be>0;)X[Q++]=ae&be?0:255,be>>=1}let ie=0;for(Q=0,0!==X[Q]&&(u[0]=1,++ie),M=1;M<g;M++)X[Q]!==X[Q+1]&&(u[M]=X[Q]?2:1,++ie),Q++;for(0!==X[Q]&&(u[M]=2,++ie),o=1;o<c;o++){Q=o*W,y=o*t,X[Q-W]!==X[Q]&&(u[y]=X[Q]?1:8,++ie);let ae=(X[Q]?4:0)+(X[Q-W]?8:0);for(M=1;M<g;M++)ae=(ae>>2)+(X[Q+1]?4:0)+(X[Q-W+1]?8:0),s[ae]&&(u[y+M]=s[ae],++ie),Q++;if(X[Q-W]!==X[Q]&&(u[y+M]=X[Q]?2:4,++ie),ie>1e3)return null}for(Q=W*(c-1),y=o*t,0!==X[Q]&&(u[y]=8,++ie),M=1;M<g;M++)X[Q]!==X[Q+1]&&(u[y+M]=X[Q]?4:8,++ie),Q++;if(0!==X[Q]&&(u[y+M]=4,++ie),ie>1e3)return null;const oe=new Int32Array([0,t,-1,0,-t,0,0,0,1]),he=[];for(o=0;ie&&o<=c;o++){let ae=o*t;const be=ae+g;for(;ae<be&&!u[ae];)ae++;if(ae===be)continue;const ye=[ae%t,o],fe=ae;let _e=u[ae];do{const Ee=oe[_e];do{ae+=Ee}while(!u[ae]);const ee=u[ae];5!==ee&&10!==ee?(_e=ee,u[ae]=0):(_e=ee&51*_e>>4,u[ae]&=_e>>2|_e<<2),ye.push(ae%t,ae/t|0),u[ae]||--ie}while(fe!==ae);he.push(ye),--o}return function(ae){ae.save(),ae.scale(1/g,-1/c),ae.translate(0,-c),ae.beginPath();for(let be=0,ye=he.length;be<ye;be++){const fe=he[be];ae.moveTo(fe[0],fe[1]);for(let _e=2,Ee=fe.length;_e<Ee;_e+=2)ae.lineTo(fe[_e],fe[_e+1])}ae.fill(),ae.beginPath(),ae.restore()}}({data:l.data,width:g,height:c}):null),t?.compiled)return void t.compiled(s);const o=this._createMaskCanvas(l),p=o.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(p,o.offsetX,o.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(l,s,g=0,c=0,t,o){if(!this.contentVisible)return;const p=this.ctx;p.save();const M=p.mozCurrentTransform;p.transform(s,g,c,t,0,0);const y=this._createMaskCanvas(l);p.setTransform(1,0,0,1,0,0);for(let u=0,W=o.length;u<W;u+=2){const $=e.Util.transform(M,[s,g,c,t,o[u],o[u+1]]),[X,Q]=e.Util.applyTransform([0,0],$);p.drawImage(y.canvas,X,Q)}p.restore(),this.compose()}paintImageMaskXObjectGroup(l){if(!this.contentVisible)return;const s=this.ctx,g=this.current.fillColor,c=this.current.patternFill;for(let t=0,o=l.length;t<o;t++){const p=l[t],M=p.width,y=p.height,u=this.cachedCanvases.getCanvas("maskCanvas",M,y),W=u.context;W.save(),i(W,p),W.globalCompositeOperation="source-in",W.fillStyle=c?g.getPattern(W,this,s.mozCurrentTransformInverse,T.PathType.FILL):g,W.fillRect(0,0,M,y),W.restore(),s.save(),s.transform.apply(s,p.transform),s.scale(1,-1),s.drawImage(u.canvas,0,0,M,y,0,-1,1,1),s.restore()}this.compose()}paintImageXObject(l){if(!this.contentVisible)return;const s=l.startsWith("g_")?this.commonObjs.get(l):this.objs.get(l);s?this.paintInlineImageXObject(s):(0,e.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(l,s,g,c){if(!this.contentVisible)return;const t=l.startsWith("g_")?this.commonObjs.get(l):this.objs.get(l);if(!t)return void(0,e.warn)("Dependent image isn't ready yet");const o=t.width,p=t.height,M=[];for(let y=0,u=c.length;y<u;y+=2)M.push({transform:[s,0,0,g,c[y],c[y+1]],x:0,y:0,w:o,h:p});this.paintInlineImageXObjectGroup(t,M)}paintInlineImageXObject(l){if(!this.contentVisible)return;const s=l.width,g=l.height,c=this.ctx;let t;if(this.save(),c.scale(1/s,-1/g),"function"==typeof HTMLElement&&l instanceof HTMLElement||!l.data)t=l;else{const p=this.cachedCanvases.getCanvas("inlineImage",s,g);w(p.context,l,this.current.transferMaps),t=p.canvas}const o=this._scaleImage(t,c.mozCurrentTransformInverse);if(c.imageSmoothingEnabled=v(c.mozCurrentTransform,l.interpolate),c.drawImage(o.img,0,0,o.paintWidth,o.paintHeight,0,-g,s,g),this.imageLayer){const p=this.getCanvasPosition(0,-g);this.imageLayer.appendImage({imgData:l,left:p[0],top:p[1],width:s/c.mozCurrentTransformInverse[0],height:g/c.mozCurrentTransformInverse[3]})}this.compose(),this.restore()}paintInlineImageXObjectGroup(l,s){if(!this.contentVisible)return;const g=this.ctx,c=l.width,t=l.height,o=this.cachedCanvases.getCanvas("inlineImage",c,t);w(o.context,l,this.current.transferMaps);for(let M=0,y=s.length;M<y;M++){const u=s[M];if(g.save(),g.transform.apply(g,u.transform),g.scale(1,-1),g.drawImage(o.canvas,u.x,u.y,u.w,u.h,0,-1,1,1),this.imageLayer){const W=this.getCanvasPosition(u.x,u.y);this.imageLayer.appendImage({imgData:l,left:W[0],top:W[1],width:c,height:t})}g.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(l){}markPointProps(l,s){}beginMarkedContent(l){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(l,s){this.markedContentStack.push("OC"===l?{visible:this.optionalContentConfig.isVisible(s)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(l){this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(l);const s=this.ctx;this.pendingClip&&(this.pendingClip===G?s.clip("evenodd"):s.clip(),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),s.beginPath()}getSinglePixelWidth(){if(null===this._cachedGetSinglePixelWidth){const l=this.ctx.mozCurrentTransform,s=Math.abs(l[0]*l[3]-l[2]*l[1]),g=l[0]**2+l[2]**2,c=l[1]**2+l[3]**2,t=Math.sqrt(Math.max(g,c))/s;this._cachedGetSinglePixelWidth=g!==c&&this._combinedScaleFactor*t>1?-this._combinedScaleFactor*t:s>Number.EPSILON?t:1}return this._cachedGetSinglePixelWidth}getCanvasPosition(l,s){const g=this.ctx.mozCurrentTransform;return[g[0]*l+g[2]*s+g[4],g[1]*l+g[3]*s+g[5]]}isContentVisible(){for(let l=this.markedContentStack.length-1;l>=0;l--)if(!this.markedContentStack[l].visible)return!1;return!0}}a.CanvasGraphics=K;for(const P in e.OPS)void 0!==K.prototype[P]&&(K.prototype[e.OPS[P]]=K.prototype[P])},(q,a,F)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TilingPattern=a.PathType=void 0,a.getShadingPattern=function j(b){switch(b[0]){case"RadialAxial":return new V(b);case"Mesh":return new L(b);case"Dummy":return new I}throw new Error(`Unknown IR type: ${b[0]}`)};var e=F(1);const T={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function D(b,m){if(!m||typeof Path2D>"u")return;const k=m[2]-m[0],O=m[3]-m[1],S=new Path2D;S.rect(m[0],m[1],k,O),b.clip(S)}a.PathType=T;class Y{constructor(){this.constructor===Y&&(0,e.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,e.unreachable)("Abstract method `getPattern` called.")}}class V extends Y{constructor(m){super(),this._type=m[1],this._bbox=m[2],this._colorStops=m[3],this._p0=m[4],this._p1=m[5],this._r0=m[6],this._r1=m[7],this.matrix=null}_createGradient(m){let k;"axial"===this._type?k=m.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(k=m.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const O of this._colorStops)k.addColorStop(O[0],O[1]);return k}getPattern(m,k,O,S){let w;if(S===T.STROKE||S===T.FILL){const i=k.current.getClippedPathBoundingBox(S,m.mozCurrentTransform)||[0,0,0,0],n=Math.ceil(i[2]-i[0])||1,f=Math.ceil(i[3]-i[1])||1,E=k.cachedCanvases.getCanvas("pattern",n,f,!0),d=E.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-i[0],-i[1]),O=e.Util.transform(O,[1,0,0,1,i[0],i[1]]),d.transform.apply(d,k.baseTransform),this.matrix&&d.transform.apply(d,this.matrix),D(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),w=m.createPattern(E.canvas,"no-repeat");const A=new DOMMatrix(O);try{w.setTransform(A)}catch(h){(0,e.warn)(`RadialAxialShadingPattern.getPattern: "${h?.message}".`)}}else D(m,this._bbox),w=this._createGradient(m);return w}}function R(b,m,k,O,S,w,i,n){const f=m.coords,E=m.colors,d=b.data,A=4*b.width;let h;f[k+1]>f[O+1]&&(h=k,k=O,O=h,h=w,w=i,i=h),f[O+1]>f[S+1]&&(h=O,O=S,S=h,h=i,i=n,n=h),f[k+1]>f[O+1]&&(h=k,k=O,O=h,h=w,w=i,i=h);const r=(f[k]+m.offsetX)*m.scaleX,v=(f[k+1]+m.offsetY)*m.scaleY,C=(f[O]+m.offsetX)*m.scaleX,N=(f[O+1]+m.offsetY)*m.scaleY,H=(f[S]+m.offsetX)*m.scaleX,G=(f[S+1]+m.offsetY)*m.scaleY;if(v>=G)return;const K=E[w],P=E[w+1],l=E[w+2],s=E[i],g=E[i+1],c=E[i+2],t=E[n],o=E[n+1],p=E[n+2],M=Math.round(v),y=Math.round(G);let u,W,$,X,Q,ie,oe,he;for(let de=M;de<=y;de++){if(de<N){let _e;_e=de<v?0:(v-de)/(v-N),u=r-(r-C)*_e,W=K-(K-s)*_e,$=P-(P-g)*_e,X=l-(l-c)*_e}else{let _e;_e=de>G?1:N===G?0:(N-de)/(N-G),u=C-(C-H)*_e,W=s-(s-t)*_e,$=g-(g-o)*_e,X=c-(c-p)*_e}let ae;ae=de<v?0:de>G?1:(v-de)/(v-G),Q=r-(r-H)*ae,ie=K-(K-t)*ae,oe=P-(P-o)*ae,he=l-(l-p)*ae;const be=Math.round(Math.min(u,Q)),ye=Math.round(Math.max(u,Q));let fe=A*de+4*be;for(let _e=be;_e<=ye;_e++)ae=(u-_e)/(u-Q),ae<0?ae=0:ae>1&&(ae=1),d[fe++]=W-(W-ie)*ae|0,d[fe++]=$-($-oe)*ae|0,d[fe++]=X-(X-he)*ae|0,d[fe++]=255}}function _(b,m,k){const O=m.coords,S=m.colors;let w,i;switch(m.type){case"lattice":const n=m.verticesPerRow,f=Math.floor(O.length/n)-1,E=n-1;for(w=0;w<f;w++){let d=w*n;for(let A=0;A<E;A++,d++)R(b,k,O[d],O[d+1],O[d+n],S[d],S[d+1],S[d+n]),R(b,k,O[d+n+1],O[d+1],O[d+n],S[d+n+1],S[d+1],S[d+n])}break;case"triangles":for(w=0,i=O.length;w<i;w+=3)R(b,k,O[w],O[w+1],O[w+2],S[w],S[w+1],S[w+2]);break;default:throw new Error("illegal figure")}}class L extends Y{constructor(m){super(),this._coords=m[2],this._colors=m[3],this._figures=m[4],this._bounds=m[5],this._bbox=m[7],this._background=m[8],this.matrix=null}_createMeshCanvas(m,k,O){const n=Math.floor(this._bounds[0]),f=Math.floor(this._bounds[1]),E=Math.ceil(this._bounds[2])-n,d=Math.ceil(this._bounds[3])-f,A=Math.min(Math.ceil(Math.abs(E*m[0]*1.1)),3e3),h=Math.min(Math.ceil(Math.abs(d*m[1]*1.1)),3e3),r=E/A,v=d/h,C={coords:this._coords,colors:this._colors,offsetX:-n,offsetY:-f,scaleX:1/r,scaleY:1/v},G=O.getCanvas("mesh",A+4,h+4,!1),K=G.context,P=K.createImageData(A,h);if(k){const s=P.data;for(let g=0,c=s.length;g<c;g+=4)s[g]=k[0],s[g+1]=k[1],s[g+2]=k[2],s[g+3]=255}for(const s of this._figures)_(P,s,C);return K.putImageData(P,2,2),{canvas:G.canvas,offsetX:n-2*r,offsetY:f-2*v,scaleX:r,scaleY:v}}getPattern(m,k,O,S){let w;if(D(m,this._bbox),S===T.SHADING)w=e.Util.singularValueDecompose2dScale(m.mozCurrentTransform);else if(w=e.Util.singularValueDecompose2dScale(k.baseTransform),this.matrix){const n=e.Util.singularValueDecompose2dScale(this.matrix);w=[w[0]*n[0],w[1]*n[1]]}const i=this._createMeshCanvas(w,S===T.SHADING?null:this._background,k.cachedCanvases);return S!==T.SHADING&&(m.setTransform.apply(m,k.baseTransform),this.matrix&&m.transform.apply(m,this.matrix)),m.translate(i.offsetX,i.offsetY),m.scale(i.scaleX,i.scaleY),m.createPattern(i.canvas,"no-repeat")}}class I extends Y{getPattern(){return"hotpink"}}class U{static get MAX_PATTERN_SIZE(){return(0,e.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(m,k,O,S,w){this.operatorList=m[2],this.matrix=m[3]||[1,0,0,1,0,0],this.bbox=m[4],this.xstep=m[5],this.ystep=m[6],this.paintType=m[7],this.tilingType=m[8],this.color=k,this.ctx=O,this.canvasGraphicsFactory=S,this.baseTransform=w}createPatternCanvas(m){const k=this.operatorList,O=this.bbox,S=this.xstep,w=this.ystep,i=this.paintType,f=this.color,E=this.canvasGraphicsFactory;(0,e.info)("TilingType: "+this.tilingType);const d=O[0],A=O[1],h=O[2],r=O[3],v=e.Util.singularValueDecompose2dScale(this.matrix),C=e.Util.singularValueDecompose2dScale(this.baseTransform),N=[v[0]*C[0],v[1]*C[1]],H=this.getSizeAndScale(S,this.ctx.canvas.width,N[0]),G=this.getSizeAndScale(w,this.ctx.canvas.height,N[1]),K=m.cachedCanvases.getCanvas("pattern",H.size,G.size,!0),P=K.context,l=E.createCanvasGraphics(P);l.groupLevel=m.groupLevel,this.setFillAndStrokeStyleToContext(l,i,f);let s=d,g=A,c=h,t=r;return d<0&&(s=0,c+=Math.abs(d)),A<0&&(g=0,t+=Math.abs(A)),P.translate(-H.scale*s,-G.scale*g),l.transform(H.scale,0,0,G.scale,0,0),P.save(),this.clipBbox(l,s,g,c,t),l.baseTransform=l.ctx.mozCurrentTransform.slice(),l.executeOperatorList(k),l.endDrawing(),{canvas:K.canvas,scaleX:H.scale,scaleY:G.scale,offsetX:s,offsetY:g}}getSizeAndScale(m,k,O){m=Math.abs(m);const S=Math.max(U.MAX_PATTERN_SIZE,k);let w=Math.ceil(m*O);return w>=S?w=S:O=w/m,{scale:O,size:w}}clipBbox(m,k,O,S,w){m.ctx.rect(k,O,S-k,w-O),m.clip(),m.endPath()}setFillAndStrokeStyleToContext(m,k,O){const S=m.ctx,w=m.current;switch(k){case 1:const i=this.ctx;S.fillStyle=i.fillStyle,S.strokeStyle=i.strokeStyle,w.fillColor=i.fillStyle,w.strokeColor=i.strokeStyle;break;case 2:const n=e.Util.makeHexColor(O[0],O[1],O[2]);S.fillStyle=n,S.strokeStyle=n,w.fillColor=n,w.strokeColor=n;break;default:throw new e.FormatError(`Unsupported paint type: ${k}`)}}getPattern(m,k,O,S){let w=O;S!==T.SHADING&&(w=e.Util.transform(w,k.baseTransform),this.matrix&&(w=e.Util.transform(w,this.matrix)));const i=this.createPatternCanvas(k);let n=new DOMMatrix(w);n=n.translate(i.offsetX,i.offsetY),n=n.scale(1/i.scaleX,1/i.scaleY);const f=m.createPattern(i.canvas,"repeat");try{f.setTransform(n)}catch(E){(0,e.warn)(`TilingPattern.getPattern: "${E?.message}".`)}return f}}a.TilingPattern=U},(q,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.GlobalWorkerOptions=void 0;const F=Object.create(null);a.GlobalWorkerOptions=F,F.workerPort=void 0===F.workerPort?null:F.workerPort,F.workerSrc=void 0===F.workerSrc?"":F.workerSrc},(q,a,F)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MessageHandler=void 0;var e=F(1);function Y(R){switch(R instanceof Error||"object"==typeof R&&null!==R||(0,e.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),R.name){case"AbortException":return new e.AbortException(R.message);case"MissingPDFException":return new e.MissingPDFException(R.message);case"PasswordException":return new e.PasswordException(R.message,R.code);case"UnexpectedResponseException":return new e.UnexpectedResponseException(R.message,R.status);case"UnknownErrorException":return new e.UnknownErrorException(R.message,R.details);default:return new e.UnknownErrorException(R.message,R.toString())}}a.MessageHandler=class V{constructor(_,L,I){this.sourceName=_,this.targetName=L,this.comObj=I,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=j=>{const B=j.data;if(B.targetName!==this.sourceName)return;if(B.stream)return void this._processStreamMessage(B);if(B.callback){const b=B.callbackId,m=this.callbackCapabilities[b];if(!m)throw new Error(`Cannot resolve callback ${b}`);if(delete this.callbackCapabilities[b],1===B.callback)m.resolve(B.data);else{if(2!==B.callback)throw new Error("Unexpected callback case");m.reject(Y(B.reason))}return}const U=this.actionHandler[B.action];if(!U)throw new Error(`Unknown action from worker: ${B.action}`);if(B.callbackId){const b=this.sourceName,m=B.sourceName;new Promise(function(k){k(U(B.data))}).then(function(k){I.postMessage({sourceName:b,targetName:m,callback:1,callbackId:B.callbackId,data:k})},function(k){I.postMessage({sourceName:b,targetName:m,callback:2,callbackId:B.callbackId,reason:Y(k)})})}else B.streamId?this._createStreamSink(B):U(B.data)},I.addEventListener("message",this._onComObjOnMessage)}on(_,L){const I=this.actionHandler;if(I[_])throw new Error(`There is already an actionName called "${_}"`);I[_]=L}send(_,L,I){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:_,data:L},I)}sendWithPromise(_,L,I){const j=this.callbackId++,B=(0,e.createPromiseCapability)();this.callbackCapabilities[j]=B;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:_,callbackId:j,data:L},I)}catch(U){B.reject(U)}return B.promise}sendWithStream(_,L,I,j){const B=this.streamId++,U=this.sourceName,b=this.targetName,m=this.comObj;return new ReadableStream({start:k=>{const O=(0,e.createPromiseCapability)();return this.streamControllers[B]={controller:k,startCall:O,pullCall:null,cancelCall:null,isClosed:!1},m.postMessage({sourceName:U,targetName:b,action:_,streamId:B,data:L,desiredSize:k.desiredSize},j),O.promise},pull:k=>{const O=(0,e.createPromiseCapability)();return this.streamControllers[B].pullCall=O,m.postMessage({sourceName:U,targetName:b,stream:6,streamId:B,desiredSize:k.desiredSize}),O.promise},cancel:k=>{(0,e.assert)(k instanceof Error,"cancel must have a valid reason");const O=(0,e.createPromiseCapability)();return this.streamControllers[B].cancelCall=O,this.streamControllers[B].isClosed=!0,m.postMessage({sourceName:U,targetName:b,stream:1,streamId:B,reason:Y(k)}),O.promise}},I)}_createStreamSink(_){const L=_.streamId,I=this.sourceName,j=_.sourceName,B=this.comObj,U=this,b=this.actionHandler[_.action],m={enqueue(k,O=1,S){if(this.isCancelled)return;const w=this.desiredSize;this.desiredSize-=O,w>0&&this.desiredSize<=0&&(this.sinkCapability=(0,e.createPromiseCapability)(),this.ready=this.sinkCapability.promise),B.postMessage({sourceName:I,targetName:j,stream:4,streamId:L,chunk:k},S)},close(){this.isCancelled||(this.isCancelled=!0,B.postMessage({sourceName:I,targetName:j,stream:3,streamId:L}),delete U.streamSinks[L])},error(k){(0,e.assert)(k instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,B.postMessage({sourceName:I,targetName:j,stream:5,streamId:L,reason:Y(k)}))},sinkCapability:(0,e.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:_.desiredSize,ready:null};m.sinkCapability.resolve(),m.ready=m.sinkCapability.promise,this.streamSinks[L]=m,new Promise(function(k){k(b(_.data,m))}).then(function(){B.postMessage({sourceName:I,targetName:j,stream:8,streamId:L,success:!0})},function(k){B.postMessage({sourceName:I,targetName:j,stream:8,streamId:L,reason:Y(k)})})}_processStreamMessage(_){const L=_.streamId,I=this.sourceName,j=_.sourceName,B=this.comObj,U=this.streamControllers[L],b=this.streamSinks[L];switch(_.stream){case 8:_.success?U.startCall.resolve():U.startCall.reject(Y(_.reason));break;case 7:_.success?U.pullCall.resolve():U.pullCall.reject(Y(_.reason));break;case 6:if(!b){B.postMessage({sourceName:I,targetName:j,stream:7,streamId:L,success:!0});break}b.desiredSize<=0&&_.desiredSize>0&&b.sinkCapability.resolve(),b.desiredSize=_.desiredSize,new Promise(function(m){m(b.onPull&&b.onPull())}).then(function(){B.postMessage({sourceName:I,targetName:j,stream:7,streamId:L,success:!0})},function(m){B.postMessage({sourceName:I,targetName:j,stream:7,streamId:L,reason:Y(m)})});break;case 4:if((0,e.assert)(U,"enqueue should have stream controller"),U.isClosed)break;U.controller.enqueue(_.chunk);break;case 3:if((0,e.assert)(U,"close should have stream controller"),U.isClosed)break;U.isClosed=!0,U.controller.close(),this._deleteStreamController(U,L);break;case 5:(0,e.assert)(U,"error should have stream controller"),U.controller.error(Y(_.reason)),this._deleteStreamController(U,L);break;case 2:_.success?U.cancelCall.resolve():U.cancelCall.reject(Y(_.reason)),this._deleteStreamController(U,L);break;case 1:if(!b)break;new Promise(function(m){m(b.onCancel&&b.onCancel(Y(_.reason)))}).then(function(){B.postMessage({sourceName:I,targetName:j,stream:2,streamId:L,success:!0})},function(m){B.postMessage({sourceName:I,targetName:j,stream:2,streamId:L,reason:Y(m)})}),b.sinkCapability.reject(Y(_.reason)),b.isCancelled=!0,delete this.streamSinks[L];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(_,L){var I=this;return _asyncToGenerator(function*(){yield Promise.allSettled([_.startCall&&_.startCall.promise,_.pullCall&&_.pullCall.promise,_.cancelCall&&_.cancelCall.promise]),delete I.streamControllers[L]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(q,a,F)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Metadata=void 0;var e=F(1),T=new WeakMap,D=new WeakMap;a.Metadata=class Y{constructor({parsedData:R,rawData:_}){_classPrivateFieldInitSpec(this,T,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,D,{writable:!0,value:void 0}),_classPrivateFieldSet(this,T,R),_classPrivateFieldSet(this,D,_)}getRaw(){return _classPrivateFieldGet(this,D)}get(R){return _classPrivateFieldGet(this,T).get(R)??null}getAll(){return(0,e.objectFromMap)(_classPrivateFieldGet(this,T))}has(R){return _classPrivateFieldGet(this,T).has(R)}}},(q,a,F)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.OptionalContentConfig=void 0;var e=F(1);class T{constructor(V,R){this.visible=!0,this.name=V,this.intent=R}}a.OptionalContentConfig=class D{constructor(V){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==V){this.name=V.name,this.creator=V.creator,this._order=V.order;for(const R of V.groups)this._groups.set(R.id,new T(R.name,R.intent));if("OFF"===V.baseState)for(const R of this._groups)R.visible=!1;for(const R of V.on)this._groups.get(R).visible=!0;for(const R of V.off)this._groups.get(R).visible=!1}}_evaluateVisibilityExpression(V){const R=V.length;if(R<2)return!0;const _=V[0];for(let L=1;L<R;L++){const I=V[L];let j;if(Array.isArray(I))j=this._evaluateVisibilityExpression(I);else{if(!this._groups.has(I))return(0,e.warn)(`Optional content group not found: ${I}`),!0;j=this._groups.get(I).visible}switch(_){case"And":if(!j)return!1;break;case"Or":if(j)return!0;break;case"Not":return!j;default:return!0}}return"And"===_}isVisible(V){if(0===this._groups.size)return!0;if(!V)return(0,e.warn)("Optional content group not defined."),!0;if("OCG"===V.type)return this._groups.has(V.id)?this._groups.get(V.id).visible:((0,e.warn)(`Optional content group not found: ${V.id}`),!0);if("OCMD"===V.type){if(V.expression)return this._evaluateVisibilityExpression(V.expression);if(!V.policy||"AnyOn"===V.policy){for(const R of V.ids){if(!this._groups.has(R))return(0,e.warn)(`Optional content group not found: ${R}`),!0;if(this._groups.get(R).visible)return!0}return!1}if("AllOn"===V.policy){for(const R of V.ids){if(!this._groups.has(R))return(0,e.warn)(`Optional content group not found: ${R}`),!0;if(!this._groups.get(R).visible)return!1}return!0}if("AnyOff"===V.policy){for(const R of V.ids){if(!this._groups.has(R))return(0,e.warn)(`Optional content group not found: ${R}`),!0;if(!this._groups.get(R).visible)return!0}return!1}if("AllOff"===V.policy){for(const R of V.ids){if(!this._groups.has(R))return(0,e.warn)(`Optional content group not found: ${R}`),!0;if(this._groups.get(R).visible)return!1}return!0}return(0,e.warn)(`Unknown optional content policy ${V.policy}.`),!0}return(0,e.warn)(`Unknown group type ${V.type}.`),!0}setVisibility(V,R=!0){this._groups.has(V)?this._groups.get(V).visible=!!R:(0,e.warn)(`Optional content group not found: ${V}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,e.objectFromMap)(this._groups):null}getGroup(V){return this._groups.get(V)||null}}},(q,a,F)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFDataTransportStream=void 0;var e=F(1),T=F(5);a.PDFDataTransportStream=class D{constructor(_,L){(0,e.assert)(L,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=_.progressiveDone||!1,this._contentDispositionFilename=_.contentDispositionFilename||null;const I=_.initialData;if(I?.length>0){const j=new Uint8Array(I).buffer;this._queuedChunks.push(j)}this._pdfDataRangeTransport=L,this._isStreamingSupported=!_.disableStream,this._isRangeSupported=!_.disableRange,this._contentLength=_.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((j,B)=>{this._onReceiveData({begin:j,chunk:B})}),this._pdfDataRangeTransport.addProgressListener((j,B)=>{this._onProgress({loaded:j,total:B})}),this._pdfDataRangeTransport.addProgressiveReadListener(j=>{this._onReceiveData({chunk:j})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(_){const L=new Uint8Array(_.chunk).buffer;if(void 0===_.begin)this._fullRequestReader?this._fullRequestReader._enqueue(L):this._queuedChunks.push(L);else{const I=this._rangeReaders.some(function(j){return j._begin===_.begin&&(j._enqueue(L),!0)});(0,e.assert)(I,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(_){if(void 0===_.total){const L=this._rangeReaders[0];L?.onProgress&&L.onProgress({loaded:_.loaded})}else{const L=this._fullRequestReader;L?.onProgress&&L.onProgress({loaded:_.loaded,total:_.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(_){const L=this._rangeReaders.indexOf(_);L>=0&&this._rangeReaders.splice(L,1)}getFullReader(){(0,e.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const _=this._queuedChunks;return this._queuedChunks=null,new Y(this,_,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(_,L){if(L<=this._progressiveDataLength)return null;const I=new V(this,_,L);return this._pdfDataRangeTransport.requestDataRange(_,L),this._rangeReaders.push(I),I}cancelAllRequests(_){this._fullRequestReader&&this._fullRequestReader.cancel(_);for(const L of this._rangeReaders.slice(0))L.cancel(_);this._pdfDataRangeTransport.abort()}};class Y{constructor(_,L,I=!1,j=null){this._stream=_,this._done=I||!1,this._filename=(0,T.isPdfFile)(j)?j:null,this._queuedChunks=L||[],this._loaded=0;for(const B of this._queuedChunks)this._loaded+=B.byteLength;this._requests=[],this._headersReady=Promise.resolve(),_._fullRequestReader=this,this.onProgress=null}_enqueue(_){this._done||(this._requests.length>0?this._requests.shift().resolve({value:_,done:!1}):this._queuedChunks.push(_),this._loaded+=_.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var _=this;return _asyncToGenerator(function*(){if(_._queuedChunks.length>0)return{value:_._queuedChunks.shift(),done:!1};if(_._done)return{value:void 0,done:!0};const L=(0,e.createPromiseCapability)();return _._requests.push(L),L.promise})()}cancel(_){this._done=!0;for(const L of this._requests)L.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class V{constructor(_,L,I){this._stream=_,this._begin=L,this._end=I,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(_){if(!this._done){if(0===this._requests.length)this._queuedChunk=_;else{this._requests.shift().resolve({value:_,done:!1});for(const I of this._requests)I.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var _=this;return _asyncToGenerator(function*(){if(_._queuedChunk){const I=_._queuedChunk;return _._queuedChunk=null,{value:I,done:!1}}if(_._done)return{value:void 0,done:!0};const L=(0,e.createPromiseCapability)();return _._requests.push(L),L.promise})()}cancel(_){this._done=!0;for(const L of this._requests)L.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(q,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.XfaText=void 0;class F{static textContent(T){const D=[],Y={items:D,styles:Object.create(null)};return function V(R){if(!R)return;let _=null;const L=R.name;if("#text"===L)_=R.value;else{if(!F.shouldBuildText(L))return;R?.attributes?.textContent?_=R.attributes.textContent:R.value&&(_=R.value)}if(null!==_&&D.push({str:_}),R.children)for(const I of R.children)V(I)}(T),Y}static shouldBuildText(T){return!("textarea"===T||"input"===T||"option"===T||"select"===T)}}a.XfaText=F},(q,a,F)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AnnotationLayer=void 0;var e=F(1),T=F(5),D=F(9),Y=F(19),V=F(20);const R=1e3,_=new WeakSet;function L(c){return{width:c[2]-c[0],height:c[3]-c[1]}}class I{static create(t){switch(t.data.annotationType){case e.AnnotationType.LINK:return new B(t);case e.AnnotationType.TEXT:return new U(t);case e.AnnotationType.WIDGET:switch(t.data.fieldType){case"Tx":return new m(t);case"Btn":return t.data.radioButton?new O(t):t.data.checkBox?new k(t):new S(t);case"Ch":return new w(t)}return new b(t);case e.AnnotationType.POPUP:return new i(t);case e.AnnotationType.FREETEXT:return new f(t);case e.AnnotationType.LINE:return new E(t);case e.AnnotationType.SQUARE:return new d(t);case e.AnnotationType.CIRCLE:return new A(t);case e.AnnotationType.POLYLINE:return new h(t);case e.AnnotationType.CARET:return new v(t);case e.AnnotationType.INK:return new C(t);case e.AnnotationType.POLYGON:return new r(t);case e.AnnotationType.HIGHLIGHT:return new N(t);case e.AnnotationType.UNDERLINE:return new H(t);case e.AnnotationType.SQUIGGLY:return new G(t);case e.AnnotationType.STRIKEOUT:return new K(t);case e.AnnotationType.STAMP:return new P(t);case e.AnnotationType.FILEATTACHMENT:return new l(t);default:return new j(t)}}}class j{constructor(t,{isRenderable:o=!1,ignoreBorder:p=!1,createQuadrilaterals:M=!1}={}){this.isRenderable=o,this.data=t.data,this.layer=t.layer,this.page=t.page,this.viewport=t.viewport,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this._mouseState=t.mouseState,o&&(this.container=this._createContainer(p)),M&&(this.quadrilaterals=this._createQuadrilaterals(p))}_createContainer(t=!1){const o=this.data,p=this.page,M=this.viewport,y=document.createElement("section");let{width:u,height:W}=L(o.rect);y.setAttribute("data-annotation-id",o.id);const $=e.Util.normalizeRect([o.rect[0],p.view[3]-o.rect[1]+p.view[1],o.rect[2],p.view[3]-o.rect[3]+p.view[1]]);if(o.hasOwnCanvas){const X=M.transform.slice(),[Q,ie]=e.Util.singularValueDecompose2dScale(X);u=Math.ceil(u*Q),W=Math.ceil(W*ie),$[0]*=Q,$[1]*=ie;for(let oe=0;oe<4;oe++)X[oe]=Math.sign(X[oe]);y.style.transform=`matrix(${X.join(",")})`}else y.style.transform=`matrix(${M.transform.join(",")})`;if(y.style.transformOrigin=`${-$[0]}px ${-$[1]}px`,!t&&o.borderStyle.width>0){y.style.borderWidth=`${o.borderStyle.width}px`,o.borderStyle.style!==e.AnnotationBorderStyleType.UNDERLINE&&(u-=2*o.borderStyle.width,W-=2*o.borderStyle.width);const X=o.borderStyle.horizontalCornerRadius,Q=o.borderStyle.verticalCornerRadius;switch((X>0||Q>0)&&(y.style.borderRadius=`${X}px / ${Q}px`),o.borderStyle.style){case e.AnnotationBorderStyleType.SOLID:y.style.borderStyle="solid";break;case e.AnnotationBorderStyleType.DASHED:y.style.borderStyle="dashed";break;case e.AnnotationBorderStyleType.BEVELED:(0,e.warn)("Unimplemented border style: beveled");break;case e.AnnotationBorderStyleType.INSET:(0,e.warn)("Unimplemented border style: inset");break;case e.AnnotationBorderStyleType.UNDERLINE:y.style.borderBottomStyle="solid"}o.borderColor||o.color?y.style.borderColor=e.Util.makeHexColor(0|o.color[0],0|o.color[1],0|o.color[2]):y.style.borderWidth=0}return y.style.left=`${$[0]}px`,y.style.top=`${$[1]}px`,o.hasOwnCanvas?y.style.width=y.style.height="auto":(y.style.width=`${u}px`,y.style.height=`${W}px`),y}_createQuadrilaterals(t=!1){if(!this.data.quadPoints)return null;const o=[],p=this.data.rect;for(const M of this.data.quadPoints)this.data.rect=[M[2].x,M[2].y,M[1].x,M[1].y],o.push(this._createContainer(t));return this.data.rect=p,o}_createPopup(t,o){let p=this.container;this.quadrilaterals&&(t=t||this.quadrilaterals,p=this.quadrilaterals[0]),t||((t=document.createElement("div")).style.height=p.style.height,t.style.width=p.style.width,p.appendChild(t));const y=new n({container:p,trigger:t,color:o.color,titleObj:o.titleObj,modificationDate:o.modificationDate,contentsObj:o.contentsObj,richText:o.richText,hideWrapper:!0}).render();y.style.left=p.style.width,p.appendChild(y)}_renderQuadrilaterals(t){for(const o of this.quadrilaterals)o.className=t;return this.quadrilaterals}render(){(0,e.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,o=null){const p=[];if(this._fieldObjects){const M=this._fieldObjects[t];if(M)for(const{page:y,id:u,exportValues:W}of M){if(-1===y||u===o)continue;const $="string"==typeof W?W:null,X=document.getElementById(u);!X||_.has(X)?p.push({id:u,exportValue:$,domElement:X}):(0,e.warn)(`_getElementsByName - element not allowed: ${u}`)}return p}for(const M of document.getElementsByName(t)){const{id:y,exportValue:u}=M;y!==o&&(!_.has(M)||p.push({id:y,exportValue:u,domElement:M}))}return p}static get platform(){const t=typeof navigator<"u"?navigator.platform:"";return(0,e.shadow)(this,"platform",{isWin:t.includes("Win"),isMac:t.includes("Mac")})}}class B extends j{constructor(t,o=null){super(t,{isRenderable:!!(t.data.url||t.data.dest||t.data.action||t.data.isTooltipOnly||t.data.resetForm||t.data.actions&&(t.data.actions.Action||t.data.actions["Mouse Up"]||t.data.actions["Mouse Down"])),ignoreBorder:!!o?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:t,linkService:o}=this,p=document.createElement("a");if(t.url)o.addLinkAttributes||(0,e.warn)("LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance."),o.addLinkAttributes?.(p,t.url,t.newWindow);else if(t.action)this._bindNamedAction(p,t.action);else if(t.dest)this._bindLink(p,t.dest);else{let M=!1;t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(M=!0,this._bindJSAction(p,t)),t.resetForm?this._bindResetFormAction(p,t.resetForm):M||this._bindLink(p,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((M,y)=>{const u=0===y?p:p.cloneNode();return M.appendChild(u),M}):(this.container.className="linkAnnotation",this.container.appendChild(p),this.container)}_bindLink(t,o){t.href=this.linkService.getDestinationHash(o),t.onclick=()=>(o&&this.linkService.goToDestination(o),!1),(o||""===o)&&(t.className="internalLink")}_bindNamedAction(t,o){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(o),!1),t.className="internalLink"}_bindJSAction(t,o){t.href=this.linkService.getAnchorUrl("");const p=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const M of Object.keys(o.actions)){const y=p.get(M);!y||(t[y]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o.id,name:M}}),!1))}t.onclick||(t.onclick=()=>!1),t.className="internalLink"}_bindResetFormAction(t,o){const p=t.onclick;if(p||(t.href=this.linkService.getAnchorUrl("")),t.className="internalLink",!this._fieldObjects)return(0,e.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(p||(t.onclick=()=>!1));t.onclick=()=>{p&&p();const{fields:M,refs:y,include:u}=o,W=[];if(0!==M.length||0!==y.length){const Q=new Set(y);for(const ie of M){const oe=this._fieldObjects[ie]||[];for(const{id:he}of oe)Q.add(he)}for(const ie of Object.values(this._fieldObjects))for(const oe of ie)Q.has(oe.id)===u&&W.push(oe)}else for(const Q of Object.values(this._fieldObjects))W.push(...Q);const $=this.annotationStorage,X=[];for(const Q of W){const{id:ie}=Q;switch(X.push(ie),Q.type){case"text":{const he=Q.defaultValue||"";$.setValue(ie,{value:he,valueAsString:he});break}case"checkbox":case"radiobutton":$.setValue(ie,{value:Q.defaultValue===Q.exportValues});break;case"combobox":case"listbox":$.setValue(ie,{value:Q.defaultValue||""});break;default:continue}const oe=document.getElementById(ie);!oe||!_.has(oe)||oe.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:X,name:"ResetForm"}}),!1}}}class U extends j{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str)})}render(){this.container.className="textAnnotation";const t=document.createElement("img");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.alt="[{{type}} Annotation]",t.dataset.l10nId="text_annotation_type",t.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(t,this.data),this.container.appendChild(t),this.container}}class b extends j{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(t){const{isWin:o,isMac:p}=j.platform;return o&&t.ctrlKey||p&&t.metaKey}_setEventListener(t,o,p,M){o.includes("mouse")?t.addEventListener(o,y=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:p,value:M(y),shift:y.shiftKey,modifier:this._getKeyModifier(y)}})}):t.addEventListener(o,y=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:p,value:M(y)}})})}_setEventListeners(t,o,p){for(const[M,y]of o)("Action"===y||this.data.actions?.[y])&&this._setEventListener(t,M,y,p)}_setBackgroundColor(t){const o=this.data.backgroundColor||null;t.style.backgroundColor=null===o?"transparent":e.Util.makeHexColor(o[0],o[1],o[2])}_dispatchEventFromSandbox(t,o){const p=(y,u,W)=>{const $=W.detail[y];W.target.style[u]=Y.ColorConverters[`${$[0]}_HTML`]($.slice(1))},M={display:y=>{const u=y.detail.display%2==1;y.target.style.visibility=u?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:u,print:0===y.detail.display||3===y.detail.display})},print:y=>{this.annotationStorage.setValue(this.data.id,{print:y.detail.print})},hidden:y=>{y.target.style.visibility=y.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:y.detail.hidden})},focus:y=>{setTimeout(()=>y.target.focus({preventScroll:!1}),0)},userName:y=>{y.target.title=y.detail.userName},readonly:y=>{y.detail.readonly?y.target.setAttribute("readonly",""):y.target.removeAttribute("readonly")},required:y=>{y.detail.required?y.target.setAttribute("required",""):y.target.removeAttribute("required")},bgColor:y=>{p("bgColor","backgroundColor",y)},fillColor:y=>{p("fillColor","backgroundColor",y)},fgColor:y=>{p("fgColor","color",y)},textColor:y=>{p("textColor","color",y)},borderColor:y=>{p("borderColor","borderColor",y)},strokeColor:y=>{p("strokeColor","borderColor",y)}};for(const y of Object.keys(o.detail)){const u=t[y]||M[y];u&&u(o)}}}class m extends b{constructor(t){super(t,{isRenderable:t.renderForms||!t.data.hasAppearance&&!!t.data.fieldValue})}setPropertyOnSiblings(t,o,p,M){const y=this.annotationStorage;for(const u of this._getElementsByName(t.name,t.id))u.domElement&&(u.domElement[o]=p),y.setValue(u.id,{[M]:p})}render(){const t=this.annotationStorage,o=this.data.id;this.container.className="textWidgetAnnotation";let p=null;if(this.renderForms){const M=t.getValue(o,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),y=M.valueAsString||M.value||"",u={userValue:null,formattedValue:null};this.data.multiLine?(p=document.createElement("textarea"),p.textContent=y):(p=document.createElement("input"),p.type="text",p.setAttribute("value",y)),_.add(p),p.disabled=this.data.readOnly,p.name=this.data.fieldName,p.tabIndex=R,u.userValue=y,p.setAttribute("id",o),p.addEventListener("input",$=>{t.setValue(o,{value:$.target.value}),this.setPropertyOnSiblings(p,"value",$.target.value,"value")}),p.addEventListener("resetform",$=>{p.value=u.userValue=this.data.defaultFieldValue||"",delete u.formattedValue});let W=$=>{u.formattedValue&&($.target.value=u.formattedValue),$.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){p.addEventListener("focus",X=>{u.userValue&&(X.target.value=u.userValue)}),p.addEventListener("updatefromsandbox",X=>{this._dispatchEventFromSandbox({value(ie){u.userValue=ie.detail.value||"",t.setValue(o,{value:u.userValue.toString()}),u.formattedValue||(ie.target.value=u.userValue)},valueAsString(ie){u.formattedValue=ie.detail.valueAsString||"",ie.target!==document.activeElement&&(ie.target.value=u.formattedValue),t.setValue(o,{formattedValue:u.formattedValue})},selRange(ie){const[oe,he]=ie.detail.selRange;oe>=0&&he<ie.target.value.length&&ie.target.setSelectionRange(oe,he)}},X)}),p.addEventListener("keydown",X=>{let Q=-1;"Escape"===X.key?Q=0:"Enter"===X.key?Q=2:"Tab"===X.key&&(Q=3),-1!==Q&&(u.userValue=X.target.value,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o,name:"Keystroke",value:X.target.value,willCommit:!0,commitKey:Q,selStart:X.target.selectionStart,selEnd:X.target.selectionEnd}}))});const $=W;W=null,p.addEventListener("blur",X=>{u.userValue=X.target.value,this._mouseState.isDown&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o,name:"Keystroke",value:X.target.value,willCommit:!0,commitKey:1,selStart:X.target.selectionStart,selEnd:X.target.selectionEnd}}),$(X)}),this.data.actions?.Keystroke&&p.addEventListener("beforeinput",X=>{u.formattedValue="";const{data:Q,target:ie}=X,{value:oe,selectionStart:he,selectionEnd:de}=ie;this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o,name:"Keystroke",value:oe,change:Q,willCommit:!1,selStart:he,selEnd:de}})}),this._setEventListeners(p,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],X=>X.target.value)}if(W&&p.addEventListener("blur",W),null!==this.data.maxLen&&(p.maxLength=this.data.maxLen),this.data.comb){const X=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;p.classList.add("comb"),p.style.letterSpacing=`calc(${X}px - 1ch)`}}else p=document.createElement("div"),p.textContent=this.data.fieldValue,p.style.verticalAlign="middle",p.style.display="table-cell";return this._setTextStyle(p),this._setBackgroundColor(p),this.container.appendChild(p),this.container}_setTextStyle(t){const{fontSize:p,fontColor:M}=this.data.defaultAppearanceData,y=t.style;p&&(y.fontSize=`${p}px`),y.color=e.Util.makeHexColor(M[0],M[1],M[2]),null!==this.data.textAlignment&&(y.textAlign=["left","center","right"][this.data.textAlignment])}}class k extends b{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,o=this.data,p=o.id;let M=t.getValue(p,{value:o.exportValue===o.fieldValue}).value;"string"==typeof M&&(M="Off"!==M,t.setValue(p,{value:M})),this.container.className="buttonWidgetAnnotation checkBox";const y=document.createElement("input");return _.add(y),y.disabled=o.readOnly,y.type="checkbox",y.name=o.fieldName,M&&y.setAttribute("checked",!0),y.setAttribute("id",p),y.setAttribute("exportValue",o.exportValue),y.tabIndex=R,y.addEventListener("change",u=>{const{name:W,checked:$}=u.target;for(const X of this._getElementsByName(W,p)){const Q=$&&X.exportValue===o.exportValue;X.domElement&&(X.domElement.checked=Q),t.setValue(X.id,{value:Q})}t.setValue(p,{value:$})}),y.addEventListener("resetform",u=>{u.target.checked=(o.defaultFieldValue||"Off")===o.exportValue}),this.enableScripting&&this.hasJSActions&&(y.addEventListener("updatefromsandbox",u=>{this._dispatchEventFromSandbox({value($){$.target.checked="Off"!==$.detail.value,t.setValue(p,{value:$.target.checked})}},u)}),this._setEventListeners(y,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)),this._setBackgroundColor(y),this.container.appendChild(y),this.container}}class O extends b{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const t=this.annotationStorage,o=this.data,p=o.id;let M=t.getValue(p,{value:o.fieldValue===o.buttonValue}).value;"string"==typeof M&&(M=M!==o.buttonValue,t.setValue(p,{value:M}));const y=document.createElement("input");if(_.add(y),y.disabled=o.readOnly,y.type="radio",y.name=o.fieldName,M&&y.setAttribute("checked",!0),y.setAttribute("id",p),y.tabIndex=R,y.addEventListener("change",u=>{const{name:W,checked:$}=u.target;for(const X of this._getElementsByName(W,p))t.setValue(X.id,{value:!1});t.setValue(p,{value:$})}),y.addEventListener("resetform",u=>{const W=o.defaultFieldValue;u.target.checked=null!=W&&W===o.buttonValue}),this.enableScripting&&this.hasJSActions){const u=o.buttonValue;y.addEventListener("updatefromsandbox",W=>{this._dispatchEventFromSandbox({value:X=>{const Q=u===X.detail.value;for(const ie of this._getElementsByName(X.target.name)){const oe=Q&&ie.id===p;ie.domElement&&(ie.domElement.checked=oe),t.setValue(ie.id,{value:oe})}}},W)}),this._setEventListeners(y,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],W=>W.target.checked)}return this._setBackgroundColor(y),this.container.appendChild(y),this.container}}class S extends B{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();return t.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(t.title=this.data.alternativeText),t}}class w extends b{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const t=this.annotationStorage,o=this.data.id;t.getValue(o,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});let{fontSize:p}=this.data.defaultAppearanceData;p||(p=9);const M=`calc(${p}px * var(--zoom-factor))`,y=document.createElement("select");_.add(y),y.disabled=this.data.readOnly,y.name=this.data.fieldName,y.setAttribute("id",o),y.tabIndex=R,y.style.fontSize=`${p}px`,this.data.combo||(y.size=this.data.options.length,this.data.multiSelect&&(y.multiple=!0)),y.addEventListener("resetform",$=>{const X=this.data.defaultFieldValue;for(const Q of y.options)Q.selected=Q.value===X});for(const $ of this.data.options){const X=document.createElement("option");X.textContent=$.displayValue,X.value=$.exportValue,this.data.combo&&(X.style.fontSize=M),this.data.fieldValue.includes($.exportValue)&&X.setAttribute("selected",!0),y.appendChild(X)}const u=($,X)=>{const Q=X?"value":"textContent",ie=$.target.options;return $.target.multiple?Array.prototype.filter.call(ie,oe=>oe.selected).map(oe=>oe[Q]):-1===ie.selectedIndex?null:ie[ie.selectedIndex][Q]},W=$=>Array.prototype.map.call($.target.options,Q=>({displayValue:Q.textContent,exportValue:Q.value}));return this.enableScripting&&this.hasJSActions?(y.addEventListener("updatefromsandbox",$=>{this._dispatchEventFromSandbox({value(Q){const ie=Q.detail.value,oe=new Set(Array.isArray(ie)?ie:[ie]);for(const he of y.options)he.selected=oe.has(he.value);t.setValue(o,{value:u(Q,!0)})},multipleSelection(Q){y.multiple=!0},remove(Q){const ie=y.options,oe=Q.detail.remove;ie[oe].selected=!1,y.remove(oe),ie.length>0&&-1===Array.prototype.findIndex.call(ie,de=>de.selected)&&(ie[0].selected=!0),t.setValue(o,{value:u(Q,!0),items:W(Q)})},clear(Q){for(;0!==y.length;)y.remove(0);t.setValue(o,{value:null,items:[]})},insert(Q){const{index:ie,displayValue:oe,exportValue:he}=Q.detail.insert,de=document.createElement("option");de.textContent=oe,de.value=he,y.insertBefore(de,y.children[ie]),t.setValue(o,{value:u(Q,!0),items:W(Q)})},items(Q){const{items:ie}=Q.detail;for(;0!==y.length;)y.remove(0);for(const oe of ie){const{displayValue:he,exportValue:de}=oe,ae=document.createElement("option");ae.textContent=he,ae.value=de,y.appendChild(ae)}y.options.length>0&&(y.options[0].selected=!0),t.setValue(o,{value:u(Q,!0),items:W(Q)})},indices(Q){const ie=new Set(Q.detail.indices);for(const oe of Q.target.options)oe.selected=ie.has(oe.index);t.setValue(o,{value:u(Q,!0)})},editable(Q){Q.target.disabled=!Q.detail.editable}},$)}),y.addEventListener("input",$=>{const X=u($,!0),Q=u($,!1);t.setValue(o,{value:X}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o,name:"Keystroke",value:Q,changeEx:X,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(y,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],$=>$.target.checked)):y.addEventListener("input",function($){t.setValue(o,{value:u($)})}),this._setBackgroundColor(y),this.container.appendChild(y),this.container}}class i extends j{constructor(t){super(t,{isRenderable:!!(t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const p=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===p.length)return this.container;const M=new n({container:this.container,trigger:Array.from(p),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),y=this.page,u=e.Util.normalizeRect([this.data.parentRect[0],y.view[3]-this.data.parentRect[1]+y.view[1],this.data.parentRect[2],y.view[3]-this.data.parentRect[3]+y.view[1]]),W=u[0]+this.data.parentRect[2]-this.data.parentRect[0],$=u[1];return this.container.style.transformOrigin=`${-W}px ${-$}px`,this.container.style.left=`${W}px`,this.container.style.top=`${$}px`,this.container.appendChild(M.render()),this.container}}class n{constructor(t){this.container=t.container,this.trigger=t.trigger,this.color=t.color,this.titleObj=t.titleObj,this.modificationDate=t.modificationDate,this.contentsObj=t.contentsObj,this.richText=t.richText,this.hideWrapper=t.hideWrapper||!1,this.pinned=!1}render(){const o=document.createElement("div");o.className="popupWrapper",this.hideElement=this.hideWrapper?o:this.container,this.hideElement.hidden=!0;const p=document.createElement("div");p.className="popup";const M=this.color;M&&(p.style.backgroundColor=e.Util.makeHexColor(0|.7*(255-M[0])+M[0],0|.7*(255-M[1])+M[1],0|.7*(255-M[2])+M[2]));const y=document.createElement("h1");y.dir=this.titleObj.dir,y.textContent=this.titleObj.str,p.appendChild(y);const u=T.PDFDateString.toDateObject(this.modificationDate);if(u){const W=document.createElement("span");W.className="popupDate",W.textContent="{{date}}, {{time}}",W.dataset.l10nId="annotation_date_string",W.dataset.l10nArgs=JSON.stringify({date:u.toLocaleDateString(),time:u.toLocaleTimeString()}),p.appendChild(W)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const W=this._formatContents(this.contentsObj);p.appendChild(W)}else V.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:p}),p.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const W of this.trigger)W.addEventListener("click",this._toggle.bind(this)),W.addEventListener("mouseover",this._show.bind(this,!1)),W.addEventListener("mouseout",this._hide.bind(this,!1));return p.addEventListener("click",this._hide.bind(this,!0)),o.appendChild(p),o}_formatContents({str:t,dir:o}){const p=document.createElement("p");p.className="popupContent",p.dir=o;const M=t.split(/(?:\r\n?|\n)/);for(let y=0,u=M.length;y<u;++y)p.appendChild(document.createTextNode(M[y])),y<u-1&&p.appendChild(document.createElement("br"));return p}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(t=!1){t&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(t=!0){t&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class f extends j{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class E extends j{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const t=this.data,{width:o,height:p}=L(t.rect),M=this.svgFactory.create(o,p),y=this.svgFactory.createElement("svg:line");return y.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),y.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),y.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),y.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),y.setAttribute("stroke-width",t.borderStyle.width||1),y.setAttribute("stroke","transparent"),y.setAttribute("fill","transparent"),M.appendChild(y),this.container.append(M),this._createPopup(y,t),this.container}}class d extends j{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const t=this.data,{width:o,height:p}=L(t.rect),M=this.svgFactory.create(o,p),y=t.borderStyle.width,u=this.svgFactory.createElement("svg:rect");return u.setAttribute("x",y/2),u.setAttribute("y",y/2),u.setAttribute("width",o-y),u.setAttribute("height",p-y),u.setAttribute("stroke-width",y||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),M.appendChild(u),this.container.append(M),this._createPopup(u,t),this.container}}class A extends j{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const t=this.data,{width:o,height:p}=L(t.rect),M=this.svgFactory.create(o,p),y=t.borderStyle.width,u=this.svgFactory.createElement("svg:ellipse");return u.setAttribute("cx",o/2),u.setAttribute("cy",p/2),u.setAttribute("rx",o/2-y/2),u.setAttribute("ry",p/2-y/2),u.setAttribute("stroke-width",y||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),M.appendChild(u),this.container.append(M),this._createPopup(u,t),this.container}}class h extends j{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const t=this.data,{width:o,height:p}=L(t.rect),M=this.svgFactory.create(o,p);let y=[];for(const W of t.vertices)y.push(W.x-t.rect[0]+","+(t.rect[3]-W.y));y=y.join(" ");const u=this.svgFactory.createElement(this.svgElementName);return u.setAttribute("points",y),u.setAttribute("stroke-width",t.borderStyle.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),M.appendChild(u),this.container.append(M),this._createPopup(u,t),this.container}}class r extends h{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class v extends j{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class C extends j{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const t=this.data,{width:o,height:p}=L(t.rect),M=this.svgFactory.create(o,p);for(const y of t.inkLists){let u=[];for(const $ of y)u.push(`${$.x-t.rect[0]},${t.rect[3]-$.y}`);u=u.join(" ");const W=this.svgFactory.createElement(this.svgElementName);W.setAttribute("points",u),W.setAttribute("stroke-width",t.borderStyle.width||1),W.setAttribute("stroke","transparent"),W.setAttribute("fill","transparent"),this._createPopup(W,t),M.appendChild(W)}return this.container.append(M),this.container}}class N extends j{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class H extends j{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class G extends j{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class K extends j{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class P extends j{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class l extends j{constructor(t){super(t,{isRenderable:!0});const{filename:o,content:p}=this.data.file;this.filename=(0,T.getFilenameFromUrl)(o),this.content=p,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,id:(0,e.stringToPDFString)(o),filename:o,content:p})}render(){this.container.className="fileAttachmentAnnotation";const t=document.createElement("div");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(t,this.data),this.container.appendChild(t),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class s{static render(t){const o=[],p=[];for(const y of t.annotations){if(!y)continue;const{width:u,height:W}=L(y.rect);if(!(u<=0||W<=0)){if(y.annotationType===e.AnnotationType.POPUP){p.push(y);continue}o.push(y)}}p.length&&o.push(...p);const M=t.div;for(const y of o){const u=I.create({data:y,layer:M,page:t.page,viewport:t.viewport,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:!1!==t.renderForms,svgFactory:new T.DOMSVGFactory,annotationStorage:t.annotationStorage||new D.AnnotationStorage,enableScripting:t.enableScripting,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,mouseState:t.mouseState||{isDown:!1}});if(u.isRenderable){const W=u.render();if(y.hidden&&(W.style.visibility="hidden"),Array.isArray(W))for(const $ of W)M.appendChild($);else u instanceof i?M.prepend(W):M.appendChild(W)}}_classStaticPrivateMethodGet(this,s,g).call(this,M,t.annotationCanvasMap)}static update(t){const{page:o,viewport:p,annotations:M,annotationCanvasMap:y,div:u}=t,W=p.transform,$=`matrix(${W.join(",")})`;let X,Q;for(const ie of M){const oe=u.querySelectorAll(`[data-annotation-id="${ie.id}"]`);if(oe)for(const he of oe)if(ie.hasOwnCanvas){const de=e.Util.normalizeRect([ie.rect[0],o.view[3]-ie.rect[1]+o.view[1],ie.rect[2],o.view[3]-ie.rect[3]+o.view[1]]);if(!Q){X=Math.abs(W[0]||W[1]);const ye=W.slice();for(let fe=0;fe<4;fe++)ye[fe]=Math.sign(ye[fe]);Q=`matrix(${ye.join(",")})`}const ae=de[0]*X,be=de[1]*X;he.style.left=`${ae}px`,he.style.top=`${be}px`,he.style.transformOrigin=`${-ae}px ${-be}px`,he.style.transform=Q}else he.style.transform=$}_classStaticPrivateMethodGet(this,s,g).call(this,u,y),u.hidden=!1}}function g(c,t){if(t){for(const[o,p]of t){const M=c.querySelector(`[data-annotation-id="${o}"]`);if(!M)continue;const{firstChild:y}=M;"CANVAS"===y.nodeName?M.replaceChild(p,y):M.insertBefore(p,y)}t.clear()}}a.AnnotationLayer=s},(q,a)=>{function F(T){return Math.floor(255*Math.max(0,Math.min(1,T))).toString(16).padStart(2,"0")}Object.defineProperty(a,"__esModule",{value:!0}),a.ColorConverters=void 0,a.ColorConverters=class e{static CMYK_G([D,Y,V,R]){return["G",1-Math.min(1,.3*D+.59*V+.11*Y+R)]}static G_CMYK([D]){return["CMYK",0,0,0,1-D]}static G_RGB([D]){return["RGB",D,D,D]}static G_HTML([D]){const Y=F(D);return`#${Y}${Y}${Y}`}static RGB_G([D,Y,V]){return["G",.3*D+.59*Y+.11*V]}static RGB_HTML([D,Y,V]){return`#${F(D)}${F(Y)}${F(V)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([D,Y,V,R]){return["RGB",1-Math.min(1,D+R),1-Math.min(1,V+R),1-Math.min(1,Y+R)]}static CMYK_HTML(D){return this.RGB_HTML(this.CMYK_RGB(D))}static RGB_CMYK([D,Y,V]){const R=1-D,_=1-Y,L=1-V;return["CMYK",R,_,L,Math.min(R,_,L)]}}},(q,a,F)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.XfaLayer=void 0;var e=F(1),T=F(17);a.XfaLayer=class D{static setupStorage(V,R,_,L,I){const j=L.getValue(R,{value:null});switch(_.name){case"textarea":if(null!==j.value&&(V.textContent=j.value),"print"===I)break;V.addEventListener("input",B=>{L.setValue(R,{value:B.target.value})});break;case"input":if("radio"===_.attributes.type||"checkbox"===_.attributes.type){if(j.value===_.attributes.xfaOn?V.setAttribute("checked",!0):j.value===_.attributes.xfaOff&&V.removeAttribute("checked"),"print"===I)break;V.addEventListener("change",B=>{L.setValue(R,{value:B.target.getAttribute(B.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==j.value&&V.setAttribute("value",j.value),"print"===I)break;V.addEventListener("input",B=>{L.setValue(R,{value:B.target.value})})}break;case"select":if(null!==j.value)for(const B of _.children)B.attributes.value===j.value&&(B.attributes.selected=!0);V.addEventListener("input",B=>{const U=B.target.options;L.setValue(R,{value:-1===U.selectedIndex?"":U[U.selectedIndex].value})})}}static setAttributes({html:V,element:R,storage:_=null,intent:L,linkService:I}){const{attributes:j}=R,B=V instanceof HTMLAnchorElement;"radio"===j.type&&(j.name=`${j.name}-${L}`);for(const[U,b]of Object.entries(j))if(null!=b&&"dataId"!==U)if("style"!==U)if("textContent"===U)V.textContent=b;else if("class"===U)b.length&&V.setAttribute(U,b.join(" "));else{if(B&&("href"===U||"newWindow"===U))continue;V.setAttribute(U,b)}else Object.assign(V.style,b);B&&(I.addLinkAttributes||(0,e.warn)("XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance."),I.addLinkAttributes?.(V,j.href,j.newWindow)),_&&j.dataId&&this.setupStorage(V,j.dataId,R,_)}static render(V){const R=V.annotationStorage,_=V.linkService,L=V.xfaHtml,I=V.intent||"display",j=document.createElement(L.name);L.attributes&&this.setAttributes({html:j,element:L,intent:I,linkService:_});const B=[[L,-1,j]],U=V.div;if(U.appendChild(j),V.viewport){const m=`matrix(${V.viewport.transform.join(",")})`;U.style.transform=m}"richText"!==I&&U.setAttribute("class","xfaLayer xfaFont");const b=[];for(;B.length>0;){const[m,k,O]=B[B.length-1];if(k+1===m.children.length){B.pop();continue}const S=m.children[++B[B.length-1][1]];if(null===S)continue;const{name:w}=S;if("#text"===w){const n=document.createTextNode(S.value);b.push(n),O.appendChild(n);continue}let i;if(i=S?.attributes?.xmlns?document.createElementNS(S.attributes.xmlns,w):document.createElement(w),O.appendChild(i),S.attributes&&this.setAttributes({html:i,element:S,storage:R,intent:I,linkService:_}),S.children&&S.children.length>0)B.push([S,-1,i]);else if(S.value){const n=document.createTextNode(S.value);T.XfaText.shouldBuildText(w)&&b.push(n),i.appendChild(n)}}for(const m of U.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:b}}static update(V){const R=`matrix(${V.viewport.transform.join(",")})`;V.div.style.transform=R,V.div.hidden=!1}}},(q,a,F)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.renderTextLayer=function k(O){const S=new m({textContent:O.textContent,textContentStream:O.textContentStream,container:O.container,viewport:O.viewport,textDivs:O.textDivs,textContentItemsStr:O.textContentItemsStr,enhanceTextSelection:O.enhanceTextSelection});return S._render(O.timeout),S};var e=F(1);const D=30,V=new Map,R=/^\s+$/g;function L(O,S,w,i){const n=document.createElement("span"),f=O._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==S.str,hasEOL:S.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==S.str,hasEOL:S.hasEOL};O._textDivs.push(n);const E=e.Util.transform(O._viewport.transform,S.transform);let d=Math.atan2(E[1],E[0]);const A=w[S.fontName];A.vertical&&(d+=Math.PI/2);const h=Math.hypot(E[2],E[3]),r=h*function _(O,S){const w=V.get(O);if(w)return w;S.save(),S.font=`30px ${O}`;const i=S.measureText("");let n=i.fontBoundingBoxAscent,f=Math.abs(i.fontBoundingBoxDescent);if(n){S.restore();const d=n/(n+f);return V.set(O,d),d}S.strokeStyle="red",S.clearRect(0,0,D,D),S.strokeText("g",0,0);let E=S.getImageData(0,0,D,D).data;f=0;for(let d=E.length-1-3;d>=0;d-=4)if(E[d]>0){f=Math.ceil(d/4/D);break}S.clearRect(0,0,D,D),S.strokeText("A",0,D),E=S.getImageData(0,0,D,D).data,n=0;for(let d=0,A=E.length;d<A;d+=4)if(E[d]>0){n=D-Math.floor(d/4/D);break}if(S.restore(),n){const d=n/(n+f);return V.set(O,d),d}return V.set(O,.8),.8}(A.fontFamily,i);let v,C;0===d?(v=E[4],C=E[5]-r):(v=E[4]+r*Math.sin(d),C=E[5]-r*Math.cos(d)),n.style.left=`${v}px`,n.style.top=`${C}px`,n.style.fontSize=`${h}px`,n.style.fontFamily=A.fontFamily,n.setAttribute("role","presentation"),n.textContent=S.str,n.dir=S.dir,O._fontInspectorEnabled&&(n.dataset.fontName=S.fontName),0!==d&&(f.angle=d*(180/Math.PI));let N=!1;if(S.str.length>1||O._enhanceTextSelection&&R.test(S.str))N=!0;else if(" "!==S.str&&S.transform[0]!==S.transform[3]){const H=Math.abs(S.transform[0]),G=Math.abs(S.transform[3]);H!==G&&Math.max(H,G)/Math.min(H,G)>1.5&&(N=!0)}if(N&&(f.canvasWidth=A.vertical?S.height*O._viewport.scale:S.width*O._viewport.scale),O._textDivProperties.set(n,f),O._textContentStream&&O._layoutText(n),O._enhanceTextSelection&&f.hasText){let H=1,G=0;0!==d&&(H=Math.cos(d),G=Math.sin(d));const K=(A.vertical?S.height:S.width)*O._viewport.scale,P=h;let l,s;0!==d?(l=[H,G,-G,H,v,C],s=e.Util.getAxialAlignedBoundingBox([0,0,K,P],l)):s=[v,C,v+K,C+P],O._bounds.push({left:s[0],top:s[1],right:s[2],bottom:s[3],div:n,size:[K,P],m:l})}}function I(O){if(O._canceled)return;const S=O._textDivs,w=O._capability,i=S.length;if(i>1e5)return O._renderingDone=!0,void w.resolve();if(!O._textContentStream)for(let n=0;n<i;n++)O._layoutText(S[n]);O._renderingDone=!0,w.resolve()}function j(O,S,w){let i=0;for(let n=0;n<w;n++){const f=O[S++];f>0&&(i=i?Math.min(f,i):f)}return i}function b(O,S){S.sort(function(n,f){return n.x1-f.x1||n.index-f.index});const i=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const n of S){let f=0;for(;f<i.length&&i[f].end<=n.y1;)f++;let E=i.length-1;for(;E>=0&&i[E].start>=n.y2;)E--;let d,A,h,r,v=-1/0;for(h=f;h<=E;h++){let H;d=i[h],A=d.boundary,H=A.x2>n.x1?A.index>n.index?A.x1New:n.x1:void 0===A.x2New?(A.x2+n.x1)/2:A.x2New,H>v&&(v=H)}for(n.x1New=v,h=f;h<=E;h++)d=i[h],A=d.boundary,void 0===A.x2New?A.x2>n.x1?A.index>n.index&&(A.x2New=A.x2):A.x2New=v:A.x2New>v&&(A.x2New=Math.max(v,A.x2));const C=[];let N=null;for(h=f;h<=E;h++){d=i[h],A=d.boundary;const H=A.x2>n.x2?A:n;N===H?C[C.length-1].end=d.end:(C.push({start:d.start,end:d.end,boundary:H}),N=H)}for(i[f].start<n.y1&&(C[0].start=n.y1,C.unshift({start:i[f].start,end:n.y1,boundary:i[f].boundary})),n.y2<i[E].end&&(C[C.length-1].end=n.y2,C.push({start:n.y2,end:i[E].end,boundary:i[E].boundary})),h=f;h<=E;h++){if(d=i[h],A=d.boundary,void 0!==A.x2New)continue;let H=!1;for(r=f-1;!H&&r>=0&&i[r].start>=A.y1;r--)H=i[r].boundary===A;for(r=E+1;!H&&r<i.length&&i[r].end<=A.y2;r++)H=i[r].boundary===A;for(r=0;!H&&r<C.length;r++)H=C[r].boundary===A;H||(A.x2New=v)}Array.prototype.splice.apply(i,[f,E-f+1].concat(C))}for(const n of i){const f=n.boundary;void 0===f.x2New&&(f.x2New=Math.max(O,f.x2))}}class m{constructor({textContent:S,textContentStream:w,container:i,viewport:n,textDivs:f,textContentItemsStr:E,enhanceTextSelection:d}){this._textContent=S,this._textContentStream=w,this._container=i,this._document=i.ownerDocument,this._viewport=n,this._textDivs=f||[],this._textContentItemsStr=E||[],this._enhanceTextSelection=!!d,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,e.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new e.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(S,w){for(let i=0,n=S.length;i<n;i++)if(void 0!==S[i].str)this._textContentItemsStr.push(S[i].str),L(this,S[i],w,this._layoutTextCtx);else if("beginMarkedContentProps"===S[i].type||"beginMarkedContent"===S[i].type){const f=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==S[i].id&&this._container.setAttribute("id",`${S[i].id}`),f.appendChild(this._container)}else"endMarkedContent"===S[i].type&&(this._container=this._container.parentNode)}_layoutText(S){const w=this._textDivProperties.get(S);let i="";if(0!==w.canvasWidth&&w.hasText){const{fontSize:n,fontFamily:f}=S.style;(n!==this._layoutTextLastFontSize||f!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${n} ${f}`,this._layoutTextLastFontSize=n,this._layoutTextLastFontFamily=f);const{width:E}=this._layoutTextCtx.measureText(S.textContent);if(E>0){const d=w.canvasWidth/E;this._enhanceTextSelection&&(w.scale=d),i=`scaleX(${d})`}}if(0!==w.angle&&(i=`rotate(${w.angle}deg) ${i}`),i.length>0&&(this._enhanceTextSelection&&(w.originalTransform=i),S.style.transform=i),w.hasText&&this._container.appendChild(S),w.hasEOL){const n=document.createElement("br");n.setAttribute("role","presentation"),this._container.appendChild(n)}}_render(S=0){const w=(0,e.createPromiseCapability)();let i=Object.create(null);const n=this._document.createElement("canvas");if(n.height=n.width=D,n.mozOpaque=!0,this._layoutTextCtx=n.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),w.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const f=()=>{this._reader.read().then(({value:E,done:d})=>{d?w.resolve():(Object.assign(i,E.styles),this._processItems(E.items,i),f())},w.reject)};this._reader=this._textContentStream.getReader(),f()}}w.promise.then(()=>{i=null,S?this._renderTimer=setTimeout(()=>{I(this),this._renderTimer=null},S):I(this)},this._capability.reject)}expandTextDivs(S=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function B(O){const S=O._bounds,w=O._viewport,i=function U(O,S,w){const i=w.map(function(f,E){return{x1:f.left,y1:f.top,x2:f.right,y2:f.bottom,index:E,x1New:void 0,x2New:void 0}});b(O,i);const n=new Array(w.length);for(const f of i)n[f.index]={left:f.x1New,top:0,right:f.x2New,bottom:0};w.map(function(f,E){const d=n[E],A=i[E];A.x1=f.top,A.y1=O-d.right,A.x2=f.bottom,A.y2=O-d.left,A.index=E,A.x1New=void 0,A.x2New=void 0}),b(S,i);for(const f of i){const E=f.index;n[E].top=f.x1New,n[E].bottom=f.x2New}return n}(w.width,w.height,S);for(let n=0;n<i.length;n++){const f=S[n].div,E=O._textDivProperties.get(f);if(0===E.angle){E.paddingLeft=S[n].left-i[n].left,E.paddingTop=S[n].top-i[n].top,E.paddingRight=i[n].right-S[n].right,E.paddingBottom=i[n].bottom-S[n].bottom,O._textDivProperties.set(f,E);continue}const d=i[n],A=S[n],h=A.m,r=h[0],v=h[1],C=[[0,0],[0,A.size[1]],[A.size[0],0],A.size],N=new Float64Array(64);for(let G=0,K=C.length;G<K;G++){const P=e.Util.applyTransform(C[G],h);N[G+0]=r&&(d.left-P[0])/r,N[G+4]=v&&(d.top-P[1])/v,N[G+8]=r&&(d.right-P[0])/r,N[G+12]=v&&(d.bottom-P[1])/v,N[G+16]=v&&(d.left-P[0])/-v,N[G+20]=r&&(d.top-P[1])/r,N[G+24]=v&&(d.right-P[0])/-v,N[G+28]=r&&(d.bottom-P[1])/r,N[G+32]=r&&(d.left-P[0])/-r,N[G+36]=v&&(d.top-P[1])/-v,N[G+40]=r&&(d.right-P[0])/-r,N[G+44]=v&&(d.bottom-P[1])/-v,N[G+48]=v&&(d.left-P[0])/v,N[G+52]=r&&(d.top-P[1])/-r,N[G+56]=v&&(d.right-P[0])/v,N[G+60]=r&&(d.bottom-P[1])/-r}const H=1+Math.min(Math.abs(r),Math.abs(v));E.paddingLeft=j(N,32,16)/H,E.paddingTop=j(N,48,16)/H,E.paddingRight=j(N,0,16)/H,E.paddingBottom=j(N,16,16)/H,O._textDivProperties.set(f,E)}}(this),this._bounds=null);const w=[],i=[];for(let n=0,f=this._textDivs.length;n<f;n++){const E=this._textDivs[n],d=this._textDivProperties.get(E);!d.hasText||(S?(w.length=0,i.length=0,d.originalTransform&&w.push(d.originalTransform),d.paddingTop>0?(i.push(`${d.paddingTop}px`),w.push(`translateY(${-d.paddingTop}px)`)):i.push(0),i.push(d.paddingRight>0?d.paddingRight/d.scale+"px":0),i.push(d.paddingBottom>0?`${d.paddingBottom}px`:0),d.paddingLeft>0?(i.push(d.paddingLeft/d.scale+"px"),w.push(`translateX(${-d.paddingLeft/d.scale}px)`)):i.push(0),E.style.padding=i.join(" "),w.length&&(E.style.transform=w.join(" "))):(E.style.padding=null,E.style.transform=d.originalTransform))}}}},(q,a,F)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SVGGraphics=void 0;var e=F(1),T=F(5),D=F(3);let Y=class{constructor(){(0,e.unreachable)("Not implemented: SVGGraphics")}};a.SVGGraphics=Y;{let b=function(i){let n=[];const f=[];for(const E of i)"save"!==E.fn?"restore"===E.fn?n=f.pop():n.push(E):(n.push({fnId:92,fn:"group",items:[]}),f.push(n),n=n[n.length-1].items);return n},m=function(i){if(Number.isInteger(i))return i.toString();const n=i.toFixed(10);let f=n.length-1;if("0"!==n[f])return n;do{f--}while("0"===n[f]);return n.substring(0,"."===n[f]?f:f+1)},k=function(i){if(0===i[4]&&0===i[5]){if(0===i[1]&&0===i[2])return 1===i[0]&&1===i[3]?"":`scale(${m(i[0])} ${m(i[3])})`;if(i[0]===i[3]&&i[1]===-i[2]){const n=180*Math.acos(i[0])/Math.PI;return`rotate(${m(n)})`}}else if(1===i[0]&&0===i[1]&&0===i[2]&&1===i[3])return`translate(${m(i[4])} ${m(i[5])})`;return`matrix(${m(i[0])} ${m(i[1])} ${m(i[2])} ${m(i[3])} ${m(i[4])} ${m(i[5])})`};const V={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},R="http://www.w3.org/XML/1998/namespace",_="http://www.w3.org/1999/xlink",L=["butt","round","square"],I=["miter","round","bevel"],j=function(i,n="",f=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!f)return URL.createObjectURL(new Blob([i],{type:n}));const E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let d=`data:${n};base64,`;for(let A=0,h=i.length;A<h;A+=3){const r=255&i[A],v=255&i[A+1],C=255&i[A+2];d+=E[r>>2]+E[(3&r)<<4|v>>4]+E[A+1<h?(15&v)<<2|C>>6:64]+E[A+2<h?63&C:64]}return d},B=function(){const i=new Uint8Array([137,80,78,71,13,10,26,10]),f=new Int32Array(256);for(let C=0;C<256;C++){let N=C;for(let H=0;H<8;H++)N=1&N?3988292384^N>>1&2147483647:N>>1&2147483647;f[C]=N}function d(C,N,H,G){let K=G;const P=N.length;H[K]=P>>24&255,H[K+1]=P>>16&255,H[K+2]=P>>8&255,H[K+3]=255&P,K+=4,H[K]=255&C.charCodeAt(0),H[K+1]=255&C.charCodeAt(1),H[K+2]=255&C.charCodeAt(2),H[K+3]=255&C.charCodeAt(3),K+=4,H.set(N,K),K+=N.length;const l=function E(C,N,H){let G=-1;for(let K=N;K<H;K++)G=G>>>8^f[255&(G^C[K])];return-1^G}(H,G+4,K);H[K]=l>>24&255,H[K+1]=l>>16&255,H[K+2]=l>>8&255,H[K+3]=255&l}function r(C){let N=C.length;const H=65535,G=Math.ceil(N/H),K=new Uint8Array(2+N+5*G+4);let P=0;K[P++]=120,K[P++]=156;let l=0;for(;N>H;)K[P++]=0,K[P++]=255,K[P++]=255,K[P++]=0,K[P++]=0,K.set(C.subarray(l,l+H),P),P+=H,l+=H,N-=H;K[P++]=1,K[P++]=255&N,K[P++]=N>>8&255,K[P++]=255&~N,K[P++]=(65535&~N)>>8&255,K.set(C.subarray(l),P),P+=C.length-l;const s=function A(C,N,H){let G=1,K=0;for(let P=N;P<H;++P)G=(G+(255&C[P]))%65521,K=(K+G)%65521;return K<<16|G}(C,0,C.length);return K[P++]=s>>24&255,K[P++]=s>>16&255,K[P++]=s>>8&255,K[P++]=255&s,K}return function(N,H,G){return function v(C,N,H,G){const K=C.width,P=C.height;let l,s,g;const c=C.data;switch(N){case e.ImageKind.GRAYSCALE_1BPP:s=0,l=1,g=K+7>>3;break;case e.ImageKind.RGB_24BPP:s=2,l=8,g=3*K;break;case e.ImageKind.RGBA_32BPP:s=6,l=8,g=4*K;break;default:throw new Error("invalid format")}const t=new Uint8Array((1+g)*P);let o=0,p=0;for(let X=0;X<P;++X)t[o++]=0,t.set(c.subarray(p,p+g),o),p+=g,o+=g;if(N===e.ImageKind.GRAYSCALE_1BPP&&G){o=0;for(let X=0;X<P;X++){o++;for(let Q=0;Q<g;Q++)t[o++]^=255}}const M=new Uint8Array([K>>24&255,K>>16&255,K>>8&255,255&K,P>>24&255,P>>16&255,P>>8&255,255&P,l,s,0,0,0]),y=function h(C){if(!D.isNodeJS)return r(C);try{let N;N=parseInt(process.versions.node)>=8?C:Buffer.from(C);const H=__webpack_require__(2258).deflateSync(N,{level:9});return H instanceof Uint8Array?H:new Uint8Array(H)}catch(N){(0,e.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+N)}return r(C)}(t),W=new Uint8Array(i.length+36+M.length+y.length);let $=0;return W.set(i,$),$+=i.length,d("IHDR",M,W,$),$+=12+M.length,d("IDATA",y,W,$),$+=12+y.length,d("IEND",new Uint8Array(0),W,$),j(W,"image/png",H)}(N,void 0===N.kind?e.ImageKind.GRAYSCALE_1BPP:N.kind,H,G)}}();class U{constructor(){this.fontSizeScale=1,this.fontWeight=V.fontWeight,this.fontSize=0,this.textMatrix=e.IDENTITY_MATRIX,this.fontMatrix=e.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=e.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=V.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(n,f){this.x=n,this.y=f}}let O=0,S=0,w=0;a.SVGGraphics=Y=class{constructor(i,n,f=!1){this.svgFactory=new T.DOMSVGFactory,this.current=new U,this.transformMatrix=e.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=i,this.objs=n,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!f,this._operatorIdMapping=[];for(const E in e.OPS)this._operatorIdMapping[e.OPS[E]]=E}save(){this.transformStack.push(this.transformMatrix);const i=this.current;this.extraStack.push(i),this.current=i.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(i){this.save(),this.executeOpTree(i),this.restore()}loadDependencies(i){const n=i.fnArray,f=i.argsArray;for(let E=0,d=n.length;E<d;E++)if(n[E]===e.OPS.dependency)for(const A of f[E]){const h=A.startsWith("g_")?this.commonObjs:this.objs,r=new Promise(v=>{h.get(A,v)});this.current.dependencies.push(r)}return Promise.all(this.current.dependencies)}transform(i,n,f,E,d,A){this.transformMatrix=e.Util.transform(this.transformMatrix,[i,n,f,E,d,A]),this.tgrp=null}getSVG(i,n){this.viewport=n;const f=this._initialize(n);return this.loadDependencies(i).then(()=>(this.transformMatrix=e.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(i)),f))}convertOpList(i){const n=this._operatorIdMapping,f=i.argsArray,E=i.fnArray,d=[];for(let A=0,h=E.length;A<h;A++){const r=E[A];d.push({fnId:r,fn:n[r],args:f[A]})}return b(d)}executeOpTree(i){for(const n of i){const f=n.fn,d=n.args;switch(0|n.fnId){case e.OPS.beginText:this.beginText();break;case e.OPS.dependency:break;case e.OPS.setLeading:this.setLeading(d);break;case e.OPS.setLeadingMoveText:this.setLeadingMoveText(d[0],d[1]);break;case e.OPS.setFont:this.setFont(d);break;case e.OPS.showText:case e.OPS.showSpacedText:this.showText(d[0]);break;case e.OPS.endText:this.endText();break;case e.OPS.moveText:this.moveText(d[0],d[1]);break;case e.OPS.setCharSpacing:this.setCharSpacing(d[0]);break;case e.OPS.setWordSpacing:this.setWordSpacing(d[0]);break;case e.OPS.setHScale:this.setHScale(d[0]);break;case e.OPS.setTextMatrix:this.setTextMatrix(d[0],d[1],d[2],d[3],d[4],d[5]);break;case e.OPS.setTextRise:this.setTextRise(d[0]);break;case e.OPS.setTextRenderingMode:this.setTextRenderingMode(d[0]);break;case e.OPS.setLineWidth:this.setLineWidth(d[0]);break;case e.OPS.setLineJoin:this.setLineJoin(d[0]);break;case e.OPS.setLineCap:this.setLineCap(d[0]);break;case e.OPS.setMiterLimit:this.setMiterLimit(d[0]);break;case e.OPS.setFillRGBColor:this.setFillRGBColor(d[0],d[1],d[2]);break;case e.OPS.setStrokeRGBColor:this.setStrokeRGBColor(d[0],d[1],d[2]);break;case e.OPS.setStrokeColorN:this.setStrokeColorN(d);break;case e.OPS.setFillColorN:this.setFillColorN(d);break;case e.OPS.shadingFill:this.shadingFill(d[0]);break;case e.OPS.setDash:this.setDash(d[0],d[1]);break;case e.OPS.setRenderingIntent:this.setRenderingIntent(d[0]);break;case e.OPS.setFlatness:this.setFlatness(d[0]);break;case e.OPS.setGState:this.setGState(d[0]);break;case e.OPS.fill:this.fill();break;case e.OPS.eoFill:this.eoFill();break;case e.OPS.stroke:this.stroke();break;case e.OPS.fillStroke:this.fillStroke();break;case e.OPS.eoFillStroke:this.eoFillStroke();break;case e.OPS.clip:this.clip("nonzero");break;case e.OPS.eoClip:this.clip("evenodd");break;case e.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case e.OPS.paintImageXObject:this.paintImageXObject(d[0]);break;case e.OPS.paintInlineImageXObject:this.paintInlineImageXObject(d[0]);break;case e.OPS.paintImageMaskXObject:this.paintImageMaskXObject(d[0]);break;case e.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(d[0],d[1]);break;case e.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case e.OPS.closePath:this.closePath();break;case e.OPS.closeStroke:this.closeStroke();break;case e.OPS.closeFillStroke:this.closeFillStroke();break;case e.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case e.OPS.nextLine:this.nextLine();break;case e.OPS.transform:this.transform(d[0],d[1],d[2],d[3],d[4],d[5]);break;case e.OPS.constructPath:this.constructPath(d[0],d[1]);break;case e.OPS.endPath:this.endPath();break;case 92:this.group(n.items);break;default:(0,e.warn)(`Unimplemented operator ${f}`)}}}setWordSpacing(i){this.current.wordSpacing=i}setCharSpacing(i){this.current.charSpacing=i}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(i,n,f,E,d,A){const h=this.current;h.textMatrix=h.lineMatrix=[i,n,f,E,d,A],h.textMatrixScale=Math.hypot(i,n),h.x=h.lineX=0,h.y=h.lineY=0,h.xcoords=[],h.ycoords=[],h.tspan=this.svgFactory.createElement("svg:tspan"),h.tspan.setAttributeNS(null,"font-family",h.fontFamily),h.tspan.setAttributeNS(null,"font-size",`${m(h.fontSize)}px`),h.tspan.setAttributeNS(null,"y",m(-h.y)),h.txtElement=this.svgFactory.createElement("svg:text"),h.txtElement.appendChild(h.tspan)}beginText(){const i=this.current;i.x=i.lineX=0,i.y=i.lineY=0,i.textMatrix=e.IDENTITY_MATRIX,i.lineMatrix=e.IDENTITY_MATRIX,i.textMatrixScale=1,i.tspan=this.svgFactory.createElement("svg:tspan"),i.txtElement=this.svgFactory.createElement("svg:text"),i.txtgrp=this.svgFactory.createElement("svg:g"),i.xcoords=[],i.ycoords=[]}moveText(i,n){const f=this.current;f.x=f.lineX+=i,f.y=f.lineY+=n,f.xcoords=[],f.ycoords=[],f.tspan=this.svgFactory.createElement("svg:tspan"),f.tspan.setAttributeNS(null,"font-family",f.fontFamily),f.tspan.setAttributeNS(null,"font-size",`${m(f.fontSize)}px`),f.tspan.setAttributeNS(null,"y",m(-f.y))}showText(i){const n=this.current,f=n.font,E=n.fontSize;if(0===E)return;const d=n.fontSizeScale,A=n.charSpacing,h=n.wordSpacing,r=n.fontDirection,v=n.textHScale*r,C=f.vertical,N=C?1:-1,H=f.defaultVMetrics,G=E*n.fontMatrix[0];let K=0;for(const s of i){if(null===s){K+=r*h;continue}if("number"==typeof s){K+=N*s*E/1e3;continue}const g=(s.isSpace?h:0)+A,c=s.fontChar;let t,o,M,p=s.width;if(C){let y;const u=s.vmetric||H;y=s.vmetric?u[1]:.5*p,y=-y*G,p=u?-u[0]:p,t=y/d,o=(K+u[2]*G)/d}else t=K/d,o=0;(s.isInFont||f.missingFile)&&(n.xcoords.push(n.x+t),C&&n.ycoords.push(-n.y+o),n.tspan.textContent+=c),M=C?p*G-g*r:p*G+g*r,K+=M}n.tspan.setAttributeNS(null,"x",n.xcoords.map(m).join(" ")),n.tspan.setAttributeNS(null,"y",C?n.ycoords.map(m).join(" "):m(-n.y)),C?n.y-=K:n.x+=K*v,n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size",`${m(n.fontSize)}px`),n.fontStyle!==V.fontStyle&&n.tspan.setAttributeNS(null,"font-style",n.fontStyle),n.fontWeight!==V.fontWeight&&n.tspan.setAttributeNS(null,"font-weight",n.fontWeight);const P=n.textRenderingMode&e.TextRenderingMode.FILL_STROKE_MASK;P===e.TextRenderingMode.FILL||P===e.TextRenderingMode.FILL_STROKE?(n.fillColor!==V.fillColor&&n.tspan.setAttributeNS(null,"fill",n.fillColor),n.fillAlpha<1&&n.tspan.setAttributeNS(null,"fill-opacity",n.fillAlpha)):n.tspan.setAttributeNS(null,"fill",n.textRenderingMode===e.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(P===e.TextRenderingMode.STROKE||P===e.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(n.tspan,1/(n.textMatrixScale||1));let l=n.textMatrix;0!==n.textRise&&(l=l.slice(),l[5]+=n.textRise),n.txtElement.setAttributeNS(null,"transform",`${k(l)} scale(${m(v)}, -1)`),n.txtElement.setAttributeNS(R,"xml:space","preserve"),n.txtElement.appendChild(n.tspan),n.txtgrp.appendChild(n.txtElement),this._ensureTransformGroup().appendChild(n.txtElement)}setLeadingMoveText(i,n){this.setLeading(-n),this.moveText(i,n)}addFontStyle(i){if(!i.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const n=j(i.data,i.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${i.loadedName}"; src: url(${n}); }\n`}setFont(i){const n=this.current,f=this.commonObjs.get(i[0]);let E=i[1];n.font=f,this.embedFonts&&!f.missingFile&&!this.embeddedFonts[f.loadedName]&&(this.addFontStyle(f),this.embeddedFonts[f.loadedName]=f),n.fontMatrix=f.fontMatrix||e.FONT_IDENTITY_MATRIX;let d="normal";f.black?d="900":f.bold&&(d="bold");const A=f.italic?"italic":"normal";E<0?(E=-E,n.fontDirection=-1):n.fontDirection=1,n.fontSize=E,n.fontFamily=f.loadedName,n.fontWeight=d,n.fontStyle=A,n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"y",m(-n.y)),n.xcoords=[],n.ycoords=[]}endText(){const i=this.current;i.textRenderingMode&e.TextRenderingMode.ADD_TO_PATH_FLAG&&i.txtElement?.hasChildNodes()&&(i.element=i.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(i){i>0&&(this.current.lineWidth=i)}setLineCap(i){this.current.lineCap=L[i]}setLineJoin(i){this.current.lineJoin=I[i]}setMiterLimit(i){this.current.miterLimit=i}setStrokeAlpha(i){this.current.strokeAlpha=i}setStrokeRGBColor(i,n,f){this.current.strokeColor=e.Util.makeHexColor(i,n,f)}setFillAlpha(i){this.current.fillAlpha=i}setFillRGBColor(i,n,f){this.current.fillColor=e.Util.makeHexColor(i,n,f),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(i){this.current.strokeColor=this._makeColorN_Pattern(i)}setFillColorN(i){this.current.fillColor=this._makeColorN_Pattern(i)}shadingFill(i){const n=this.viewport.width,f=this.viewport.height,E=e.Util.inverseTransform(this.transformMatrix),d=e.Util.applyTransform([0,0],E),A=e.Util.applyTransform([0,f],E),h=e.Util.applyTransform([n,0],E),r=e.Util.applyTransform([n,f],E),v=Math.min(d[0],A[0],h[0],r[0]),C=Math.min(d[1],A[1],h[1],r[1]),N=Math.max(d[0],A[0],h[0],r[0]),H=Math.max(d[1],A[1],h[1],r[1]),G=this.svgFactory.createElement("svg:rect");G.setAttributeNS(null,"x",v),G.setAttributeNS(null,"y",C),G.setAttributeNS(null,"width",N-v),G.setAttributeNS(null,"height",H-C),G.setAttributeNS(null,"fill",this._makeShadingPattern(i)),this.current.fillAlpha<1&&G.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(G)}_makeColorN_Pattern(i){return"TilingPattern"===i[0]?this._makeTilingPattern(i):this._makeShadingPattern(i)}_makeTilingPattern(i){const n=i[1],f=i[2],E=i[3]||e.IDENTITY_MATRIX,[d,A,h,r]=i[4],v=i[5],C=i[6],N=i[7],H="shading"+w++,[G,K,P,l]=e.Util.normalizeRect([...e.Util.applyTransform([d,A],E),...e.Util.applyTransform([h,r],E)]),[s,g]=e.Util.singularValueDecompose2dScale(E),c=v*s,t=C*g,o=this.svgFactory.createElement("svg:pattern");o.setAttributeNS(null,"id",H),o.setAttributeNS(null,"patternUnits","userSpaceOnUse"),o.setAttributeNS(null,"width",c),o.setAttributeNS(null,"height",t),o.setAttributeNS(null,"x",`${G}`),o.setAttributeNS(null,"y",`${K}`);const p=this.svg,M=this.transformMatrix,y=this.current.fillColor,u=this.current.strokeColor,W=this.svgFactory.create(P-G,l-K);if(this.svg=W,this.transformMatrix=E,2===N){const $=e.Util.makeHexColor(...n);this.current.fillColor=$,this.current.strokeColor=$}return this.executeOpTree(this.convertOpList(f)),this.svg=p,this.transformMatrix=M,this.current.fillColor=y,this.current.strokeColor=u,o.appendChild(W.childNodes[0]),this.defs.appendChild(o),`url(#${H})`}_makeShadingPattern(i){switch("string"==typeof i&&(i=this.objs.get(i)),i[0]){case"RadialAxial":const n="shading"+w++,f=i[3];let E;switch(i[1]){case"axial":const d=i[4],A=i[5];E=this.svgFactory.createElement("svg:linearGradient"),E.setAttributeNS(null,"id",n),E.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),E.setAttributeNS(null,"x1",d[0]),E.setAttributeNS(null,"y1",d[1]),E.setAttributeNS(null,"x2",A[0]),E.setAttributeNS(null,"y2",A[1]);break;case"radial":const h=i[4],r=i[5],v=i[6],C=i[7];E=this.svgFactory.createElement("svg:radialGradient"),E.setAttributeNS(null,"id",n),E.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),E.setAttributeNS(null,"cx",r[0]),E.setAttributeNS(null,"cy",r[1]),E.setAttributeNS(null,"r",C),E.setAttributeNS(null,"fx",h[0]),E.setAttributeNS(null,"fy",h[1]),E.setAttributeNS(null,"fr",v);break;default:throw new Error(`Unknown RadialAxial type: ${i[1]}`)}for(const d of f){const A=this.svgFactory.createElement("svg:stop");A.setAttributeNS(null,"offset",d[0]),A.setAttributeNS(null,"stop-color",d[1]),E.appendChild(A)}return this.defs.appendChild(E),`url(#${n})`;case"Mesh":return(0,e.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${i[0]}`)}}setDash(i,n){this.current.dashArray=i,this.current.dashPhase=n}constructPath(i,n){const f=this.current;let E=f.x,d=f.y,A=[],h=0;for(const r of i)switch(0|r){case e.OPS.rectangle:E=n[h++],d=n[h++];const N=E+n[h++],H=d+n[h++];A.push("M",m(E),m(d),"L",m(N),m(d),"L",m(N),m(H),"L",m(E),m(H),"Z");break;case e.OPS.moveTo:E=n[h++],d=n[h++],A.push("M",m(E),m(d));break;case e.OPS.lineTo:E=n[h++],d=n[h++],A.push("L",m(E),m(d));break;case e.OPS.curveTo:E=n[h+4],d=n[h+5],A.push("C",m(n[h]),m(n[h+1]),m(n[h+2]),m(n[h+3]),m(E),m(d)),h+=6;break;case e.OPS.curveTo2:A.push("C",m(E),m(d),m(n[h]),m(n[h+1]),m(n[h+2]),m(n[h+3])),E=n[h+2],d=n[h+3],h+=4;break;case e.OPS.curveTo3:E=n[h+2],d=n[h+3],A.push("C",m(n[h]),m(n[h+1]),m(E),m(d),m(E),m(d)),h+=4;break;case e.OPS.closePath:A.push("Z")}A=A.join(" "),f.path&&i.length>0&&i[0]!==e.OPS.rectangle&&i[0]!==e.OPS.moveTo?A=f.path.getAttributeNS(null,"d")+A:(f.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(f.path)),f.path.setAttributeNS(null,"d",A),f.path.setAttributeNS(null,"fill","none"),f.element=f.path,f.setCurrentPoint(E,d)}endPath(){const i=this.current;if(i.path=null,!this.pendingClip)return;if(!i.element)return void(this.pendingClip=null);const n="clippath"+O++,f=this.svgFactory.createElement("svg:clipPath");f.setAttributeNS(null,"id",n),f.setAttributeNS(null,"transform",k(this.transformMatrix));const E=i.element.cloneNode(!0);if(E.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,f.appendChild(E),this.defs.appendChild(f),i.activeClipUrl){i.clipGroup=null;for(const d of this.extraStack)d.clipGroup=null;f.setAttributeNS(null,"clip-path",i.activeClipUrl)}i.activeClipUrl=`url(#${n})`,this.tgrp=null}clip(i){this.pendingClip=i}closePath(){const i=this.current;if(i.path){const n=`${i.path.getAttributeNS(null,"d")}Z`;i.path.setAttributeNS(null,"d",n)}}setLeading(i){this.current.leading=-i}setTextRise(i){this.current.textRise=i}setTextRenderingMode(i){this.current.textRenderingMode=i}setHScale(i){this.current.textHScale=i/100}setRenderingIntent(i){}setFlatness(i){}setGState(i){for(const[n,f]of i)switch(n){case"LW":this.setLineWidth(f);break;case"LC":this.setLineCap(f);break;case"LJ":this.setLineJoin(f);break;case"ML":this.setMiterLimit(f);break;case"D":this.setDash(f[0],f[1]);break;case"RI":this.setRenderingIntent(f);break;case"FL":this.setFlatness(f);break;case"Font":this.setFont(f);break;case"CA":this.setStrokeAlpha(f);break;case"ca":this.setFillAlpha(f);break;default:(0,e.warn)(`Unimplemented graphic state operator ${n}`)}}fill(){const i=this.current;i.element&&(i.element.setAttributeNS(null,"fill",i.fillColor),i.element.setAttributeNS(null,"fill-opacity",i.fillAlpha),this.endPath())}stroke(){const i=this.current;i.element&&(this._setStrokeAttributes(i.element),i.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(i,n=1){const f=this.current;let E=f.dashArray;1!==n&&E.length>0&&(E=E.map(function(d){return n*d})),i.setAttributeNS(null,"stroke",f.strokeColor),i.setAttributeNS(null,"stroke-opacity",f.strokeAlpha),i.setAttributeNS(null,"stroke-miterlimit",m(f.miterLimit)),i.setAttributeNS(null,"stroke-linecap",f.lineCap),i.setAttributeNS(null,"stroke-linejoin",f.lineJoin),i.setAttributeNS(null,"stroke-width",m(n*f.lineWidth)+"px"),i.setAttributeNS(null,"stroke-dasharray",E.map(m).join(" ")),i.setAttributeNS(null,"stroke-dashoffset",m(n*f.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x","0"),i.setAttributeNS(null,"y","0"),i.setAttributeNS(null,"width","1px"),i.setAttributeNS(null,"height","1px"),i.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(i)}paintImageXObject(i){const n=i.startsWith("g_")?this.commonObjs.get(i):this.objs.get(i);n?this.paintInlineImageXObject(n):(0,e.warn)(`Dependent image with object ID ${i} is not ready yet`)}paintInlineImageXObject(i,n){const f=i.width,E=i.height,d=B(i,this.forceDataSchema,!!n),A=this.svgFactory.createElement("svg:rect");A.setAttributeNS(null,"x","0"),A.setAttributeNS(null,"y","0"),A.setAttributeNS(null,"width",m(f)),A.setAttributeNS(null,"height",m(E)),this.current.element=A,this.clip("nonzero");const h=this.svgFactory.createElement("svg:image");h.setAttributeNS(_,"xlink:href",d),h.setAttributeNS(null,"x","0"),h.setAttributeNS(null,"y",m(-E)),h.setAttributeNS(null,"width",m(f)+"px"),h.setAttributeNS(null,"height",m(E)+"px"),h.setAttributeNS(null,"transform",`scale(${m(1/f)} ${m(-1/E)})`),n?n.appendChild(h):this._ensureTransformGroup().appendChild(h)}paintImageMaskXObject(i){const n=this.current,f=i.width,E=i.height,d=n.fillColor;n.maskId="mask"+S++;const A=this.svgFactory.createElement("svg:mask");A.setAttributeNS(null,"id",n.maskId);const h=this.svgFactory.createElement("svg:rect");h.setAttributeNS(null,"x","0"),h.setAttributeNS(null,"y","0"),h.setAttributeNS(null,"width",m(f)),h.setAttributeNS(null,"height",m(E)),h.setAttributeNS(null,"fill",d),h.setAttributeNS(null,"mask",`url(#${n.maskId})`),this.defs.appendChild(A),this._ensureTransformGroup().appendChild(h),this.paintInlineImageXObject(i,A)}paintFormXObjectBegin(i,n){if(Array.isArray(i)&&6===i.length&&this.transform(i[0],i[1],i[2],i[3],i[4],i[5]),n){const f=n[2]-n[0],E=n[3]-n[1],d=this.svgFactory.createElement("svg:rect");d.setAttributeNS(null,"x",n[0]),d.setAttributeNS(null,"y",n[1]),d.setAttributeNS(null,"width",m(f)),d.setAttributeNS(null,"height",m(E)),this.current.element=d,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(i){const n=this.svgFactory.create(i.width,i.height),f=this.svgFactory.createElement("svg:defs");n.appendChild(f),this.defs=f;const E=this.svgFactory.createElement("svg:g");return E.setAttributeNS(null,"transform",k(i.transform)),n.appendChild(E),this.svg=E,n}_ensureClipGroup(){if(!this.current.clipGroup){const i=this.svgFactory.createElement("svg:g");i.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(i),this.current.clipGroup=i}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",k(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(q,a,F)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFNodeStream=void 0;var e=F(1),T=F(24);const D=__webpack_require__(172),Y=__webpack_require__(2001),V=__webpack_require__(3779),R=__webpack_require__(6558),_=/^file:\/\/\/[a-zA-Z]:\//;a.PDFNodeStream=class I{constructor(w){this.source=w,this.url=function L(S){const w=R.parse(S);return"file:"===w.protocol||w.host?w:/^[a-z]:[/\\]/i.test(S)?R.parse(`file:///${S}`):(w.host||(w.protocol="file:"),w)}(w.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&w.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,e.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new k(this):new b(this),this._fullRequestReader}getRangeReader(w,i){if(i<=this._progressiveDataLength)return null;const n=this.isFsUrl?new O(this,w,i):new m(this,w,i);return this._rangeRequestReaders.push(n),n}cancelAllRequests(w){this._fullRequestReader&&this._fullRequestReader.cancel(w);for(const i of this._rangeRequestReaders.slice(0))i.cancel(w)}};class j{constructor(w){this._url=w.url,this._done=!1,this._storedError=null,this.onProgress=null;const i=w.source;this._contentLength=i.length,this._loaded=0,this._filename=null,this._disableRange=i.disableRange||!1,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!i.disableStream,this._isRangeSupported=!i.disableRange,this._readableStream=null,this._readCapability=(0,e.createPromiseCapability)(),this._headersCapability=(0,e.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var w=this;return _asyncToGenerator(function*(){if(yield w._readCapability.promise,w._done)return{value:void 0,done:!0};if(w._storedError)throw w._storedError;const i=w._readableStream.read();return null===i?(w._readCapability=(0,e.createPromiseCapability)(),w.read()):(w._loaded+=i.length,w.onProgress&&w.onProgress({loaded:w._loaded,total:w._contentLength}),{value:new Uint8Array(i).buffer,done:!1})})()}cancel(w){this._readableStream?this._readableStream.destroy(w):this._error(w)}_error(w){this._storedError=w,this._readCapability.resolve()}_setReadableStream(w){this._readableStream=w,w.on("readable",()=>{this._readCapability.resolve()}),w.on("end",()=>{w.destroy(),this._done=!0,this._readCapability.resolve()}),w.on("error",i=>{this._error(i)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new e.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class B{constructor(w){this._url=w.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,e.createPromiseCapability)(),this._isStreamingSupported=!w.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var w=this;return _asyncToGenerator(function*(){if(yield w._readCapability.promise,w._done)return{value:void 0,done:!0};if(w._storedError)throw w._storedError;const i=w._readableStream.read();return null===i?(w._readCapability=(0,e.createPromiseCapability)(),w.read()):(w._loaded+=i.length,w.onProgress&&w.onProgress({loaded:w._loaded}),{value:new Uint8Array(i).buffer,done:!1})})()}cancel(w){this._readableStream?this._readableStream.destroy(w):this._error(w)}_error(w){this._storedError=w,this._readCapability.resolve()}_setReadableStream(w){this._readableStream=w,w.on("readable",()=>{this._readCapability.resolve()}),w.on("end",()=>{w.destroy(),this._done=!0,this._readCapability.resolve()}),w.on("error",i=>{this._error(i)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function U(S,w){return{protocol:S.protocol,auth:S.auth,host:S.hostname,port:S.port,path:S.path,method:"GET",headers:w}}class b extends j{constructor(w){super(w);const i=n=>{if(404===n.statusCode){const A=new e.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=A,void this._headersCapability.reject(A)}this._headersCapability.resolve(),this._setReadableStream(n);const f=A=>this._readableStream.headers[A.toLowerCase()],{allowRangeRequests:E,suggestedLength:d}=(0,T.validateRangeRequestCapabilities)({getResponseHeader:f,isHttp:w.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=E,this._contentLength=d||this._contentLength,this._filename=(0,T.extractFilenameFromHeader)(f)};this._request=null,this._request="http:"===this._url.protocol?Y.request(U(this._url,w.httpHeaders),i):V.request(U(this._url,w.httpHeaders),i),this._request.on("error",n=>{this._storedError=n,this._headersCapability.reject(n)}),this._request.end()}}class m extends B{constructor(w,i,n){super(w),this._httpHeaders={};for(const E in w.httpHeaders){const d=w.httpHeaders[E];typeof d>"u"||(this._httpHeaders[E]=d)}this._httpHeaders.Range=`bytes=${i}-${n-1}`;const f=E=>{if(404!==E.statusCode)this._setReadableStream(E);else{const d=new e.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=d}};this._request=null,this._request="http:"===this._url.protocol?Y.request(U(this._url,this._httpHeaders),f):V.request(U(this._url,this._httpHeaders),f),this._request.on("error",E=>{this._storedError=E}),this._request.end()}}class k extends j{constructor(w){super(w);let i=decodeURIComponent(this._url.path);_.test(this._url.href)&&(i=i.replace(/^\//,"")),D.lstat(i,(n,f)=>{if(n)return"ENOENT"===n.code&&(n=new e.MissingPDFException(`Missing PDF "${i}".`)),this._storedError=n,void this._headersCapability.reject(n);this._contentLength=f.size,this._setReadableStream(D.createReadStream(i)),this._headersCapability.resolve()})}}class O extends B{constructor(w,i,n){super(w);let f=decodeURIComponent(this._url.path);_.test(this._url.href)&&(f=f.replace(/^\//,"")),this._setReadableStream(D.createReadStream(f,{start:i,end:n-1}))}}},(q,a,F)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.createResponseStatusError=function R(L,I){return 404===L||0===L&&I.startsWith("file:")?new e.MissingPDFException('Missing PDF "'+I+'".'):new e.UnexpectedResponseException(`Unexpected server response (${L}) while retrieving PDF "${I}".`,L)},a.extractFilenameFromHeader=function V(L){const I=L("Content-Disposition");if(I){let j=(0,T.getFilenameFromContentDispositionHeader)(I);if(j.includes("%"))try{j=decodeURIComponent(j)}catch{}if((0,D.isPdfFile)(j))return j}return null},a.validateRangeRequestCapabilities=function Y({getResponseHeader:L,isHttp:I,rangeChunkSize:j,disableRange:B}){(0,e.assert)(j>0,"Range chunk size must be larger than zero");const U={allowRangeRequests:!1,suggestedLength:void 0},b=parseInt(L("Content-Length"),10);return!Number.isInteger(b)||(U.suggestedLength=b,b<=2*j)||B||!I||"bytes"!==L("Accept-Ranges")||"identity"!==(L("Content-Encoding")||"identity")||(U.allowRangeRequests=!0),U},a.validateResponseStatus=function _(L){return 200===L||206===L};var e=F(1),T=F(25),D=F(5)},(q,a,F)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getFilenameFromContentDispositionHeader=function T(D){let Y=!0,V=R("filename\\*","i").exec(D);if(V){V=V[1];let b=j(V);return b=unescape(b),b=B(b),b=U(b),L(b)}if(V=function I(b){const m=[];let k;const O=R("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(k=O.exec(b));){let[,w,i,n]=k;if(w=parseInt(w,10),w in m){if(0===w)break}else m[w]=[i,n]}const S=[];for(let w=0;w<m.length&&w in m;++w){let[i,n]=m[w];n=j(n),i&&(n=unescape(n),0===w&&(n=B(n))),S.push(n)}return S.join("")}(D),V)return L(U(V));if(V=R("filename","i").exec(D),V){V=V[1];let b=j(V);return b=U(b),L(b)}function R(b,m){return new RegExp("(?:^|;)\\s*"+b+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',m)}function _(b,m){if(b){if(!/^[\x00-\xFF]+$/.test(m))return m;try{const k=new TextDecoder(b,{fatal:!0}),O=(0,e.stringToBytes)(m);m=k.decode(O),Y=!1}catch{}}return m}function L(b){return Y&&/[\x80-\xff]/.test(b)&&(b=_("utf-8",b),Y&&(b=_("iso-8859-1",b))),b}function j(b){if(b.startsWith('"')){const m=b.slice(1).split('\\"');for(let k=0;k<m.length;++k){const O=m[k].indexOf('"');-1!==O&&(m[k]=m[k].slice(0,O),m.length=k+1),m[k]=m[k].replace(/\\(.)/g,"$1")}b=m.join('"')}return b}function B(b){const m=b.indexOf("'");return-1===m?b:_(b.slice(0,m),b.slice(m+1).replace(/^[^']*'/,""))}function U(b){return!b.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(b)?b:b.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(m,k,O,S){if("q"===O||"Q"===O)return _(k,S=(S=S.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(w,i){return String.fromCharCode(parseInt(i,16))}));try{S=atob(S)}catch{}return _(k,S)})}return""};var e=F(1)},(q,a,F)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFNetworkStream=void 0;var e=F(1),T=F(24);class R{constructor(B,U={}){this.url=B,this.isHttp=/^https?:/i.test(B),this.httpHeaders=this.isHttp&&U.httpHeaders||Object.create(null),this.withCredentials=U.withCredentials||!1,this.getXhr=U.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(B,U,b){const m={begin:B,end:U};for(const k in b)m[k]=b[k];return this.request(m)}requestFull(B){return this.request(B)}request(B){const U=this.getXhr(),b=this.currXhrId++,m=this.pendingRequests[b]={xhr:U};U.open("GET",this.url),U.withCredentials=this.withCredentials;for(const k in this.httpHeaders){const O=this.httpHeaders[k];typeof O>"u"||U.setRequestHeader(k,O)}return this.isHttp&&"begin"in B&&"end"in B?(U.setRequestHeader("Range",`bytes=${B.begin}-${B.end-1}`),m.expectedStatus=206):m.expectedStatus=200,U.responseType="arraybuffer",B.onError&&(U.onerror=function(k){B.onError(U.status)}),U.onreadystatechange=this.onStateChange.bind(this,b),U.onprogress=this.onProgress.bind(this,b),m.onHeadersReceived=B.onHeadersReceived,m.onDone=B.onDone,m.onError=B.onError,m.onProgress=B.onProgress,U.send(null),b}onProgress(B,U){const b=this.pendingRequests[B];!b||b.onProgress?.(U)}onStateChange(B,U){const b=this.pendingRequests[B];if(!b)return;const m=b.xhr;if(m.readyState>=2&&b.onHeadersReceived&&(b.onHeadersReceived(),delete b.onHeadersReceived),4!==m.readyState||!(B in this.pendingRequests))return;if(delete this.pendingRequests[B],0===m.status&&this.isHttp)return void b.onError?.(m.status);const k=m.status||200;if((200!==k||206!==b.expectedStatus)&&k!==b.expectedStatus)return void b.onError?.(m.status);const S=function V(j){const B=j.response;return"string"!=typeof B?B:(0,e.stringToBytes)(B).buffer}(m);if(206===k){const w=m.getResponseHeader("Content-Range"),i=/bytes (\d+)-(\d+)\/(\d+)/.exec(w);b.onDone({begin:parseInt(i[1],10),chunk:S})}else S?b.onDone({begin:0,chunk:S}):b.onError?.(m.status)}getRequestXhr(B){return this.pendingRequests[B].xhr}isPendingRequest(B){return B in this.pendingRequests}abortRequest(B){const U=this.pendingRequests[B].xhr;delete this.pendingRequests[B],U.abort()}}a.PDFNetworkStream=class _{constructor(B){this._source=B,this._manager=new R(B.url,{httpHeaders:B.httpHeaders,withCredentials:B.withCredentials}),this._rangeChunkSize=B.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(B){const U=this._rangeRequestReaders.indexOf(B);U>=0&&this._rangeRequestReaders.splice(U,1)}getFullReader(){return(0,e.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new L(this._manager,this._source),this._fullRequestReader}getRangeReader(B,U){const b=new I(this._manager,B,U);return b.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(b),b}cancelAllRequests(B){this._fullRequestReader?.cancel(B);for(const U of this._rangeRequestReaders.slice(0))U.cancel(B)}};class L{constructor(B,U){this._manager=B;const b={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=U.url,this._fullRequestId=B.requestFull(b),this._headersReceivedCapability=(0,e.createPromiseCapability)(),this._disableRange=U.disableRange||!1,this._contentLength=U.length,this._rangeChunkSize=U.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const B=this._fullRequestId,U=this._manager.getRequestXhr(B),b=O=>U.getResponseHeader(O),{allowRangeRequests:m,suggestedLength:k}=(0,T.validateRangeRequestCapabilities)({getResponseHeader:b,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});m&&(this._isRangeSupported=!0),this._contentLength=k||this._contentLength,this._filename=(0,T.extractFilenameFromHeader)(b),this._isRangeSupported&&this._manager.abortRequest(B),this._headersReceivedCapability.resolve()}_onDone(B){if(B&&(this._requests.length>0?this._requests.shift().resolve({value:B.chunk,done:!1}):this._cachedChunks.push(B.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const U of this._requests)U.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(B){this._storedError=(0,T.createResponseStatusError)(B,this._url),this._headersReceivedCapability.reject(this._storedError);for(const U of this._requests)U.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(B){this.onProgress?.({loaded:B.loaded,total:B.lengthComputable?B.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var B=this;return _asyncToGenerator(function*(){if(B._storedError)throw B._storedError;if(B._cachedChunks.length>0)return{value:B._cachedChunks.shift(),done:!1};if(B._done)return{value:void 0,done:!0};const U=(0,e.createPromiseCapability)();return B._requests.push(U),U.promise})()}cancel(B){this._done=!0,this._headersReceivedCapability.reject(B);for(const U of this._requests)U.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class I{constructor(B,U,b){this._manager=B;const m={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=B.url,this._requestId=B.requestRange(U,b,m),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(B){const U=B.chunk;this._requests.length>0?this._requests.shift().resolve({value:U,done:!1}):this._queuedChunk=U,this._done=!0;for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(B){this._storedError=(0,T.createResponseStatusError)(B,this._url);for(const U of this._requests)U.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(B){this.isStreamingSupported||this.onProgress?.({loaded:B.loaded})}get isStreamingSupported(){return!1}read(){var B=this;return _asyncToGenerator(function*(){if(B._storedError)throw B._storedError;if(null!==B._queuedChunk){const b=B._queuedChunk;return B._queuedChunk=null,{value:b,done:!1}}if(B._done)return{value:void 0,done:!0};const U=(0,e.createPromiseCapability)();return B._requests.push(U),U.promise})()}cancel(B){this._done=!0;for(const U of this._requests)U.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(q,a,F)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFFetchStream=void 0;var e=F(1),T=F(24);function D(L,I,j){return{method:"GET",headers:L,signal:j?.signal,mode:"cors",credentials:I?"include":"same-origin",redirect:"follow"}}function Y(L){const I=new Headers;for(const j in L){const B=L[j];typeof B>"u"||I.append(j,B)}return I}a.PDFFetchStream=class V{constructor(I){this.source=I,this.isHttp=/^https?:/i.test(I.url),this.httpHeaders=this.isHttp&&I.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,e.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new R(this),this._fullRequestReader}getRangeReader(I,j){if(j<=this._progressiveDataLength)return null;const B=new _(this,I,j);return this._rangeRequestReaders.push(B),B}cancelAllRequests(I){this._fullRequestReader&&this._fullRequestReader.cancel(I);for(const j of this._rangeRequestReaders.slice(0))j.cancel(I)}};class R{constructor(I){this._stream=I,this._reader=null,this._loaded=0,this._filename=null;const j=I.source;this._withCredentials=j.withCredentials||!1,this._contentLength=j.length,this._headersCapability=(0,e.createPromiseCapability)(),this._disableRange=j.disableRange||!1,this._rangeChunkSize=j.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!j.disableStream,this._isRangeSupported=!j.disableRange,this._headers=Y(this._stream.httpHeaders);const B=j.url;fetch(B,D(this._headers,this._withCredentials,this._abortController)).then(U=>{if(!(0,T.validateResponseStatus)(U.status))throw(0,T.createResponseStatusError)(U.status,B);this._reader=U.body.getReader(),this._headersCapability.resolve();const b=O=>U.headers.get(O),{allowRangeRequests:m,suggestedLength:k}=(0,T.validateRangeRequestCapabilities)({getResponseHeader:b,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=m,this._contentLength=k||this._contentLength,this._filename=(0,T.extractFilenameFromHeader)(b),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new e.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var I=this;return _asyncToGenerator(function*(){yield I._headersCapability.promise;const{value:j,done:B}=yield I._reader.read();return B?{value:j,done:B}:(I._loaded+=j.byteLength,I.onProgress&&I.onProgress({loaded:I._loaded,total:I._contentLength}),{value:new Uint8Array(j).buffer,done:!1})})()}cancel(I){this._reader&&this._reader.cancel(I),this._abortController&&this._abortController.abort()}}class _{constructor(I,j,B){this._stream=I,this._reader=null,this._loaded=0;const U=I.source;this._withCredentials=U.withCredentials||!1,this._readCapability=(0,e.createPromiseCapability)(),this._isStreamingSupported=!U.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=Y(this._stream.httpHeaders),this._headers.append("Range",`bytes=${j}-${B-1}`);const b=U.url;fetch(b,D(this._headers,this._withCredentials,this._abortController)).then(m=>{if(!(0,T.validateResponseStatus)(m.status))throw(0,T.createResponseStatusError)(m.status,b);this._readCapability.resolve(),this._reader=m.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var I=this;return _asyncToGenerator(function*(){yield I._readCapability.promise;const{value:j,done:B}=yield I._reader.read();return B?{value:j,done:B}:(I._loaded+=j.byteLength,I.onProgress&&I.onProgress({loaded:I._loaded}),{value:new Uint8Array(j).buffer,done:!1})})()}cancel(I){this._reader&&this._reader.cancel(I),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(q){var a=__webpack_module_cache__[q];if(void 0!==a)return a.exports;var F=__webpack_module_cache__[q]={exports:{}};return __webpack_modules__[q](F,F.exports,__w_pdfjs_require__),F.exports}var __webpack_exports__={};return(()=>{var q=__webpack_exports__;Object.defineProperty(q,"__esModule",{value:!0}),Object.defineProperty(q,"AnnotationLayer",{enumerable:!0,get:function(){return T.AnnotationLayer}}),Object.defineProperty(q,"AnnotationMode",{enumerable:!0,get:function(){return a.AnnotationMode}}),Object.defineProperty(q,"CMapCompressionType",{enumerable:!0,get:function(){return a.CMapCompressionType}}),Object.defineProperty(q,"GlobalWorkerOptions",{enumerable:!0,get:function(){return D.GlobalWorkerOptions}}),Object.defineProperty(q,"InvalidPDFException",{enumerable:!0,get:function(){return a.InvalidPDFException}}),Object.defineProperty(q,"LoopbackPort",{enumerable:!0,get:function(){return F.LoopbackPort}}),Object.defineProperty(q,"MissingPDFException",{enumerable:!0,get:function(){return a.MissingPDFException}}),Object.defineProperty(q,"OPS",{enumerable:!0,get:function(){return a.OPS}}),Object.defineProperty(q,"PDFDataRangeTransport",{enumerable:!0,get:function(){return F.PDFDataRangeTransport}}),Object.defineProperty(q,"PDFDateString",{enumerable:!0,get:function(){return e.PDFDateString}}),Object.defineProperty(q,"PDFWorker",{enumerable:!0,get:function(){return F.PDFWorker}}),Object.defineProperty(q,"PasswordResponses",{enumerable:!0,get:function(){return a.PasswordResponses}}),Object.defineProperty(q,"PermissionFlag",{enumerable:!0,get:function(){return a.PermissionFlag}}),Object.defineProperty(q,"PixelsPerInch",{enumerable:!0,get:function(){return e.PixelsPerInch}}),Object.defineProperty(q,"RenderingCancelledException",{enumerable:!0,get:function(){return e.RenderingCancelledException}}),Object.defineProperty(q,"SVGGraphics",{enumerable:!0,get:function(){return R.SVGGraphics}}),Object.defineProperty(q,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return a.UNSUPPORTED_FEATURES}}),Object.defineProperty(q,"UnexpectedResponseException",{enumerable:!0,get:function(){return a.UnexpectedResponseException}}),Object.defineProperty(q,"Util",{enumerable:!0,get:function(){return a.Util}}),Object.defineProperty(q,"VerbosityLevel",{enumerable:!0,get:function(){return a.VerbosityLevel}}),Object.defineProperty(q,"XfaLayer",{enumerable:!0,get:function(){return _.XfaLayer}}),Object.defineProperty(q,"build",{enumerable:!0,get:function(){return F.build}}),Object.defineProperty(q,"createPromiseCapability",{enumerable:!0,get:function(){return a.createPromiseCapability}}),Object.defineProperty(q,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return a.createValidAbsoluteUrl}}),Object.defineProperty(q,"getDocument",{enumerable:!0,get:function(){return F.getDocument}}),Object.defineProperty(q,"getFilenameFromUrl",{enumerable:!0,get:function(){return e.getFilenameFromUrl}}),Object.defineProperty(q,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return e.getPdfFilenameFromUrl}}),Object.defineProperty(q,"getXfaPageViewport",{enumerable:!0,get:function(){return e.getXfaPageViewport}}),Object.defineProperty(q,"isPdfFile",{enumerable:!0,get:function(){return e.isPdfFile}}),Object.defineProperty(q,"loadScript",{enumerable:!0,get:function(){return e.loadScript}}),Object.defineProperty(q,"renderTextLayer",{enumerable:!0,get:function(){return V.renderTextLayer}}),Object.defineProperty(q,"shadow",{enumerable:!0,get:function(){return a.shadow}}),Object.defineProperty(q,"version",{enumerable:!0,get:function(){return F.version}});var a=__w_pdfjs_require__(1),F=__w_pdfjs_require__(4),e=__w_pdfjs_require__(5),T=__w_pdfjs_require__(18),D=__w_pdfjs_require__(12),Y=__w_pdfjs_require__(3),V=__w_pdfjs_require__(21),R=__w_pdfjs_require__(22),_=__w_pdfjs_require__(20);if(Y.isNodeJS){const{PDFNodeStream:j}=__w_pdfjs_require__(23);(0,F.setPDFNetworkStreamFactory)(B=>new j(B))}else{const{PDFNetworkStream:j}=__w_pdfjs_require__(26),{PDFFetchStream:B}=__w_pdfjs_require__(27);(0,F.setPDFNetworkStreamFactory)(U=>(0,e.isValidFetchUrl)(U.url)?new B(U):new j(U))}})(),__webpack_exports__})()},module.exports=F()},2813:function(q,a,F){var e=F(5962).default,T=F(3448).default,D=F(3606).default,Y=F(9393).default,V=F(4877).default,R=F(1226).default,_=F(8926).default;q.exports=(()=>{"use strict";var L=[,(U,b,m)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DefaultXfaLayerFactory=b.DefaultTextLayerFactory=b.DefaultStructTreeLayerFactory=b.DefaultAnnotationLayerFactory=void 0;var k=m(2),O=m(4),S=m(5),w=m(7),i=m(8),n=m(9);b.DefaultAnnotationLayerFactory=class f{createAnnotationLayerBuilder(r,v,C=null,N="",H=!0,G=O.NullL10n,K=!1,P=null,l=null,s=null,g=null){return new k.AnnotationLayerBuilder({pageDiv:r,pdfPage:v,imageResourcesPath:N,renderForms:H,linkService:new S.SimpleLinkService,l10n:G,annotationStorage:C,enableScripting:K,hasJSActionsPromise:P,fieldObjectsPromise:s,mouseState:l,annotationCanvasMap:g})}};b.DefaultStructTreeLayerFactory=class E{createStructTreeLayerBuilder(r){return new w.StructTreeLayerBuilder({pdfPage:r})}};b.DefaultTextLayerFactory=class d{createTextLayerBuilder(r,v,C,N=!1,H,G){return new i.TextLayerBuilder({textLayerDiv:r,pageIndex:v,viewport:C,enhanceTextSelection:N,eventBus:H,highlighter:G})}};b.DefaultXfaLayerFactory=class A{createXfaLayerBuilder(r,v,C=null,N=null){return new n.XfaLayerBuilder({pageDiv:r,pdfPage:v,annotationStorage:C,linkService:new S.SimpleLinkService,xfaHtml:N})}}},(U,b,m)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.AnnotationLayerBuilder=void 0;var k=m(3),O=m(4);b.AnnotationLayerBuilder=class S{constructor({pageDiv:i,pdfPage:n,linkService:f,downloadManager:E,annotationStorage:d=null,imageResourcesPath:A="",renderForms:h=!0,l10n:r=O.NullL10n,enableScripting:v=!1,hasJSActionsPromise:C=null,fieldObjectsPromise:N=null,mouseState:H=null,annotationCanvasMap:G=null}){this.pageDiv=i,this.pdfPage=n,this.linkService=f,this.downloadManager=E,this.imageResourcesPath=A,this.renderForms=h,this.l10n=r,this.annotationStorage=d,this.enableScripting=v,this._hasJSActionsPromise=C,this._fieldObjectsPromise=N,this._mouseState=H,this._annotationCanvasMap=G,this.div=null,this._cancelled=!1}render(i,n="display"){var f=this;return _(function*(){const[E,d=!1,A=null]=yield Promise.all([f.pdfPage.getAnnotations({intent:n}),f._hasJSActionsPromise,f._fieldObjectsPromise]);if(f._cancelled||0===E.length)return;const h={viewport:i.clone({dontFlip:!0}),div:f.div,annotations:E,page:f.pdfPage,imageResourcesPath:f.imageResourcesPath,renderForms:f.renderForms,linkService:f.linkService,downloadManager:f.downloadManager,annotationStorage:f.annotationStorage,enableScripting:f.enableScripting,hasJSActions:d,fieldObjects:A,mouseState:f._mouseState,annotationCanvasMap:f._annotationCanvasMap};f.div?k.AnnotationLayer.update(h):(f.div=document.createElement("div"),f.div.className="annotationLayer",f.pageDiv.appendChild(f.div),h.div=f.div,k.AnnotationLayer.render(h),f.l10n.translate(f.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},U=>{let b;b=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:F(6036),U.exports=b},(U,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NullL10n=void 0,b.fixupLangCode=function S(n){return O[n?.toLowerCase()]||n},b.getL10nFallback=k;const m={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function k(n,f){switch(n){case"find_match_count":n=`find_match_count[${1===f.total?"one":"other"}]`;break;case"find_match_count_limit":n=`find_match_count_limit[${1===f.limit?"one":"other"}]`}return m[n]||""}const O={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};b.NullL10n={getLanguage:()=>_(function*(){return"en-us"})(),getDirection:()=>_(function*(){return"ltr"})(),get:(n,f=null,E=k(n,f))=>_(function*(){return function w(n,f){return f?n.replace(/\{\{\s*(\w+)\s*\}\}/g,(E,d)=>d in f?f[d]:"{{"+d+"}}"):n}(E,f)})(),translate:n=>_(function*(){})()}},(U,b,m)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.SimpleLinkService=b.PDFLinkService=b.LinkTarget=void 0;var k=m(6);const S={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function w(h,{url:r,target:v,rel:C,enabled:N=!0}={}){if(!r||"string"!=typeof r)throw new Error('A valid "url" parameter must provided.');const H=(0,k.removeNullCharacters)(r);N?h.href=h.title=H:(h.href="",h.title=`Disabled: ${H}`,h.onclick=()=>!1);let G="";switch(v){case S.NONE:break;case S.SELF:G="_self";break;case S.BLANK:G="_blank";break;case S.PARENT:G="_parent";break;case S.TOP:G="_top"}h.target=G,h.rel="string"==typeof C?C:"noopener noreferrer nofollow"}b.LinkTarget=S;var i=new WeakMap,n=new WeakSet;class f{constructor({eventBus:r,externalLinkTarget:v=null,externalLinkRel:C=null,ignoreDestinationZoom:N=!1}={}){T(this,n),D(this,i,{writable:!0,value:new Map}),this.eventBus=r,this.externalLinkTarget=v,this.externalLinkRel=C,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=N,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(r,v=null){this.baseUrl=v,this.pdfDocument=r,R(this,i).clear()}setViewer(r){this.pdfViewer=r}setHistory(r){this.pdfHistory=r}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(r){this.pdfViewer.currentPageNumber=r}get rotation(){return this.pdfViewer.pagesRotation}set rotation(r){this.pdfViewer.pagesRotation=r}goToDestination(r){var v=this;return _(function*(){if(!v.pdfDocument)return;let C,N;"string"==typeof r?(C=r,N=yield v.pdfDocument.getDestination(r)):(C=null,N=yield r),Array.isArray(N)?V(v,n,E).call(v,r,C,N):console.error(`PDFLinkService.goToDestination: "${N}" is not a valid destination array, for dest="${r}".`)})()}goToPage(r){if(!this.pdfDocument)return;const v="string"==typeof r&&this.pdfViewer.pageLabelToPageNumber(r)||0|r;Number.isInteger(v)&&v>0&&v<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(v)),this.pdfViewer.scrollPageIntoView({pageNumber:v})):console.error(`PDFLinkService.goToPage: "${r}" is not a valid page.`)}addLinkAttributes(r,v,C=!1){w(r,{url:v,target:C?S.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(r){if("string"==typeof r){if(r.length>0)return this.getAnchorUrl("#"+escape(r))}else if(Array.isArray(r)){const v=JSON.stringify(r);if(v.length>0)return this.getAnchorUrl("#"+escape(v))}return this.getAnchorUrl("")}getAnchorUrl(r){return(this.baseUrl||"")+r}setHash(r){if(!this.pdfDocument)return;let v,C;if(r.includes("=")){const N=(0,k.parseQueryString)(r);if(N.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:N.get("search").replace(/"/g,""),phraseSearch:"true"===N.get("phrase")}),N.has("page")&&(v=0|N.get("page")||1),N.has("zoom")){const H=N.get("zoom").split(","),G=H[0],K=parseFloat(G);G.includes("Fit")?"Fit"===G||"FitB"===G?C=[null,{name:G}]:"FitH"===G||"FitBH"===G||"FitV"===G||"FitBV"===G?C=[null,{name:G},H.length>1?0|H[1]:null]:"FitR"===G?5!==H.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):C=[null,{name:G},0|H[1],0|H[2],0|H[3],0|H[4]]:console.error(`PDFLinkService.setHash: "${G}" is not a valid zoom value.`):C=[null,{name:"XYZ"},H.length>1?0|H[1]:null,H.length>2?0|H[2]:null,K?K/100:G]}C?this.pdfViewer.scrollPageIntoView({pageNumber:v||this.page,destArray:C,allowNegativeOffset:!0}):v&&(this.page=v),N.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:N.get("pagemode")}),N.has("nameddest")&&this.goToDestination(N.get("nameddest"))}else{C=unescape(r);try{C=JSON.parse(C),Array.isArray(C)||(C=C.toString())}catch{}if("string"==typeof C||Y(f,f,d).call(f,C))return void this.goToDestination(C);console.error(`PDFLinkService.setHash: "${unescape(r)}" is not a valid destination.`)}}executeNamedAction(r){switch(r){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:r})}cachePageRef(r,v){if(!v)return;const C=0===v.gen?`${v.num}R`:`${v.num}R${v.gen}`;R(this,i).set(C,r)}_cachedPageNumber(r){if(!r)return null;const v=0===r.gen?`${r.num}R`:`${r.num}R${r.gen}`;return R(this,i).get(v)||null}isPageVisible(r){return this.pdfViewer.isPageVisible(r)}isPageCached(r){return this.pdfViewer.isPageCached(r)}}function E(h,r=null,v){const C=v[0];let N;if("object"==typeof C&&null!==C){if(N=this._cachedPageNumber(C),!N)return void this.pdfDocument.getPageIndex(C).then(H=>{this.cachePageRef(H+1,C),V(this,n,E).call(this,h,r,v)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${C}" is not a valid page reference, for dest="${h}".`)})}else{if(!Number.isInteger(C))return void console.error(`PDFLinkService.#goToDestinationHelper: "${C}" is not a valid destination reference, for dest="${h}".`);N=C+1}!N||N<1||N>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${N}" is not a valid page number, for dest="${h}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:r,explicitDest:v,pageNumber:N})),this.pdfViewer.scrollPageIntoView({pageNumber:N,destArray:v,ignoreDestinationZoom:this._ignoreDestinationZoom}))}function d(h){if(!Array.isArray(h))return!1;const r=h.length;if(r<2)return!1;const v=h[0];if(!("object"==typeof v&&Number.isInteger(v.num)&&Number.isInteger(v.gen)||Number.isInteger(v)&&v>=0))return!1;const C=h[1];if("object"!=typeof C||"string"!=typeof C.name)return!1;let N=!0;switch(C.name){case"XYZ":if(5!==r)return!1;break;case"Fit":case"FitB":return 2===r;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==r)return!1;break;case"FitR":if(6!==r)return!1;N=!1;break;default:return!1}for(let H=2;H<r;H++){const G=h[H];if(!("number"==typeof G||N&&null===G))return!1}return!0}b.PDFLinkService=f;b.SimpleLinkService=class A{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(r){}get rotation(){return 0}set rotation(r){}goToDestination(r){return _(function*(){})()}goToPage(r){}addLinkAttributes(r,v,C=!1){w(r,{url:v,enabled:this.externalLinkEnabled})}getDestinationHash(r){return"#"}getAnchorUrl(r){return"#"}setHash(r){}executeNamedAction(r){}cachePageRef(r,v){}isPageVisible(r){return!0}isPageCached(r){return!0}}},(U,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.animationStarted=b.VERTICAL_PADDING=b.UNKNOWN_SCALE=b.TextLayerMode=b.SpreadMode=b.SidebarView=b.ScrollMode=b.SCROLLBAR_PADDING=b.RenderingStates=b.RendererType=b.ProgressBar=b.PresentationModeState=b.OutputScale=b.MIN_SCALE=b.MAX_SCALE=b.MAX_AUTO_SCALE=b.DEFAULT_SCALE_VALUE=b.DEFAULT_SCALE_DELTA=b.DEFAULT_SCALE=b.AutoPrintRegExp=void 0,b.apiPageLayoutToViewerModes=function _e(ee){let x=N.VERTICAL,z=H.NONE;switch(ee){case"SinglePage":x=N.PAGE;break;case"OneColumn":break;case"TwoPageLeft":x=N.PAGE;case"TwoColumnLeft":z=H.ODD;break;case"TwoPageRight":x=N.PAGE;case"TwoColumnRight":z=H.EVEN}return{scrollMode:x,spreadMode:z}},b.apiPageModeToSidebarView=function Ee(ee){switch(ee){case"UseNone":return r.NONE;case"UseThumbs":return r.THUMBS;case"UseOutlines":return r.OUTLINE;case"UseAttachments":return r.ATTACHMENTS;case"UseOC":return r.LAYERS}return r.NONE},b.approximateFraction=function p(ee){if(Math.floor(ee)===ee)return[ee,1];const x=1/ee;if(x>8)return[1,8];if(Math.floor(x)===x)return[1,x];const Z=ee>1?x:ee;let ue,se=0,re=1,le=1,ce=1;for(;;){const Ae=se+le,we=re+ce;if(we>8)break;Z<=Ae/we?(le=Ae,ce=we):(se=Ae,re=we)}return ue=Z-se/re<le/ce-Z?Z===ee?[se,re]:[re,se]:Z===ee?[le,ce]:[ce,le],ue},b.backtrackBeforeAllVisibleElements=u,b.binarySearchFirstItem=o,b.getActiveOrFocusedElement=function fe(){let ee=document,x=ee.activeElement||ee.querySelector(":focus");for(;x?.shadowRoot;)ee=x.shadowRoot,x=ee.activeElement||ee.querySelector(":focus");return x},b.getPageSizeInches=function y({view:ee,userUnit:x,rotate:z}){const[Z,se,re,le]=ee,ce=z%180!=0,ue=(re-Z)/72*x,Ae=(le-se)/72*x;return{width:ce?Ae:ue,height:ce?ue:Ae}},b.getVisibleElements=function W({scrollEl:ee,views:x,sortByVisibility:z=!1,horizontal:Z=!1,rtl:se=!1}){const re=ee.scrollTop,le=re+ee.clientHeight,ce=ee.scrollLeft,ue=ce+ee.clientWidth;const ne=[],J=new Set,te=x.length;let pe=o(x,Z?function we(Se){const Pe=Se.div,Ce=Pe.offsetLeft+Pe.clientLeft;return se?Ce<ue:Ce+Pe.clientWidth>ce}:function Ae(Se){const Pe=Se.div;return Pe.offsetTop+Pe.clientTop+Pe.clientHeight>re});pe>0&&pe<te&&!Z&&(pe=u(pe,x,re));let ge=Z?ue:-1;for(let Se=pe;Se<te;Se++){const Pe=x[Se],Ce=Pe.div,xe=Ce.offsetLeft+Ce.clientLeft,Le=Ce.offsetTop+Ce.clientTop,ke=Ce.clientWidth,Fe=Ce.clientHeight,Te=xe+ke,Re=Le+Fe;if(-1===ge)Re>=le&&(ge=Re);else if((Z?xe:Le)>ge)break;if(Re<=re||Le>=le||Te<=ce||xe>=ue)continue;const Ie=Math.max(0,re-Le)+Math.max(0,Re-le),Oe=(ke-(Math.max(0,ce-xe)+Math.max(0,Te-ue)))/ke;ne.push({id:Pe.id,x:xe,y:Le,view:Pe,percent:(Fe-Ie)/Fe*Oe*100|0,widthPercent:100*Oe|0}),J.add(Pe.id)}const ve=ne[0],me=ne[ne.length-1];return z&&ne.sort(function(Se,Pe){const Ce=Se.percent-Pe.percent;return Math.abs(Ce)>.001?-Ce:Se.id-Pe.id}),{first:ve,last:me,views:ne,ids:J}},b.isPortraitOrientation=function de(ee){return ee.width<=ee.height},b.isValidRotation=function ie(ee){return Number.isInteger(ee)&&ee%90==0},b.isValidScrollMode=function oe(ee){return Number.isInteger(ee)&&Object.values(N).includes(ee)&&ee!==N.UNKNOWN},b.isValidSpreadMode=function he(ee){return Number.isInteger(ee)&&Object.values(H).includes(ee)&&ee!==H.UNKNOWN},b.noContextMenuHandler=function $(ee){ee.preventDefault()},b.normalizeWheelEventDelta=function Q(ee){let x=X(ee);return 0===ee.deltaMode?x/=900:1===ee.deltaMode&&(x/=30),x},b.normalizeWheelEventDirection=X,b.parseQueryString=function s(ee){const x=new Map;for(const[z,Z]of new URLSearchParams(ee))x.set(z.toLowerCase(),Z);return x},b.removeNullCharacters=function t(ee,x=!1){return"string"!=typeof ee?(console.error("The argument must be a string."),ee):(x&&(ee=ee.replace(c," ")),ee.replace(g,""))},b.roundToDivide=function M(ee,x){const z=ee%x;return 0===z?ee:Math.round(ee-z+x)},b.scrollIntoView=function P(ee,x,z=!1){let Z=ee.offsetParent;if(!Z)return void console.error("offsetParent is not set -- cannot scroll");let se=ee.offsetTop+ee.clientTop,re=ee.offsetLeft+ee.clientLeft;for(;Z.clientHeight===Z.scrollHeight&&Z.clientWidth===Z.scrollWidth||z&&(Z.classList.contains("markedContent")||"hidden"===getComputedStyle(Z).overflow);)if(se+=Z.offsetTop,re+=Z.offsetLeft,Z=Z.offsetParent,!Z)return;x&&(void 0!==x.top&&(se+=x.top),void 0!==x.left&&(re+=x.left,Z.scrollLeft=re)),Z.scrollTop=se},b.watchScroll=function l(ee,x){const z=function(re){se||(se=window.requestAnimationFrame(function(){se=null;const ce=ee.scrollLeft,ue=Z.lastX;ce!==ue&&(Z.right=ce>ue),Z.lastX=ce;const Ae=ee.scrollTop,we=Z.lastY;Ae!==we&&(Z.down=Ae>we),Z.lastY=Ae,x(Z)}))},Z={right:!0,down:!0,lastX:ee.scrollLeft,lastY:ee.scrollTop,_eventHandler:z};let se=null;return ee.addEventListener("scroll",z,!0),Z},b.DEFAULT_SCALE_VALUE="auto",b.DEFAULT_SCALE=1,b.DEFAULT_SCALE_DELTA=1.1,b.MIN_SCALE=.1,b.MAX_SCALE=10,b.UNKNOWN_SCALE=0,b.MAX_AUTO_SCALE=1.25,b.SCROLLBAR_PADDING=40,b.VERTICAL_PADDING=5;b.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},b.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const r={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};b.SidebarView=r,b.RendererType={CANVAS:"canvas",SVG:"svg"},b.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const N={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};b.ScrollMode=N;const H={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};b.SpreadMode=H,b.AutoPrintRegExp=/\bprint\s*\(/;b.OutputScale=class K{constructor(){const x=window.devicePixelRatio||1;this.sx=x,this.sy=x}get scaled(){return 1!==this.sx||1!==this.sy}};const g=/\x00/g,c=/[\x01-\x1F]/g;function o(ee,x,z=0){let Z=z,se=ee.length-1;if(se<0||!x(ee[se]))return ee.length;if(x(ee[Z]))return Z;for(;Z<se;){const re=Z+se>>1;x(ee[re])?se=re:Z=re+1}return Z}function u(ee,x,z){if(ee<2)return ee;let Z=x[ee].div,se=Z.offsetTop+Z.clientTop;se>=z&&(Z=x[ee-1].div,se=Z.offsetTop+Z.clientTop);for(let re=ee-2;re>=0&&(Z=x[re].div,!(Z.offsetTop+Z.clientTop+Z.clientHeight<=se));--re)ee=re;return ee}function X(ee){let x=Math.hypot(ee.deltaX,ee.deltaY);const z=Math.atan2(ee.deltaY,ee.deltaX);return-.25*Math.PI<z&&z<.75*Math.PI&&(x=-x),x}const ae=new Promise(function(ee){window.requestAnimationFrame(ee)});b.animationStarted=ae;b.ProgressBar=class ye{constructor(x,{height:z,width:Z,units:se}={}){this.visible=!0,this.div=document.querySelector(x+" .progress"),this.bar=this.div.parentNode,this.height=z||100,this.width=Z||100,this.units=se||"%",this.div.style.height=this.height+this.units,this.percent=0}_updateBar(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units}get percent(){return this._percent}set percent(x){this._indeterminate=isNaN(x),this._percent=function be(ee,x,z){return Math.min(Math.max(ee,x),z)}(x,0,100),this._updateBar()}setWidth(x){if(!x)return;const Z=x.parentNode.offsetWidth-x.offsetWidth;Z>0&&document.documentElement.style.setProperty("--loadingBar-end-offset",`${Z}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(U,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.StructTreeLayerBuilder=void 0;const m={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},k=/^H(\d+)$/;b.StructTreeLayerBuilder=class O{constructor({pdfPage:w}){this.pdfPage=w}render(w){return this._walk(w)}_setAttributes(w,i){void 0!==w.alt&&i.setAttribute("aria-label",w.alt),void 0!==w.id&&i.setAttribute("aria-owns",w.id),void 0!==w.lang&&i.setAttribute("lang",w.lang)}_walk(w){if(!w)return null;const i=document.createElement("span");if("role"in w){const{role:n}=w,f=n.match(k);f?(i.setAttribute("role","heading"),i.setAttribute("aria-level",f[1])):m[n]&&i.setAttribute("role",m[n])}if(this._setAttributes(w,i),w.children)if(1===w.children.length&&"id"in w.children[0])this._setAttributes(w.children[0],i);else for(const n of w.children)i.appendChild(this._walk(n));return i}}},(U,b,m)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.TextLayerBuilder=void 0;var k=m(3);b.TextLayerBuilder=class S{constructor({textLayerDiv:i,eventBus:n,pageIndex:f,viewport:E,highlighter:d=null,enhanceTextSelection:A=!1}){this.textLayerDiv=i,this.eventBus=n,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=f+1,this.viewport=E,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=d,this.enhanceTextSelection=A,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const i=document.createElement("div");i.className="endOfContent",this.textLayerDiv.appendChild(i)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(i=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const n=document.createDocumentFragment();this.textLayerRenderTask=(0,k.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:n,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:i,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(n),this._finishRendering(),this.highlighter?.enable()},function(f){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(i){this.cancel(),this.textContentStream=i}setTextContent(i){this.cancel(),this.textContent=i}_bindMouse(){const i=this.textLayerDiv;let n=null;i.addEventListener("mousedown",f=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(n&&(clearTimeout(n),n=null));const E=i.querySelector(".endOfContent");if(!E)return;let d=f.target!==i;if(d=d&&"none"!==window.getComputedStyle(E).getPropertyValue("-moz-user-select"),d){const A=i.getBoundingClientRect(),h=Math.max(0,(f.pageY-A.top)/A.height);E.style.top=(100*h).toFixed(2)+"%"}E.classList.add("active")}),i.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(n=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),n=null},300));const f=i.querySelector(".endOfContent");!f||(f.style.top="",f.classList.remove("active"))})}}},(U,b,m)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.XfaLayerBuilder=void 0;var k=m(3);b.XfaLayerBuilder=class O{constructor({pageDiv:w,pdfPage:i,annotationStorage:n=null,linkService:f,xfaHtml:E=null}){this.pageDiv=w,this.pdfPage=i,this.annotationStorage=n,this.linkService=f,this.xfaHtml=E,this.div=null,this._cancelled=!1}render(w,i="display"){if("print"===i){const n={viewport:w.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:i},f=document.createElement("div");this.pageDiv.appendChild(f),n.div=f;const E=k.XfaLayer.render(n);return Promise.resolve(E)}return this.pdfPage.getXfa().then(n=>{if(this._cancelled||!n)return{textDivs:[]};const f={viewport:w.clone({dontFlip:!0}),div:this.div,xfaHtml:n,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:i};return this.div?k.XfaLayer.update(f):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),f.div=this.div,k.XfaLayer.render(f))}).catch(n=>{console.error(n)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(U,b,m)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.PDFViewer=b.PDFSinglePageViewer=void 0;var k=m(6),O=m(11);b.PDFViewer=class S extends O.BaseViewer{};b.PDFSinglePageViewer=class w extends O.BaseViewer{_resetView(){super._resetView(),this._scrollMode=k.ScrollMode.PAGE,this._spreadMode=k.SpreadMode.NONE}set scrollMode(n){}_updateScrollMode(){}set spreadMode(n){}_updateSpreadMode(){}}},(U,b,m)=>{let k;Object.defineProperty(b,"__esModule",{value:!0}),b.PagesCountLimit=b.PDFPageViewBuffer=b.BaseViewer=void 0;var O=m(3),S=m(6),w=m(2),i=m(4),n=m(12),f=m(14),E=m(5),d=m(7),A=m(15),h=m(8),r=m(9);const C="enablePermissions",N={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};b.PagesCountLimit=N;var H=new WeakMap,G=new WeakMap,K=new WeakSet;k=Symbol.iterator;class P{constructor(x){T(this,K),D(this,H,{writable:!0,value:new Set}),D(this,G,{writable:!0,value:0}),e(this,G,x)}push(x){const z=R(this,H);z.has(x)&&z.delete(x),z.add(x),z.size>R(this,G)&&V(this,K,l).call(this)}resize(x,z=null){e(this,G,x);const Z=R(this,H);if(z){const se=Z.size;let re=1;for(const le of Z)if(z.has(le.id)&&(Z.delete(le),Z.add(le)),++re>se)break}for(;Z.size>R(this,G);)V(this,K,l).call(this)}has(x){return R(this,H).has(x)}[k](){return R(this,H).keys()}}function l(){const ee=R(this,H).keys().next().value;ee?.destroy(),R(this,H).delete(ee)}b.PDFPageViewBuffer=P;var s=new WeakMap,g=new WeakMap,c=new WeakMap,t=new WeakMap,o=new WeakMap,p=new WeakMap,M=new WeakMap,y=new WeakSet,u=new WeakSet,W=new WeakSet,$=new WeakSet,X=new WeakSet,Q=new WeakSet,ie=new WeakSet;class oe{constructor(x){if(T(this,ie),T(this,Q),T(this,X),T(this,$),T(this,W),T(this,u),T(this,y),D(this,s,{writable:!0,value:null}),D(this,g,{writable:!0,value:O.AnnotationMode.ENABLE_FORMS}),D(this,c,{writable:!0,value:null}),D(this,t,{writable:!0,value:!1}),D(this,o,{writable:!0,value:0}),D(this,p,{writable:!0,value:null}),D(this,M,{writable:!0,value:null}),this.constructor===oe)throw new Error("Cannot initialize BaseViewer.");const z="2.13.216";if(O.version!==z)throw new Error(`The API version "${O.version}" does not match the Viewer version "${z}".`);if(this.container=x.container,this.viewer=x.viewer||x.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=x.eventBus,this.linkService=x.linkService||new E.SimpleLinkService,this.downloadManager=x.downloadManager||null,this.findController=x.findController||null,this._scriptingManager=x.scriptingManager||null,this.removePageBorders=x.removePageBorders||!1,this.textLayerMode=x.textLayerMode??S.TextLayerMode.ENABLE,e(this,g,x.annotationMode??O.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=x.imageResourcesPath||"",this.enablePrintAutoRotate=x.enablePrintAutoRotate||!1,this.renderer=x.renderer||S.RendererType.CANVAS,this.useOnlyCssZoom=x.useOnlyCssZoom||!1,this.maxCanvasPixels=x.maxCanvasPixels,this.l10n=x.l10n||i.NullL10n,e(this,t,x.enablePermissions||!1),this.defaultRenderingQueue=!x.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new f.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=x.renderingQueue,this._doc=document.documentElement,this.scroll=(0,S.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=S.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(x){return this._pages[x]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(x){return x?.pdfPage})}get renderForms(){return R(this,g)===O.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(x){if(!Number.isInteger(x))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(x,!0)||console.error(`currentPageNumber: "${x}" is not a valid page.`)}_setCurrentPageNumber(x,z=!1){if(this._currentPageNumber===x)return z&&this._resetCurrentPageView(),!0;if(!(0<x&&x<=this.pagesCount))return!1;const Z=this._currentPageNumber;return this._currentPageNumber=x,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:x,pageLabel:this._pageLabels?.[x-1]??null,previous:Z}),z&&this._resetCurrentPageView(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(x){if(!this.pdfDocument)return;let z=0|x;if(this._pageLabels){const Z=this._pageLabels.indexOf(x);Z>=0&&(z=Z+1)}this._setCurrentPageNumber(z,!0)||console.error(`currentPageLabel: "${x}" is not a valid page.`)}get currentScale(){return this._currentScale!==S.UNKNOWN_SCALE?this._currentScale:S.DEFAULT_SCALE}set currentScale(x){if(isNaN(x))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(x,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(x){!this.pdfDocument||this._setScale(x,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(x){if(!(0,S.isValidRotation)(x))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((x%=360)<0&&(x+=360),this._pagesRotation===x))return;this._pagesRotation=x;const z=this._currentPageNumber,Z={rotation:x};for(const se of this._pages)se.update(Z);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:x,pageNumber:z}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(x){var z=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=x,!x)return;const Z=x.isPureXfa,se=x.numPages,re=x.getPage(1),le=x.getOptionalContentConfig(),ce=R(this,t)?x.getPermissions():Promise.resolve();if(se>N.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const ue=this._scrollMode=S.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:ue})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:se})},()=>{}),this._onBeforeDraw=ue=>{const Ae=this._pages[ue.pageNumber-1];!Ae||R(this,s).push(Ae)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=ue=>{ue.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:ue.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,R(this,M)&&(document.removeEventListener("visibilitychange",R(this,M)),e(this,M,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([re,ce]).then(([ue,Ae])=>{if(x!==this.pdfDocument)return;this._firstPageCapability.resolve(ue),this._optionalContentConfigPromise=le,V(this,y,he).call(this,Ae);const we=this._scrollMode===S.ScrollMode.PAGE?null:this.viewer,ne=this.currentScale,J=ue.getViewport({scale:ne*O.PixelsPerInch.PDF_TO_CSS_UNITS}),te=this.textLayerMode===S.TextLayerMode.DISABLE||Z?null:this,pe=R(this,g)!==O.AnnotationMode.DISABLE?this:null,ge=Z?this:null;for(let me=1;me<=se;++me){const Se=new n.PDFPageView({container:we,eventBus:this.eventBus,id:me,scale:ne,defaultViewport:J.clone(),optionalContentConfigPromise:le,renderingQueue:this.renderingQueue,textLayerFactory:te,textLayerMode:this.textLayerMode,annotationLayerFactory:pe,annotationMode:R(this,g),xfaLayerFactory:ge,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,l10n:this.l10n});this._pages.push(Se)}const ve=this._pages[0];ve&&(ve.setPdfPage(ue),this.linkService.cachePageRef(1,ue.ref)),this._scrollMode===S.ScrollMode.PAGE?V(this,W,ae).call(this):this._spreadMode!==S.SpreadMode.NONE&&this._updateSpreadMode(),V(this,u,de).call(this).then(_(function*(){if(z.findController&&z.findController.setDocument(x),z._scriptingManager&&z._scriptingManager.setDocument(x),x.loadingParams.disableAutoFetch||se>N.FORCE_LAZY_PAGE_INIT)return void z._pagesCapability.resolve();let me=se-1;if(me<=0)z._pagesCapability.resolve();else for(let Se=2;Se<=se;++Se){const Pe=x.getPage(Se).then(Ce=>{const xe=z._pages[Se-1];xe.pdfPage||xe.setPdfPage(Ce),z.linkService.cachePageRef(Se,Ce.ref),0==--me&&z._pagesCapability.resolve()},Ce=>{console.error(`Unable to get page ${Se} to initialize viewer`,Ce),0==--me&&z._pagesCapability.resolve()});Se%N.PAUSE_EAGER_PAGE_INIT==0&&(yield Pe)}})),this.eventBus.dispatch("pagesinit",{source:this}),x.getMetadata().then(({info:me})=>{x===this.pdfDocument&&me.Language&&(this.viewer.lang=me.Language)}),this.defaultRenderingQueue&&this.update()}).catch(ue=>{console.error("Unable to initialize viewer",ue),this._pagesCapability.reject(ue)})}setPageLabels(x){if(this.pdfDocument){x?Array.isArray(x)&&this.pdfDocument.numPages===x.length?this._pageLabels=x:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let z=0,Z=this._pages.length;z<Z;z++)this._pages[z].setPageLabel(this._pageLabels?.[z]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=S.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,e(this,s,new P(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,O.createPromiseCapability)(),this._onePageRenderedCapability=(0,O.createPromiseCapability)(),this._pagesCapability=(0,O.createPromiseCapability)(),this._scrollMode=S.ScrollMode.VERTICAL,this._previousScrollMode=S.ScrollMode.UNKNOWN,this._spreadMode=S.SpreadMode.NONE,e(this,p,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),R(this,M)&&(document.removeEventListener("visibilitychange",R(this,M)),e(this,M,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(C),null!==R(this,c)&&(e(this,g,R(this,c)),e(this,c,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_scrollIntoView({pageDiv:x,pageSpot:z=null,pageNumber:Z=null}){if(this._scrollMode===S.ScrollMode.PAGE&&(Z&&this._setCurrentPageNumber(Z),V(this,W,ae).call(this),this.update()),!z&&!this.isInPresentationMode){const se=x.offsetLeft+x.clientLeft,re=se+x.clientWidth,{scrollLeft:le,clientWidth:ce}=this.container;(this._scrollMode===S.ScrollMode.HORIZONTAL||se<le||re>le+ce)&&(z={left:0,top:0})}(0,S.scrollIntoView)(x,z)}_setScaleUpdatePages(x,z,Z=!1,se=!1){if(this._currentScaleValue=z.toString(),V(this,$,be).call(this,x))return void(se&&this.eventBus.dispatch("scalechanging",{source:this,scale:x,presetValue:z}));this._doc.style.setProperty("--zoom-factor",x),this._doc.style.setProperty("--viewport-scale-factor",x*O.PixelsPerInch.PDF_TO_CSS_UNITS);const re={scale:x};for(const le of this._pages)le.update(re);if(this._currentScale=x,!Z){let ce,le=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(le=this._location.pageNumber,ce=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:le,destArray:ce,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:x,presetValue:se?z:void 0}),this.defaultRenderingQueue&&this.update(),e(this,o,this.container.clientHeight)}get _pageWidthScaleFactor(){return this._spreadMode!==S.SpreadMode.NONE&&this._scrollMode!==S.ScrollMode.HORIZONTAL?2:1}_setScale(x,z=!1){let Z=parseFloat(x);if(Z>0)this._setScaleUpdatePages(Z,x,z,!1);else{const se=this._pages[this._currentPageNumber-1];if(!se)return;let re=S.SCROLLBAR_PADDING,le=S.VERTICAL_PADDING;this.isInPresentationMode?re=le=4:this.removePageBorders&&(re=le=0),this._scrollMode===S.ScrollMode.HORIZONTAL&&([re,le]=[le,re]);const ce=(this.container.clientWidth-re)/se.width*se.scale/this._pageWidthScaleFactor,ue=(this.container.clientHeight-le)/se.height*se.scale;switch(x){case"page-actual":Z=1;break;case"page-width":Z=ce;break;case"page-height":Z=ue;break;case"page-fit":Z=Math.min(ce,ue);break;case"auto":const Ae=(0,S.isPortraitOrientation)(se)?ce:Math.min(ue,ce);Z=Math.min(S.MAX_AUTO_SCALE,Ae);break;default:return void console.error(`_setScale: "${x}" is an unknown zoom value.`)}this._setScaleUpdatePages(Z,x,z,!0)}}_resetCurrentPageView(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}pageLabelToPageNumber(x){if(!this._pageLabels)return null;const z=this._pageLabels.indexOf(x);return z<0?null:z+1}scrollPageIntoView({pageNumber:x,destArray:z=null,allowNegativeOffset:Z=!1,ignoreDestinationZoom:se=!1}){if(!this.pdfDocument)return;const re=Number.isInteger(x)&&this._pages[x-1];if(!re)return void console.error(`scrollPageIntoView: "${x}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!z)return void this._setCurrentPageNumber(x,!0);let we,ne,le=0,ce=0,ue=0,Ae=0;const J=re.rotation%180!=0,te=(J?re.height:re.width)/re.scale/O.PixelsPerInch.PDF_TO_CSS_UNITS,pe=(J?re.width:re.height)/re.scale/O.PixelsPerInch.PDF_TO_CSS_UNITS;let ge=0;switch(z[1].name){case"XYZ":le=z[2],ce=z[3],ge=z[4],le=null!==le?le:0,ce=null!==ce?ce:pe;break;case"Fit":case"FitB":ge="page-fit";break;case"FitH":case"FitBH":ce=z[2],ge="page-width",null===ce&&this._location?(le=this._location.left,ce=this._location.top):("number"!=typeof ce||ce<0)&&(ce=pe);break;case"FitV":case"FitBV":le=z[2],ue=te,Ae=pe,ge="page-height";break;case"FitR":le=z[2],ce=z[3],ue=z[4]-le,Ae=z[5]-ce,we=(this.container.clientWidth-(this.removePageBorders?0:S.SCROLLBAR_PADDING))/ue/O.PixelsPerInch.PDF_TO_CSS_UNITS,ne=(this.container.clientHeight-(this.removePageBorders?0:S.VERTICAL_PADDING))/Ae/O.PixelsPerInch.PDF_TO_CSS_UNITS,ge=Math.min(Math.abs(we),Math.abs(ne));break;default:return void console.error(`scrollPageIntoView: "${z[1].name}" is not a valid destination type.`)}if(se||(ge&&ge!==this._currentScale?this.currentScaleValue=ge:this._currentScale===S.UNKNOWN_SCALE&&(this.currentScaleValue=S.DEFAULT_SCALE_VALUE)),"page-fit"===ge&&!z[4])return void this._scrollIntoView({pageDiv:re.div,pageNumber:x});const ve=[re.viewport.convertToViewportPoint(le,ce),re.viewport.convertToViewportPoint(le+ue,ce+Ae)];let me=Math.min(ve[0][0],ve[1][0]),Se=Math.min(ve[0][1],ve[1][1]);Z||(me=Math.max(me,0),Se=Math.max(Se,0)),this._scrollIntoView({pageDiv:re.div,pageSpot:{left:me,top:Se},pageNumber:x})}_updateLocation(x){const z=this._currentScale,Z=this._currentScaleValue,se=parseFloat(Z)===z?Math.round(1e4*z)/100:Z,re=x.id;let le="#page="+re;le+="&zoom="+se;const ue=this.container,Ae=this._pages[re-1].getPagePoint(ue.scrollLeft-x.x,ue.scrollTop-x.y),we=Math.round(Ae[0]),ne=Math.round(Ae[1]);le+=","+we+","+ne,this._location={pageNumber:re,scale:se,top:ne,left:we,rotation:this._pagesRotation,pdfOpenParams:le}}update(){const x=this._getVisiblePages(),z=x.views,Z=z.length;if(0===Z)return;const se=Math.max(10,2*Z+1);if(R(this,s).resize(se,x.ids),this.renderingQueue.renderHighestPriority(x),!this.isInPresentationMode){const re=this._spreadMode===S.SpreadMode.NONE&&(this._scrollMode===S.ScrollMode.PAGE||this._scrollMode===S.ScrollMode.VERTICAL);let le=this._currentPageNumber,ce=!1;for(const ue of z){if(ue.percent<100)break;if(ue.id===le&&re){ce=!0;break}}ce||(le=z[0].id),this._setCurrentPageNumber(le)}this._updateLocation(x.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(x){return this.container.contains(x)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===S.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===S.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getCurrentVisiblePage(){if(!this.pagesCount)return{views:[]};const x=this._pages[this._currentPageNumber-1],z=x.div,Z={id:x.id,x:z.offsetLeft+z.clientLeft,y:z.offsetTop+z.clientTop,view:x};return{first:Z,last:Z,views:[Z],ids:new Set([x.id])}}_getVisiblePages(){if(this.isInPresentationMode)return this._getCurrentVisiblePage();const x=this._scrollMode===S.ScrollMode.PAGE?R(this,p).pages:this._pages,z=this._scrollMode===S.ScrollMode.HORIZONTAL;return(0,S.getVisibleElements)({scrollEl:this.container,views:x,sortByVisibility:!0,horizontal:z,rtl:z&&this._isContainerRtl})}isPageVisible(x){return!!this.pdfDocument&&(Number.isInteger(x)&&x>0&&x<=this.pagesCount?this._getVisiblePages().ids.has(x):(console.error(`isPageVisible: "${x}" is not a valid page.`),!1))}isPageCached(x){if(!this.pdfDocument)return!1;if(!(Number.isInteger(x)&&x>0&&x<=this.pagesCount))return console.error(`isPageCached: "${x}" is not a valid page.`),!1;const z=this._pages[x-1];return R(this,s).has(z)}cleanup(){for(let x=0,z=this._pages.length;x<z;x++)this._pages[x]&&this._pages[x].renderingState!==S.RenderingStates.FINISHED&&this._pages[x].reset()}_cancelRendering(){for(let x=0,z=this._pages.length;x<z;x++)this._pages[x]&&this._pages[x].cancelRendering()}forceRendering(x){const z=x||this._getVisiblePages(),Z=V(this,Q,_e).call(this,z),re=this.renderingQueue.getHighestPriority(z,this._pages,Z,this._spreadMode!==S.SpreadMode.NONE&&this._scrollMode!==S.ScrollMode.HORIZONTAL);return V(this,ie,Ee).call(this,z.ids),!!re&&(V(this,X,ye).call(this,re).then(()=>{this.renderingQueue.renderView(re)}),!0)}createTextLayerBuilder(x,z,Z,se=!1,re,le){return new h.TextLayerBuilder({textLayerDiv:x,eventBus:re,pageIndex:z,viewport:Z,enhanceTextSelection:!this.isInPresentationMode&&se,highlighter:le})}createTextHighlighter(x,z){return new A.TextHighlighter({eventBus:z,pageIndex:x,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(x,z,Z=null,se="",re=!0,le=i.NullL10n,ce=null,ue=null,Ae=null,we=null,ne=null){return new w.AnnotationLayerBuilder({pageDiv:x,pdfPage:z,annotationStorage:Z||this.pdfDocument?.annotationStorage,imageResourcesPath:se,renderForms:re,linkService:this.linkService,downloadManager:this.downloadManager,l10n:le,enableScripting:ce??this.enableScripting,hasJSActionsPromise:ue||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:we||this.pdfDocument?.getFieldObjects(),mouseState:Ae||this._scriptingManager?.mouseState,annotationCanvasMap:ne})}createXfaLayerBuilder(x,z,Z=null){return new r.XfaLayerBuilder({pageDiv:x,pdfPage:z,annotationStorage:Z||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(x){return new d.StructTreeLayerBuilder({pdfPage:x})}get hasEqualPageSizes(){const x=this._pages[0];for(let z=1,Z=this._pages.length;z<Z;++z){const se=this._pages[z];if(se.width!==x.width||se.height!==x.height)return!1}return!0}getPagesOverview(){return this._pages.map(x=>{const z=x.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,S.isPortraitOrientation)(z)?{width:z.width,height:z.height,rotation:z.rotation}:{width:z.height,height:z.width,rotation:(z.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(x){if(!(x instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${x}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=x;const z={optionalContentConfigPromise:x};for(const Z of this._pages)Z.update(z);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:x})}get scrollMode(){return this._scrollMode}set scrollMode(x){if(this._scrollMode!==x){if(!(0,S.isValidScrollMode)(x))throw new Error(`Invalid scroll mode: ${x}`);this.pagesCount>N.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=x,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:x}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(x=null){const z=this._scrollMode,Z=this.viewer;Z.classList.toggle("scrollHorizontal",z===S.ScrollMode.HORIZONTAL),Z.classList.toggle("scrollWrapped",z===S.ScrollMode.WRAPPED),this.pdfDocument&&x&&(z===S.ScrollMode.PAGE?V(this,W,ae).call(this):this._previousScrollMode===S.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(x,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(x){if(this._spreadMode!==x){if(!(0,S.isValidSpreadMode)(x))throw new Error(`Invalid spread mode: ${x}`);this._spreadMode=x,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:x}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(x=null){if(!this.pdfDocument)return;const z=this.viewer,Z=this._pages;if(this._scrollMode===S.ScrollMode.PAGE)V(this,W,ae).call(this);else if(z.textContent="",this._spreadMode===S.SpreadMode.NONE)for(let se=0,re=Z.length;se<re;++se)z.appendChild(Z[se].div);else{const se=this._spreadMode-1;let re=null;for(let le=0,ce=Z.length;le<ce;++le)null===re?(re=document.createElement("div"),re.className="spread",z.appendChild(re)):le%2===se&&(re=re.cloneNode(!1),z.appendChild(re)),re.appendChild(Z[le].div)}!x||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(x,!0),this.update())}_getPageAdvance(x,z=!1){switch(this._scrollMode){case S.ScrollMode.WRAPPED:{const{views:Z}=this._getVisiblePages(),se=new Map;for(const{id:re,y:le,percent:ce,widthPercent:ue}of Z){if(0===ce||ue<100)continue;let Ae=se.get(le);Ae||se.set(le,Ae||(Ae=[])),Ae.push(re)}for(const re of se.values()){const le=re.indexOf(x);if(-1===le)continue;const ce=re.length;if(1===ce)break;if(z)for(let ue=le-1,Ae=0;ue>=Ae;ue--){const ne=re[ue+1]-1;if(re[ue]<ne)return x-ne}else for(let ue=le+1,Ae=ce;ue<Ae;ue++){const ne=re[ue-1]+1;if(re[ue]>ne)return ne-x}if(z){const ue=re[0];if(ue<x)return x-ue+1}else{const ue=re[ce-1];if(ue>x)return ue-x+1}break}break}case S.ScrollMode.HORIZONTAL:break;case S.ScrollMode.PAGE:case S.ScrollMode.VERTICAL:{if(this._spreadMode===S.SpreadMode.NONE)break;const Z=this._spreadMode-1;if(z&&x%2!==Z)break;if(!z&&x%2===Z)break;const{views:se}=this._getVisiblePages(),re=z?x-1:x+1;for(const{id:le,percent:ce,widthPercent:ue}of se)if(le===re){if(ce>0&&100===ue)return 2;break}break}}return 1}nextPage(){const x=this._currentPageNumber,z=this.pagesCount;if(x>=z)return!1;const Z=this._getPageAdvance(x,!1)||1;return this.currentPageNumber=Math.min(x+Z,z),!0}previousPage(){const x=this._currentPageNumber;if(x<=1)return!1;const z=this._getPageAdvance(x,!0)||1;return this.currentPageNumber=Math.max(x-z,1),!0}increaseScale(x=1){let z=this._currentScale;do{z=(z*S.DEFAULT_SCALE_DELTA).toFixed(2),z=Math.ceil(10*z)/10,z=Math.min(S.MAX_SCALE,z)}while(--x>0&&z<S.MAX_SCALE);this.currentScaleValue=z}decreaseScale(x=1){let z=this._currentScale;do{z=(z/S.DEFAULT_SCALE_DELTA).toFixed(2),z=Math.floor(10*z)/10,z=Math.max(S.MIN_SCALE,z)}while(--x>0&&z>S.MIN_SCALE);this.currentScaleValue=z}}function he(ee){!ee||(ee.includes(O.PermissionFlag.COPY)||this.viewer.classList.add(C),!ee.includes(O.PermissionFlag.MODIFY_ANNOTATIONS)&&!ee.includes(O.PermissionFlag.FILL_INTERACTIVE_FORMS)&&R(this,g)===O.AnnotationMode.ENABLE_FORMS&&(e(this,c,R(this,g)),e(this,g,O.AnnotationMode.ENABLE)))}function de(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const ee=new Promise(x=>{e(this,M,()=>{"hidden"===document.visibilityState&&(x(),document.removeEventListener("visibilitychange",R(this,M)),e(this,M,null))}),document.addEventListener("visibilitychange",R(this,M))});return Promise.race([this._onePageRenderedCapability.promise,ee])}function ae(){if(this._scrollMode!==S.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const ee=this._currentPageNumber,x=R(this,p),z=this.viewer;if(z.textContent="",x.pages.length=0,this._spreadMode===S.SpreadMode.NONE){const Z=this._pages[ee-1];if(this.isInPresentationMode){const se=document.createElement("div");se.className="spread";const re=document.createElement("div");re.className="dummyPage",re.style.height=`${this.container.clientHeight}px`,se.appendChild(re),se.appendChild(Z.div),z.appendChild(se)}else z.appendChild(Z.div);x.pages.push(Z)}else{const Z=new Set,se=this._spreadMode-1;ee%2!==se?(Z.add(ee-1),Z.add(ee)):(Z.add(ee-2),Z.add(ee-1));let re=null;for(const le of Z){const ce=this._pages[le];!ce||(null===re?(re=document.createElement("div"),re.className="spread",z.appendChild(re)):le%2===se&&(re=re.cloneNode(!1),z.appendChild(re)),re.appendChild(ce.div),x.pages.push(ce))}}x.scrollDown=ee>=x.previousPageNumber,x.previousPageNumber=ee}function be(ee){return(!this.isInPresentationMode||this.container.clientHeight===R(this,o))&&(ee===this._currentScale||Math.abs(ee-this._currentScale)<1e-15)}function ye(ee){return fe.apply(this,arguments)}function fe(){return(fe=_(function*(ee){if(ee.pdfPage)return ee.pdfPage;try{const x=yield this.pdfDocument.getPage(ee.id);return ee.pdfPage||ee.setPdfPage(x),this.linkService._cachedPageNumber?.(x.ref)||this.linkService.cachePageRef(ee.id,x.ref),x}catch(x){return console.error("Unable to get page for page view",x),null}})).apply(this,arguments)}function _e(ee){if(1===ee.first?.id)return!0;if(ee.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case S.ScrollMode.PAGE:return R(this,p).scrollDown;case S.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function Ee(ee){for(const x of ee)this._pages[x-1]?.toggleLoadingIconSpinner(!0);for(const x of R(this,s))ee.has(x.id)||x.toggleLoadingIconSpinner(!1)}b.BaseViewer=oe},(U,b,m)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.PDFPageView=void 0;var k=m(3),O=m(6),S=m(13),w=m(4);const i=S.compatibilityParams.maxCanvasPixels||16777216;var n=new WeakMap;b.PDFPageView=class f{constructor(d){D(this,n,{writable:!0,value:k.AnnotationMode.ENABLE_FORMS});const A=d.container,h=d.defaultViewport;this.id=d.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=d.scale||O.DEFAULT_SCALE,this.viewport=h,this.pdfPageRotate=h.rotation,this._optionalContentConfigPromise=d.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=d.textLayerMode??O.TextLayerMode.ENABLE,e(this,n,d.annotationMode??k.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=d.imageResourcesPath||"",this.useOnlyCssZoom=d.useOnlyCssZoom||!1,this.maxCanvasPixels=d.maxCanvasPixels||i,this.eventBus=d.eventBus,this.renderingQueue=d.renderingQueue,this.textLayerFactory=d.textLayerFactory,this.annotationLayerFactory=d.annotationLayerFactory,this.xfaLayerFactory=d.xfaLayerFactory,this.textHighlighter=d.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=d.structTreeLayerFactory,this.renderer=d.renderer||O.RendererType.CANVAS,this.l10n=d.l10n||w.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=O.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const r=document.createElement("div");r.className="page",r.style.width=Math.floor(this.viewport.width)+"px",r.style.height=Math.floor(this.viewport.height)+"px",r.setAttribute("data-page-number",this.id),r.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(v=>{r.setAttribute("aria-label",v)}),this.div=r,A?.appendChild(r)}setPdfPage(d){this.pdfPage=d,this.pdfPageRotate=d.rotate,this.viewport=d.getViewport({scale:this.scale*k.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var d=this;return _(function*(){let A=null;try{yield d.annotationLayer.render(d.viewport,"display")}catch(h){A=h}finally{d.eventBus.dispatch("annotationlayerrendered",{source:d,pageNumber:d.id,error:A})}})()}_renderXfaLayer(){var d=this;return _(function*(){let A=null;try{const h=yield d.xfaLayer.render(d.viewport,"display");d.textHighlighter&&d._buildXfaTextContentItems(h.textDivs)}catch(h){A=h}finally{d.eventBus.dispatch("xfalayerrendered",{source:d,pageNumber:d.id,error:A})}})()}_buildXfaTextContentItems(d){var A=this;return _(function*(){const h=yield A.pdfPage.getTextContent(),r=[];for(const v of h.items)r.push(v.str);A.textHighlighter.setTextMapping(d,r),A.textHighlighter.enable()})()}_resetZoomLayer(d=!1){if(!this.zoomLayer)return;const A=this.zoomLayer.firstChild;this.paintedViewportMap.delete(A),A.width=0,A.height=0,d&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:d=!1,keepAnnotationLayer:A=!1,keepXfaLayer:h=!1}={}){this.cancelRendering({keepAnnotationLayer:A,keepXfaLayer:h}),this.renderingState=O.RenderingStates.INITIAL;const r=this.div;r.style.width=Math.floor(this.viewport.width)+"px",r.style.height=Math.floor(this.viewport.height)+"px";const v=r.childNodes,C=d&&this.zoomLayer||null,N=A&&this.annotationLayer?.div||null,H=h&&this.xfaLayer?.div||null;for(let G=v.length-1;G>=0;G--){const K=v[G];switch(K){case C:case N:case H:continue}K.remove()}r.removeAttribute("data-loaded"),N&&this.annotationLayer.hide(),H&&this.xfaLayer.hide(),C||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(G=>{this.loadingIconDiv?.setAttribute("aria-label",G)}),r.appendChild(this.loadingIconDiv)}update({scale:d=0,rotation:A=null,optionalContentConfigPromise:h=null}){if("object"!=typeof arguments[0])return console.error("PDFPageView.update called with separate parameters, please use an object instead."),void this.update({scale:arguments[0],rotation:arguments[1],optionalContentConfigPromise:arguments[2]});this.scale=d||this.scale,"number"==typeof A&&(this.rotation=A),h instanceof Promise&&(this._optionalContentConfigPromise=h);const v=this.scale*k.PixelsPerInch.PDF_TO_CSS_UNITS;if(this.viewport=this.viewport.clone({scale:v,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:N}=document.documentElement;N.setProperty("--zoom-factor",this.scale),N.setProperty("--viewport-scale-factor",v)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let C=!1;if(this.canvas&&this.maxCanvasPixels>0){const N=this.outputScale;(Math.floor(this.viewport.width)*N.sx|0)*(Math.floor(this.viewport.height)*N.sy|0)>this.maxCanvasPixels&&(C=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&C)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:d=!1,keepXfaLayer:A=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!d||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!A||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:d,redrawAnnotationLayer:A=!1,redrawXfaLayer:h=!1}){const r=this.viewport.width,v=this.viewport.height,C=this.div;d.style.width=d.parentNode.style.width=C.style.width=Math.floor(r)+"px",d.style.height=d.parentNode.style.height=C.style.height=Math.floor(v)+"px";const N=this.viewport.rotation-this.paintedViewportMap.get(d).rotation,H=Math.abs(N);let G=1,K=1;if((90===H||270===H)&&(G=v/r,K=r/v),d.style.transform=`rotate(${N}deg) scale(${G}, ${K})`,this.textLayer){const P=this.textLayer.viewport,s=Math.abs(this.viewport.rotation-P.rotation);let g=r/P.width;(90===s||270===s)&&(g=r/P.height);const c=this.textLayer.textLayerDiv;let t,o;switch(s){case 0:t=o=0;break;case 90:t=0,o="-"+c.style.height;break;case 180:t="-"+c.style.width,o="-"+c.style.height;break;case 270:t="-"+c.style.width,o=0;break;default:console.error("Bad rotation value.")}c.style.transform=`rotate(${s}deg) scale(${g}) translate(${t}, ${o})`,c.style.transformOrigin="0% 0%"}A&&this.annotationLayer&&this._renderAnnotationLayer(),h&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(d,A){return this.viewport.convertToPdfPoint(d,A)}toggleLoadingIconSpinner(d=!1){this.loadingIconDiv?.classList.toggle("notVisible",!d)}draw(){var d=this;this.renderingState!==O.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:A,pdfPage:h}=this;if(!h)return this.renderingState=O.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=O.RenderingStates.RUNNING;const r=document.createElement("div");r.style.width=A.style.width,r.style.height=A.style.height,r.classList.add("canvasWrapper"),this.annotationLayer?.div?A.insertBefore(r,this.annotationLayer.div):A.appendChild(r);let v=null;if(this.textLayerMode!==O.TextLayerMode.DISABLE&&this.textLayerFactory){const K=document.createElement("div");K.className="textLayer",K.style.width=r.style.width,K.style.height=r.style.height,this.annotationLayer?.div?A.insertBefore(K,this.annotationLayer.div):A.appendChild(K),v=this.textLayerFactory.createTextLayerBuilder(K,this.id-1,this.viewport,this.textLayerMode===O.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=v,R(this,n)!==k.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(A,h,null,this.imageResourcesPath,R(this,n)===k.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),this.xfaLayer?.div&&A.appendChild(this.xfaLayer.div);let C=null;this.renderingQueue&&(C=K=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=O.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=O.RenderingStates.RUNNING,K()});K()});const N=function(){var K=_(function*(P=null){if(H===d.paintTask&&(d.paintTask=null),P instanceof k.RenderingCancelledException)d._renderError=null;else if(d._renderError=P,d.renderingState=O.RenderingStates.FINISHED,d.loadingIconDiv&&(d.loadingIconDiv.remove(),delete d.loadingIconDiv),d._resetZoomLayer(!0),d.eventBus.dispatch("pagerendered",{source:d,pageNumber:d.id,cssTransform:!1,timestamp:performance.now(),error:d._renderError}),P)throw P});return function(){return K.apply(this,arguments)}}(),H=this.renderer===O.RendererType.SVG?this.paintOnSvg(r):this.paintOnCanvas(r);H.onRenderContinue=C,this.paintTask=H;const G=H.promise.then(()=>N(null).then(()=>{if(v){const K=h.streamTextContent({includeMarkedContent:!0});v.setTextContentStream(K),v.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(K){return N(K)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(A,h,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=K=>{K.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(P=>{if(!P||!this.canvas)return;const l=this.structTreeLayer.render(P);l.classList.add("structTree"),this.canvas.appendChild(l)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(h)),A.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),G}paintOnCanvas(d){const A=(0,k.createPromiseCapability)(),h={promise:A.promise,onRenderContinue(c){c()},cancel(){g.cancel()}},r=this.viewport,v=document.createElement("canvas");v.hidden=!0;let C=!0;const N=function(){C&&(v.hidden=!1,C=!1)};d.appendChild(v),this.canvas=v,v.mozOpaque=!0;const H=v.getContext("2d",{alpha:!1}),G=this.outputScale=new O.OutputScale;if(this.useOnlyCssZoom){const c=r.clone({scale:k.PixelsPerInch.PDF_TO_CSS_UNITS});G.sx*=c.width/r.width,G.sy*=c.height/r.height}if(this.maxCanvasPixels>0){const t=Math.sqrt(this.maxCanvasPixels/(r.width*r.height));G.sx>t||G.sy>t?(G.sx=t,G.sy=t,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const K=(0,O.approximateFraction)(G.sx),P=(0,O.approximateFraction)(G.sy);v.width=(0,O.roundToDivide)(r.width*G.sx,K[0]),v.height=(0,O.roundToDivide)(r.height*G.sy,P[0]),v.style.width=(0,O.roundToDivide)(r.width,K[1])+"px",v.style.height=(0,O.roundToDivide)(r.height,P[1])+"px",this.paintedViewportMap.set(v,r);const s={canvasContext:H,transform:G.scaled?[G.sx,0,0,G.sy,0,0]:null,viewport:this.viewport,annotationMode:R(this,n),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap},g=this.pdfPage.render(s);return g.onContinue=function(c){N(),h.onRenderContinue?h.onRenderContinue(c):c()},g.promise.then(function(){N(),A.resolve()},function(c){N(),A.reject(c)}),h}paintOnSvg(d){let A=!1;const h=()=>{if(A)throw new k.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},r=this.pdfPage,v=this.viewport.clone({scale:k.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:r.getOperatorList({annotationMode:R(this,n)}).then(N=>(h(),new k.SVGGraphics(r.commonObjs,r.objs).getSVG(N,v).then(G=>{h(),this.svg=G,this.paintedViewportMap.set(G,v),G.style.width=d.style.width,G.style.height=d.style.height,this.renderingState=O.RenderingStates.FINISHED,d.appendChild(G)}))),onRenderContinue(N){N()},cancel(){A=!0}}}setPageLabel(d){this.pageLabel="string"==typeof d?d:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(U,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.compatibilityParams=b.OptionKind=b.AppOptions=void 0;const m=Object.create(null);b.compatibilityParams=m;{const i=navigator.userAgent||"",n=navigator.platform||"",f=navigator.maxTouchPoints||1,E=/Android/.test(i);(/\b(iPad|iPhone|iPod)(?=;)/.test(i)||"MacIntel"===n&&f>1||E)&&(m.maxCanvasPixels=5242880)}const k={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};b.OptionKind=k;const O={annotationMode:{value:2,kind:k.VIEWER+k.PREFERENCE},cursorToolOnLoad:{value:0,kind:k.VIEWER+k.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:k.VIEWER},defaultZoomValue:{value:"",kind:k.VIEWER+k.PREFERENCE},disableHistory:{value:!1,kind:k.VIEWER},disablePageLabels:{value:!1,kind:k.VIEWER+k.PREFERENCE},enablePermissions:{value:!1,kind:k.VIEWER+k.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:k.VIEWER+k.PREFERENCE},enableScripting:{value:!0,kind:k.VIEWER+k.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:k.VIEWER},externalLinkTarget:{value:0,kind:k.VIEWER+k.PREFERENCE},historyUpdateUrl:{value:!1,kind:k.VIEWER+k.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:k.VIEWER+k.PREFERENCE},imageResourcesPath:{value:"./images/",kind:k.VIEWER},maxCanvasPixels:{value:16777216,compatibility:m.maxCanvasPixels,kind:k.VIEWER},pdfBugEnabled:{value:!1,kind:k.VIEWER+k.PREFERENCE},printResolution:{value:150,kind:k.VIEWER},renderer:{value:"canvas",kind:k.VIEWER},sidebarViewOnLoad:{value:-1,kind:k.VIEWER+k.PREFERENCE},scrollModeOnLoad:{value:-1,kind:k.VIEWER+k.PREFERENCE},spreadModeOnLoad:{value:-1,kind:k.VIEWER+k.PREFERENCE},textLayerMode:{value:1,kind:k.VIEWER+k.PREFERENCE},useOnlyCssZoom:{value:!1,kind:k.VIEWER+k.PREFERENCE},viewerCssTheme:{value:0,kind:k.VIEWER+k.PREFERENCE},viewOnLoad:{value:0,kind:k.VIEWER+k.PREFERENCE},cMapPacked:{value:!0,kind:k.API},cMapUrl:{value:"../web/cmaps/",kind:k.API},disableAutoFetch:{value:!1,kind:k.API+k.PREFERENCE},disableFontFace:{value:!1,kind:k.API+k.PREFERENCE},disableRange:{value:!1,kind:k.API+k.PREFERENCE},disableStream:{value:!1,kind:k.API+k.PREFERENCE},docBaseUrl:{value:"",kind:k.API},enableXfa:{value:!0,kind:k.API+k.PREFERENCE},fontExtraProperties:{value:!1,kind:k.API},isEvalSupported:{value:!0,kind:k.API},maxImageSize:{value:-1,kind:k.API},pdfBug:{value:!1,kind:k.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:k.API},verbosity:{value:1,kind:k.API},workerPort:{value:null,kind:k.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:k.WORKER}};O.disablePreferences={value:!1,kind:k.VIEWER},O.locale={value:navigator.language||"en-US",kind:k.VIEWER},O.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:k.VIEWER},O.renderer.kind+=k.PREFERENCE;const S=Object.create(null);b.AppOptions=class w{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(n){const f=S[n];if(void 0!==f)return f;const E=O[n];return void 0!==E?E.compatibility??E.value:void 0}static getAll(n=null){const f=Object.create(null);for(const E in O){const d=O[E];if(n){if(0==(n&d.kind))continue;if(n===k.PREFERENCE){const h=d.value,r=typeof h;if("boolean"===r||"string"===r||"number"===r&&Number.isInteger(h)){f[E]=h;continue}throw new Error(`Invalid type for preference: ${E}`)}}const A=S[E];f[E]=void 0!==A?A:d.compatibility??d.value}return f}static set(n,f){S[n]=f}static setAll(n){for(const f in n)S[f]=n[f]}static remove(n){delete S[n]}static _hasUserOptions(){return Object.keys(S).length>0}}},(U,b,m)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.PDFRenderingQueue=void 0;var k=m(3),O=m(6);b.PDFRenderingQueue=class w{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(n){this.pdfViewer=n}setThumbnailViewer(n){this.pdfThumbnailViewer=n}isHighestPriority(n){return this.highestPriorityPage===n.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(n){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(n)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(n,f,E,d=!1){const A=n.views,h=A.length;if(0===h)return null;for(let H=0;H<h;H++){const G=A[H].view;if(!this.isViewFinished(G))return G}const r=n.first.id,v=n.last.id;if(v-r+1>h){const H=n.ids;for(let G=1,K=v-r;G<K;G++){const P=E?r+G:v-G;if(H.has(P))continue;const l=f[P-1];if(!this.isViewFinished(l))return l}}let C=E?v:r-2,N=f[C];return N&&!this.isViewFinished(N)||d&&(C+=E?1:-1,N=f[C],N&&!this.isViewFinished(N))?N:null}isViewFinished(n){return n.renderingState===O.RenderingStates.FINISHED}renderView(n){switch(n.renderingState){case O.RenderingStates.FINISHED:return!1;case O.RenderingStates.PAUSED:this.highestPriorityPage=n.renderingId,n.resume();break;case O.RenderingStates.RUNNING:this.highestPriorityPage=n.renderingId;break;case O.RenderingStates.INITIAL:this.highestPriorityPage=n.renderingId,n.draw().finally(()=>{this.renderHighestPriority()}).catch(f=>{f instanceof k.RenderingCancelledException||console.error(`renderView: "${f}"`)})}return!0}}},(U,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.TextHighlighter=void 0;b.TextHighlighter=class m{constructor({findController:O,eventBus:S,pageIndex:w}){this.findController=O,this.matches=[],this.eventBus=S,this.pageIdx=w,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(O,S){this.textDivs=O,this.textContentItemsStr=S}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=O=>{(O.pageIndex===this.pageIdx||-1===O.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(O,S){if(!O)return[];const{textContentItemsStr:w}=this;let i=0,n=0;const f=w.length-1,E=[];for(let d=0,A=O.length;d<A;d++){let h=O[d];for(;i!==f&&h>=n+w[i].length;)n+=w[i].length,i++;i===w.length&&console.error("Could not find a matching mapping");const r={begin:{divIdx:i,offset:h-n}};for(h+=S[d];i!==f&&h>n+w[i].length;)n+=w[i].length,i++;r.end={divIdx:i,offset:h-n},E.push(r)}return E}_renderMatches(O){if(0===O.length)return;const{findController:S,pageIdx:w}=this,{textContentItemsStr:i,textDivs:n}=this,f=w===S.selected.pageIdx,E=S.selected.matchIdx;let A=null;const h_offset=void 0;function r(H,G){const K=H.divIdx;return n[K].textContent="",v(K,0,H.offset,G)}function v(H,G,K,P){let l=n[H];if(l.nodeType===Node.TEXT_NODE){const c=document.createElement("span");l.parentNode.insertBefore(c,l),c.appendChild(l),n[H]=c,l=c}const s=i[H].substring(G,K),g=document.createTextNode(s);if(P){const c=document.createElement("span");return c.className=`${P} appended`,c.appendChild(g),l.appendChild(c),P.includes("selected")?c.offsetLeft:0}return l.appendChild(g),0}let C=E,N=C+1;if(S.state.highlightAll)C=0,N=O.length;else if(!f)return;for(let H=C;H<N;H++){const G=O[H],K=G.begin,P=G.end,l=f&&H===E,s=l?" selected":"";let g=0;if(A&&K.divIdx===A.divIdx?v(A.divIdx,A.offset,K.offset):(null!==A&&v(A.divIdx,A.offset,h_offset),r(K)),K.divIdx===P.divIdx)g=v(K.divIdx,K.offset,P.offset,"highlight"+s);else{g=v(K.divIdx,K.offset,h_offset,"highlight begin"+s);for(let c=K.divIdx+1,t=P.divIdx;c<t;c++)n[c].className="highlight middle"+s;r(P,"highlight end"+s)}A=P,l&&S.scrollMatchIntoView({element:n[K.divIdx],selectedLeft:g,pageIndex:w,matchIndex:E})}A&&v(A.divIdx,A.offset,h_offset)}_updateMatches(){if(!this.enabled)return;const{findController:O,matches:S,pageIdx:w}=this,{textContentItemsStr:i,textDivs:n}=this;let f=-1;for(let A=0,h=S.length;A<h;A++){const r=S[A];for(let C=Math.max(f,r.begin.divIdx),N=r.end.divIdx;C<=N;C++){const H=n[C];H.textContent=i[C],H.className=""}f=r.end.divIdx+1}O?.highlightMatches&&(this.matches=this._convertMatches(O.pageMatches[w]||null,O.pageMatchesLength[w]||null),this._renderMatches(this.matches))}}},(U,b,m)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DownloadManager=void 0;var k=m(3);function O(w,i){const n=document.createElement("a");if(!n.click)throw new Error('DownloadManager: "a.click()" is not supported.');n.href=w,n.target="_parent","download"in n&&(n.download=i),(document.body||document.documentElement).appendChild(n),n.click(),n.remove()}b.DownloadManager=class S{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(i,n){(0,k.createValidAbsoluteUrl)(i,"http://example.com")?O(i+"#pdfjs.action=download",n):console.error(`downloadUrl - not a valid URL: ${i}`)}downloadData(i,n,f){O(URL.createObjectURL(new Blob([i],{type:f})),n)}openOrDownloadData(i,n,f){const E=(0,k.isPdfFile)(f),d=E?"application/pdf":"";if(E){let h,A=this._openBlobUrls.get(i);A||(A=URL.createObjectURL(new Blob([n],{type:d})),this._openBlobUrls.set(i,A)),h="?file="+encodeURIComponent(A+"#"+f);try{return window.open(h),!0}catch(r){console.error(`openOrDownloadData: ${r}`),URL.revokeObjectURL(A),this._openBlobUrls.delete(i)}}return this.downloadData(n,f,d),!1}download(i,n,f,E="download"){O(URL.createObjectURL(i),f)}}},(U,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.WaitOnType=b.EventBus=b.AutomationEventBus=void 0,b.waitOnEventOrTimeout=function k({target:w,name:i,delay:n=0}){return new Promise(function(f,E){if("object"!=typeof w||!i||"string"!=typeof i||!(Number.isInteger(n)&&n>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function d(v){w instanceof O?w._off(i,A):w.removeEventListener(i,A),r&&clearTimeout(r),f(v)}const A=d.bind(null,m.EVENT);w instanceof O?w._on(i,A):w.addEventListener(i,A);const h=d.bind(null,m.TIMEOUT),r=setTimeout(h,n)})};const m={EVENT:"event",TIMEOUT:"timeout"};b.WaitOnType=m;class O{constructor(){this._listeners=Object.create(null)}on(i,n,f=null){this._on(i,n,{external:!0,once:f?.once})}off(i,n,f=null){this._off(i,n,{external:!0,once:f?.once})}dispatch(i,n){const f=this._listeners[i];if(!f||0===f.length)return;let E;for(const{listener:d,external:A,once:h}of f.slice(0))h&&this._off(i,d),A?(E||(E=[])).push(d):d(n);if(E){for(const d of E)d(n);E=null}}_on(i,n,f=null){var d;((d=this._listeners)[i]||(d[i]=[])).push({listener:n,external:!0===f?.external,once:!0===f?.once})}_off(i,n,f=null){const E=this._listeners[i];if(E)for(let d=0,A=E.length;d<A;d++)if(E[d].listener===n)return void E.splice(d,1)}}b.EventBus=O;b.AutomationEventBus=class S extends O{dispatch(i,n){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(U,b,m)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.GenericL10n=void 0,m(19);var k=m(4);const O=document.webL10n;b.GenericL10n=class S{constructor(i){this._lang=i,this._ready=new Promise((n,f)=>{O.setLanguage((0,k.fixupLangCode)(i),()=>{n(O)})})}getLanguage(){var i=this;return _(function*(){return(yield i._ready).getLanguage()})()}getDirection(){var i=this;return _(function*(){return(yield i._ready).getDirection()})()}get(i,n=null,f=(0,k.getL10nFallback)(i,n)){var E=this;return _(function*(){return(yield E._ready).get(i,n,f)})()}translate(i){var n=this;return _(function*(){return(yield n._ready).translate(i)})()}}},()=>{document.webL10n=function(U,b,m){var k={},O="",S="textContent",w="",i={},n="loading";function r(c,t,o){t=t||function(y){},o=o||function(){};var p=new XMLHttpRequest;p.open("GET",c,true),p.overrideMimeType&&p.overrideMimeType("text/plain; charset=utf-8"),p.onreadystatechange=function(){4==p.readyState&&(200==p.status||0===p.status?t(p.responseText):o())},p.onerror=o,p.ontimeout=o;try{p.send(null)}catch{o()}}function v(c,t,o,p){var M=c.replace(/[^\/]*$/,"")||"./";function y(W){return W.lastIndexOf("\\")<0?W:W.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}r(c,function(W){O+=W,function u(W,$){var X={},Q=/^\s*|\s*$/,ie=/^\s*#|^\s*$/,oe=/^\s*\[(.*)\]\s*$/,he=/^\s*@import\s+url\((.*)\)\s*$/i,de=/^([^=\s]*)\s*=\s*(.+)$/;function ae(ye,fe,_e){var Ee=ye.replace(Q,"").split(/[\r\n]+/),ee="*",x=t.split("-",1)[0],z=!1,Z="";!function se(){for(;;){if(!Ee.length)return void _e();var re=Ee.shift();if(!ie.test(re)){if(fe){if(Z=oe.exec(re)){ee=Z[1].toLowerCase(),z="*"!==ee&&ee!==t&&ee!==x;continue}if(z)continue;if(Z=he.exec(re))return void be(M+Z[1],se)}var le=re.match(de);le&&3==le.length&&(X[le[1]]=y(le[2]))}}}()}function be(ye,fe){r(ye,function(_e){ae(_e,!1,fe)},function(){console.warn(ye+" not found."),fe()})}ae(W,!0,function(){$(X)})}(W,function($){for(var X in $){var Q,ie,oe=X.lastIndexOf(".");oe>0?(Q=X.substring(0,oe),ie=X.substring(oe+1)):(Q=X,ie=S),k[Q]||(k[Q]={}),k[Q][ie]=$[X]}o&&o()})},p)}function C(c,t){c&&(c=c.toLowerCase()),t=t||function(){},function N(){k={},O="",w=""}(),w=c;var o=function E(){return b.querySelectorAll('link[type="application/l10n"]')}(),p=o.length;if(0!==p){var W,$=0;W=function(){++$>=p&&(t(),n="complete")};for(var Q=0;Q<p;Q++)new X(o[Q]).load(c,W)}else{var M=function d(){var c=b.querySelector('script[type="application/l10n"]');return c?JSON.parse(c.innerHTML):null}();if(M&&M.locales&&M.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(k=M.locales[c])){var y=M.default_locale.toLowerCase();for(var u in M.locales){if((u=u.toLowerCase())===c){k=M.locales[c];break}u===y&&(k=M.locales[y])}}t()}else console.log("no resource to load, early way out");n="complete"}function X(oe){var he=oe.href;this.load=function(de,ae){v(he,de,ae,function(){console.warn(he+" not found."),console.warn('"'+de+'" resource not found'),w="",ae()})}}}function G(c,t,o){var p=k[c];if(!p){if(console.warn("#"+c+" is undefined."),!o)return null;p=o}var M={};for(var y in p){var u=p[y];u=P(u=K(u,t,c,y),t,c),M[y]=u}return M}function K(c,t,o,p){var y=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(c);if(!y||!y.length)return c;var $,u=y[1],W=y[2];return t&&W in t?$=t[W]:W in k&&($=k[W]),u in i&&(c=(0,i[u])(c,$,o,p)),c}function P(c,t,o){return c.replace(/\{\{\s*(.+?)\s*\}\}/g,function(M,y){return t&&y in t?t[y]:y in k?k[y]:(console.log("argument {{"+y+"}} for #"+o+" is undefined."),M)})}function l(c){var t=function h(c){if(!c)return{};var t=c.getAttribute("data-l10n-id"),o=c.getAttribute("data-l10n-args"),p={};if(o)try{p=JSON.parse(o)}catch{console.warn("could not parse arguments for #"+t)}return{id:t,args:p}}(c);if(t.id){var o=G(t.id,t.args);if(!o)return void console.warn("#"+t.id+" is undefined.");if(o[S]){if(0===function s(c){if(c.children)return c.children.length;if(typeof c.childElementCount<"u")return c.childElementCount;for(var t=0,o=0;o<c.childNodes.length;o++)t+=1===c.nodeType?1:0;return t}(c))c[S]=o[S];else{for(var p=c.childNodes,M=!1,y=0,u=p.length;y<u;y++)3===p[y].nodeType&&/\S/.test(p[y].nodeValue)&&(M?p[y].nodeValue="":(p[y].nodeValue=o[S],M=!0));if(!M){var W=b.createTextNode(o[S]);c.insertBefore(W,c.firstChild)}}delete o[S]}for(var $ in o)c[$]=o[$]}}return i.plural=function(c,t,o,p){var M=parseFloat(t);if(isNaN(M)||p!=S)return c;i._pluralRules||(i._pluralRules=function H(c){function o(u,W){return-1!==W.indexOf(u)}function p(u,W,$){return W<=u&&u<=$}var M={0:function(u){return"other"},1:function(u){return p(u%100,3,10)?"few":0===u?"zero":p(u%100,11,99)?"many":2==u?"two":1==u?"one":"other"},2:function(u){return 0!==u&&u%10==0?"many":2==u?"two":1==u?"one":"other"},3:function(u){return 1==u?"one":"other"},4:function(u){return p(u,0,1)?"one":"other"},5:function(u){return p(u,0,2)&&2!=u?"one":"other"},6:function(u){return 0===u?"zero":u%10==1&&u%100!=11?"one":"other"},7:function(u){return 2==u?"two":1==u?"one":"other"},8:function(u){return p(u,3,6)?"few":p(u,7,10)?"many":2==u?"two":1==u?"one":"other"},9:function(u){return 0===u||1!=u&&p(u%100,1,19)?"few":1==u?"one":"other"},10:function(u){return p(u%10,2,9)&&!p(u%100,11,19)?"few":u%10!=1||p(u%100,11,19)?"other":"one"},11:function(u){return p(u%10,2,4)&&!p(u%100,12,14)?"few":u%10==0||p(u%10,5,9)||p(u%100,11,14)?"many":u%10==1&&u%100!=11?"one":"other"},12:function(u){return p(u,2,4)?"few":1==u?"one":"other"},13:function(u){return p(u%10,2,4)&&!p(u%100,12,14)?"few":1!=u&&p(u%10,0,1)||p(u%10,5,9)||p(u%100,12,14)?"many":1==u?"one":"other"},14:function(u){return p(u%100,3,4)?"few":u%100==2?"two":u%100==1?"one":"other"},15:function(u){return 0===u||p(u%100,2,10)?"few":p(u%100,11,19)?"many":1==u?"one":"other"},16:function(u){return u%10==1&&11!=u?"one":"other"},17:function(u){return 3==u?"few":0===u?"zero":6==u?"many":2==u?"two":1==u?"one":"other"},18:function(u){return 0===u?"zero":p(u,0,2)&&0!==u&&2!=u?"one":"other"},19:function(u){return p(u,2,10)?"few":p(u,0,1)?"one":"other"},20:function(u){return!p(u%10,3,4)&&u%10!=9||p(u%100,10,19)||p(u%100,70,79)||p(u%100,90,99)?u%1e6==0&&0!==u?"many":u%10!=2||o(u%100,[12,72,92])?u%10!=1||o(u%100,[11,71,91])?"other":"one":"two":"few"},21:function(u){return 0===u?"zero":1==u?"one":"other"},22:function(u){return p(u,0,1)||p(u,11,99)?"one":"other"},23:function(u){return p(u%10,1,2)||u%20==0?"one":"other"},24:function(u){return p(u,3,10)||p(u,13,19)?"few":o(u,[2,12])?"two":o(u,[1,11])?"one":"other"}},y={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[c.replace(/-.*$/,"")];return y in M?M[y]:(console.warn("plural form unknown for ["+c+"]"),function(){return"other"})}(w));var y="["+i._pluralRules(M)+"]";return 0===M&&o+"[zero]"in k?c=k[o+"[zero]"][p]:1==M&&o+"[one]"in k?c=k[o+"[one]"][p]:2==M&&o+"[two]"in k?c=k[o+"[two]"][p]:o+y in k?c=k[o+y][p]:o+"[other]"in k&&(c=k[o+"[other]"][p]),c},{get:function(c,t,o){var y,p=c.lastIndexOf("."),M=S;p>0&&(M=c.substring(p+1),c=c.substring(0,p)),o&&((y={})[M]=o);var u=G(c,t,y);return u&&M in u?u[M]:"{{"+c+"}}"},getData:function(){return k},getText:function(){return O},getLanguage:function(){return w},setLanguage:function(c,t){C(c,function(){t&&t()})},getDirection:function(){var t=w.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(t)>=0?"rtl":"ltr"},translate:function g(c){for(var t=function A(c){return c?c.querySelectorAll("*[data-l10n-id]"):[]}(c=c||b.documentElement),o=t.length,p=0;p<o;p++)l(t[p]);l(c)},getReadyState:function(){return n},ready:function(c){c&&("complete"==n||"interactive"==n?U.setTimeout(function(){c()}):b.addEventListener&&b.addEventListener("localized",function t(){b.removeEventListener("localized",t),c()}))}}}(window,document)},(U,b,m)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.PDFFindController=b.FindState=void 0;var k=m(6),O=m(3),S=m(21);const w={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};b.FindState=w;const E={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},d=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),A=[...d.values()].map(P=>String.fromCharCode(P)).join(""),h=/\p{M}+/gu,r=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,v=/([^\p{M}])\p{M}*$/u,C=/^\p{M}*([^\p{M}])/u;let N=null;function H(P){if(!N){const u=Object.keys(E).join("");N=new RegExp(`([${u}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const l=[];let s;for(;null!==(s=h.exec(P));)l.push([s[0].length,s.index]);let g=P.normalize("NFD");const c=[[0,0]];let t=0,o=0,p=0,M=0,y=!1;return g=g.replace(N,(u,W,$,X,Q,ie)=>{if(ie-=p,W){const oe=E[u],he=oe.length;for(let de=1;de<he;de++)c.push([ie-o+de,o-de]);return o-=he-1,oe}if($){const oe=$.endsWith("\n"),he=oe?$.length-2:$.length;y=!0;let de=he;ie+M===l[t]?.[1]&&(de-=l[t][0],++t);for(let ae=1;ae<de+1;ae++)c.push([ie-1-o+ae,o-ae]);return o-=de,p+=de,oe?(c.push([(ie+=he-1)-o+1,1+o]),o+=1,p+=1,M+=1,$.slice(0,he)):$}return X?(c.push([ie-o+1,1+o]),o+=1,p+=1,M+=1,X.charAt(0)):(c.push([ie-o+1,o-1]),o-=1,p+=1,M+=1," ")}),c.push([g.length,o]),[g,c,y]}function G(P,l,s){if(!P)return[l,s];const g=l,c=l+s;let t=(0,k.binarySearchFirstItem)(P,p=>p[0]>=g);P[t][0]>g&&--t;let o=(0,k.binarySearchFirstItem)(P,p=>p[0]>=c,t);return P[o][0]>c&&--o,[g+P[t][1],s+P[o][1]-P[t][1]]}b.PDFFindController=class K{constructor({linkService:l,eventBus:s}){this._linkService=l,this._eventBus=s,this._reset(),s._on("find",this._onFind.bind(this)),s._on("findbarclose",this._onFindBarClose.bind(this)),this.executeCommand=(g,c)=>{console.error('Deprecated method `PDFFindController.executeCommand` called, please dispatch a "find"-event using the EventBus instead.');const t=Object.assign(Object.create(null),c,{type:g.substring(4)});this._onFind(t)}}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(l){this._pdfDocument&&this._reset(),l&&(this._pdfDocument=l,this._firstPageCapability.resolve())}_onFind(l){if(!l)return;const s=this._pdfDocument,{type:g}=l;(null===this._state||this._shouldDirtyMatch(l))&&(this._dirtyMatch=!0),this._state=l,"highlightallchange"!==g&&this._updateUIState(w.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||s&&this._pdfDocument!==s)return;this._extractText();const c=!this._highlightMatches,t=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),g?this._dirtyMatch?this._nextMatch():"again"===g?(this._nextMatch(),c&&this._state.highlightAll&&this._updateAllPages()):"highlightallchange"===g?(t?this._nextMatch():this._highlightMatches=!0,this._updateAllPages()):this._nextMatch():this._findTimeout=setTimeout(()=>{this._nextMatch(),this._findTimeout=null},250)})}scrollMatchIntoView({element:l=null,selectedLeft:s=0,pageIndex:g=-1,matchIndex:c=-1}){this._scrollMatches&&l&&-1!==c&&c===this._selected.matchIdx&&-1!==g&&g===this._selected.pageIdx&&(this._scrollMatches=!1,(0,k.scrollIntoView)(l,{top:-50,left:s+-400},!0))}_reset(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,O.createPromiseCapability)()}get _query(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=H(this._state.query)),this._normalizedQuery}_shouldDirtyMatch(l){if(l.query!==this._state.query)return!0;switch(l.type){case"again":const s=this._selected.pageIdx+1,g=this._linkService;return s>=1&&s<=g.pagesCount&&s!==g.page&&!g.isPageVisible(s);case"highlightallchange":return!1}return!0}_isEntireWord(l,s,g){let c=l.slice(0,s).match(v);if(c){const t=l.charCodeAt(s),o=c[1].charCodeAt(0);if((0,S.getCharacterType)(t)===(0,S.getCharacterType)(o))return!1}if(c=l.slice(s+g).match(C),c){const t=l.charCodeAt(s+g-1),o=c[1].charCodeAt(0);if((0,S.getCharacterType)(t)===(0,S.getCharacterType)(o))return!1}return!0}_calculateRegExpMatch(l,s,g,c){const t=[],o=[],p=this._pageDiffs[g];let M;for(;null!==(M=l.exec(c));){if(s&&!this._isEntireWord(c,M.index,M[0].length))continue;const[y,u]=G(p,M.index,M[0].length);u&&(t.push(y),o.push(u))}this._pageMatches[g]=t,this._pageMatchesLength[g]=o}_convertToRegExpString(l,s){const{matchDiacritics:g}=this._state;let c=!1;const t="[ ]*";return(l=l.replace(r,(o,p,M,y,u,W)=>p?`[ ]*\\${p}[ ]*`:M?`[ ]*${M}[ ]*`:y?"[ ]+":g?u||W:u?d.has(u.charCodeAt(0))?u:"":s?(c=!0,`${W}\\p{M}*`):W)).endsWith(t)&&(l=l.slice(0,l.length-t.length)),g&&s&&(c=!0,l=`${l}(?=[${A}]|[^\\p{M}]|$)`),[c,l]}_calculateMatch(l){let s=this._query;if(0===s.length)return;const{caseSensitive:g,entireWord:c,phraseSearch:t}=this._state,o=this._pageContents[l],p=this._hasDiacritics[l];let M=!1;if(t)[M,s]=this._convertToRegExpString(s,p);else{const W=s.match(/\S+/g);W&&(s=W.sort().reverse().map($=>{const[X,Q]=this._convertToRegExpString($,p);return M||(M=X),`(${Q})`}).join("|"))}s=new RegExp(s,`g${M?"u":""}${g?"":"i"}`),this._calculateRegExpMatch(s,c,l,o),this._state.highlightAll&&this._updatePage(l),this._resumePageIdx===l&&(this._resumePageIdx=null,this._nextPageMatch());const u=this._pageMatches[l].length;u>0&&(this._matchesCountTotal+=u,this._updateUIResultsCount())}_extractText(){if(this._extractTextPromises.length>0)return;let l=Promise.resolve();for(let s=0,g=this._linkService.pagesCount;s<g;s++){const c=(0,O.createPromiseCapability)();this._extractTextPromises[s]=c.promise,l=l.then(()=>this._pdfDocument.getPage(s+1).then(t=>t.getTextContent()).then(t=>{const o=t.items,p=[];for(let M=0,y=o.length;M<y;M++)p.push(o[M].str),o[M].hasEOL&&p.push("\n");[this._pageContents[s],this._pageDiffs[s],this._hasDiacritics[s]]=H(p.join("")),c.resolve(s)},t=>{console.error(`Unable to get text content for page ${s+1}`,t),this._pageContents[s]="",this._pageDiffs[s]=null,this._hasDiacritics[s]=!1,c.resolve(s)}))}}_updatePage(l){this._scrollMatches&&this._selected.pageIdx===l&&(this._linkService.page=l+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:l})}_updateAllPages(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}_nextMatch(){const l=this._state.findPrevious,s=this._linkService.page-1,g=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=s,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(let t=0;t<g;t++)this._pendingFindMatches.has(t)||(this._pendingFindMatches.add(t),this._extractTextPromises[t].then(o=>{this._pendingFindMatches.delete(o),this._calculateMatch(o)}))}if(""===this._query)return void this._updateUIState(w.FOUND);if(this._resumePageIdx)return;const c=this._offset;if(this._pagesToSearch=g,null!==c.matchIdx){const t=this._pageMatches[c.pageIdx].length;if(!l&&c.matchIdx+1<t||l&&c.matchIdx>0)return c.matchIdx=l?c.matchIdx-1:c.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(l)}this._nextPageMatch()}_matchesReady(l){const s=this._offset,g=l.length,c=this._state.findPrevious;return g?(s.matchIdx=c?g-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(c),!!(s.wrapped&&(s.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}_nextPageMatch(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let l=null;do{const s=this._offset.pageIdx;if(l=this._pageMatches[s],!l){this._resumePageIdx=s;break}}while(!this._matchesReady(l))}_advanceOffsetPage(l){const s=this._offset,g=this._linkService.pagesCount;s.pageIdx=l?s.pageIdx-1:s.pageIdx+1,s.matchIdx=null,this._pagesToSearch--,(s.pageIdx>=g||s.pageIdx<0)&&(s.pageIdx=l?g-1:0,s.wrapped=!0)}_updateMatch(l=!1){let s=w.NOT_FOUND;const g=this._offset.wrapped;if(this._offset.wrapped=!1,l){const c=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,s=g?w.WRAPPED:w.FOUND,-1!==c&&c!==this._selected.pageIdx&&this._updatePage(c)}this._updateUIState(s,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}_onFindBarClose(l){const s=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||s&&this._pdfDocument!==s||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this._updateUIState(w.FOUND),this._highlightMatches=!1,this._updateAllPages())})}_requestMatchesCount(){const{pageIdx:l,matchIdx:s}=this._selected;let g=0,c=this._matchesCountTotal;if(-1!==s){for(let t=0;t<l;t++)g+=this._pageMatches[t]?.length||0;g+=s+1}return(g<1||g>c)&&(g=c=0),{current:g,total:c}}_updateUIResultsCount(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}_updateUIState(l,s=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:l,previous:s,matchesCount:this._requestMatchesCount(),rawQuery:this._state?.query??null})}}},(U,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.CharacterType=void 0,b.getCharacterType=function h(r){return function k(r){return r<11904}(r)?function O(r){return 0==(65408&r)}(r)?function i(r){return 32===r||9===r||13===r||10===r}(r)?m.SPACE:function S(r){return r>=97&&r<=122||r>=65&&r<=90}(r)||function w(r){return r>=48&&r<=57}(r)||95===r?m.ALPHA_LETTER:m.PUNCT:function A(r){return 3584==(65408&r)}(r)?m.THAI_LETTER:160===r?m.SPACE:m.ALPHA_LETTER:function n(r){return r>=13312&&r<=40959||r>=63744&&r<=64255}(r)?m.HAN_LETTER:function f(r){return r>=12448&&r<=12543}(r)?m.KATAKANA_LETTER:function E(r){return r>=12352&&r<=12447}(r)?m.HIRAGANA_LETTER:function d(r){return r>=65376&&r<=65439}(r)?m.HALFWIDTH_KATAKANA_LETTER:m.ALPHA_LETTER};const m={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};b.CharacterType=m},(U,b,m)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.PDFHistory=void 0,b.isDestArraysEqual=d,b.isDestHashesEqual=E;var k=m(6),O=m(17);function n(){return document.location.hash}function E(A,h){return"string"==typeof A&&"string"==typeof h&&(A===h||(0,k.parseQueryString)(A).get("nameddest")===h)}function d(A,h){function r(v,C){if(typeof v!=typeof C||Array.isArray(v)||Array.isArray(C))return!1;if(null!==v&&"object"==typeof v&&null!==C){if(Object.keys(v).length!==Object.keys(C).length)return!1;for(const N in v)if(!r(v[N],C[N]))return!1;return!0}return v===C||Number.isNaN(v)&&Number.isNaN(C)}if(!Array.isArray(A)||!Array.isArray(h)||A.length!==h.length)return!1;for(let v=0,C=A.length;v<C;v++)if(!r(A[v],h[v]))return!1;return!0}b.PDFHistory=class f{constructor({linkService:h,eventBus:r}){this.linkService=h,this.eventBus=r,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",v=>{this._isViewerInPresentationMode=v.state!==k.PresentationModeState.NORMAL}),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",v=>{this._isPagesLoaded=!!v.pagesCount},{once:!0})})}initialize({fingerprint:h,resetHistory:r=!1,updateUrl:v=!1}){if(!h||"string"!=typeof h)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const C=""!==this._fingerprint&&this._fingerprint!==h;this._fingerprint=h,this._updateUrl=!0===v,this._initialized=!0,this._bindEvents();const N=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=n(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(N,!0)||r){const{hash:G,page:K,rotation:P}=this._parseCurrentHash(!0);return!G||C||r?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:G,page:K,rotation:P},!0)}const H=N.destination;this._updateInternalState(H,N.uid,!0),void 0!==H.rotation&&(this._initialRotation=H.rotation),H.dest?(this._initialBookmark=JSON.stringify(H.dest),this._destination.page=null):H.hash?this._initialBookmark=H.hash:H.page&&(this._initialBookmark=`page=${H.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:h=null,explicitDest:r,pageNumber:v}){if(!this._initialized)return;if(h&&"string"!=typeof h)return void console.error(`PDFHistory.push: "${h}" is not a valid namedDest parameter.`);if(!Array.isArray(r))return void console.error(`PDFHistory.push: "${r}" is not a valid explicitDest parameter.`);if(!this._isValidPage(v)&&(null!==v||this._destination))return void console.error(`PDFHistory.push: "${v}" is not a valid pageNumber parameter.`);const C=h||JSON.stringify(r);if(!C)return;let N=!1;if(this._destination&&(E(this._destination.hash,C)||d(this._destination.dest,r))){if(this._destination.page)return;N=!0}this._popStateInProgress&&!N||(this._pushOrReplaceState({dest:r,hash:C,page:v,rotation:this.linkService.rotation},N),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(h){if(this._initialized){if(!this._isValidPage(h))return void console.error(`PDFHistory.pushPage: "${h}" is not a valid page number.`);this._destination?.page!==h&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${h}`,page:h,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const h=window.history.state;this._isValidState(h)&&h.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const h=window.history.state;this._isValidState(h)&&h.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(h,r=!1){const v=r||!this._destination,C={fingerprint:this._fingerprint,uid:v?this._uid:this._uid+1,destination:h};let N;if(this._updateInternalState(h,C.uid),this._updateUrl&&h?.hash){const H=document.location.href.split("#")[0];H.startsWith("file://")||(N=`${H}#${h.hash}`)}v?window.history.replaceState(C,"",N):window.history.pushState(C,"",N)}_tryPushCurrentPosition(h=!1){if(!this._position)return;let r=this._position;if(h&&(r=Object.assign(Object.create(null),this._position),r.temporary=!0),!this._destination)return void this._pushOrReplaceState(r);if(this._destination.temporary)return void this._pushOrReplaceState(r,!0);if(this._destination.hash===r.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let v=!1;if(this._destination.page>=r.first&&this._destination.page<=r.page){if(void 0!==this._destination.dest||!this._destination.first)return;v=!0}this._pushOrReplaceState(r,v)}_isValidPage(h){return Number.isInteger(h)&&h>0&&h<=this.linkService.pagesCount}_isValidState(h,r=!1){if(!h)return!1;if(h.fingerprint!==this._fingerprint){if(!r)return!1;{if("string"!=typeof h.fingerprint||h.fingerprint.length!==this._fingerprint.length)return!1;const[v]=performance.getEntriesByType("navigation");if("reload"!==v?.type)return!1}}return!(!Number.isInteger(h.uid)||h.uid<0||null===h.destination||"object"!=typeof h.destination)}_updateInternalState(h,r,v=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),v&&h?.temporary&&delete h.temporary,this._destination=h,this._uid=r,this._maxUid=Math.max(this._maxUid,r),this._numPositionUpdates=0}_parseCurrentHash(h=!1){const r=unescape(n()).substring(1),v=(0,k.parseQueryString)(r),C=v.get("nameddest")||"";let N=0|v.get("page");return(!this._isValidPage(N)||h&&C.length>0)&&(N=null),{hash:r,page:N,rotation:this.linkService.rotation}}_updateViewarea({location:h}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?`page=${h.pageNumber}`:h.pdfOpenParams.substring(1),page:this.linkService.page,first:h.pageNumber,rotation:h.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:h}){const r=n(),v=this._currentHash!==r;if(this._currentHash=r,!h){this._uid++;const{hash:N,page:H,rotation:G}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:N,page:H,rotation:G},!0)}if(!this._isValidState(h))return;this._popStateInProgress=!0,v&&(this._blockHashChange++,(0,O.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const C=h.destination;this._updateInternalState(C,h.uid,!0),(0,k.isValidRotation)(C.rotation)&&(this.linkService.rotation=C.rotation),C.dest?this.linkService.goToDestination(C.dest):C.hash?this.linkService.setHash(C.hash):C.page&&(this.linkService.page=C.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(U,b,m)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.PDFScriptingManager=void 0;var k=m(6),O=m(3);b.PDFScriptingManager=class S{constructor({eventBus:i,sandboxBundleSrc:n=null,scriptingFactory:f=null,docPropertiesLookup:E=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=i,this._sandboxBundleSrc=n,this._scriptingFactory=f,this._docPropertiesLookup=E,this._scriptingFactory||window.addEventListener("updatefromsandbox",d=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:d.detail})})}setViewer(i){this._pdfViewer=i}setDocument(i){var n=this;return _(function*(){if(n._pdfDocument&&(yield n._destroyScripting()),n._pdfDocument=i,!i)return;const[f,E,d]=yield Promise.all([i.getFieldObjects(),i.getCalculationOrderIds(),i.getJSActions()]);if(f||d){if(i===n._pdfDocument){try{n._scripting=n._createScripting()}catch(A){return console.error(`PDFScriptingManager.setDocument: "${A?.message}".`),void(yield n._destroyScripting())}n._internalEvents.set("updatefromsandbox",A=>{A?.source===window&&n._updateFromSandbox(A.detail)}),n._internalEvents.set("dispatcheventinsandbox",A=>{n._scripting?.dispatchEventInSandbox(A.detail)}),n._internalEvents.set("pagechanging",({pageNumber:A,previous:h})=>{A!==h&&(n._dispatchPageClose(h),n._dispatchPageOpen(A))}),n._internalEvents.set("pagerendered",({pageNumber:A})=>{!n._pageOpenPending.has(A)||A===n._pdfViewer.currentPageNumber&&n._dispatchPageOpen(A)}),n._internalEvents.set("pagesdestroy",function(){var A=_(function*(h){yield n._dispatchPageClose(n._pdfViewer.currentPageNumber),yield n._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),n._closeCapability?.resolve()});return function(h){return A.apply(this,arguments)}}()),n._domEvents.set("mousedown",A=>{n._mouseState.isDown=!0}),n._domEvents.set("mouseup",A=>{n._mouseState.isDown=!1});for(const[A,h]of n._internalEvents)n._eventBus._on(A,h);for(const[A,h]of n._domEvents)window.addEventListener(A,h);try{const A=yield n._getDocProperties();if(i!==n._pdfDocument)return;yield n._scripting.createSandbox({objects:f,calculationOrder:E,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...A,actions:d}}),n._eventBus.dispatch("sandboxcreated",{source:n})}catch(A){return console.error(`PDFScriptingManager.setDocument: "${A?.message}".`),void(yield n._destroyScripting())}yield n._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield n._dispatchPageOpen(n._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{i===n._pdfDocument&&(n._ready=!0)})}}else yield n._destroyScripting()})()}dispatchWillSave(i){var n=this;return _(function*(){return n._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(i){var n=this;return _(function*(){return n._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(i){var n=this;return _(function*(){return n._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(i){var n=this;return _(function*(){return n._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,O.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,O.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,O.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,O.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(i){var n=this;return _(function*(){const f=n._pdfViewer.isInPresentationMode||n._pdfViewer.isChangingPresentationMode,{id:E,siblings:d,command:A,value:h}=i;if(!E){switch(A){case"clear":console.clear();break;case"error":console.error(h);break;case"layout":if(f)return;const v=(0,k.apiPageLayoutToViewerModes)(h);n._pdfViewer.spreadMode=v.spreadMode;break;case"page-num":n._pdfViewer.currentPageNumber=h+1;break;case"print":yield n._pdfViewer.pagesPromise,n._eventBus.dispatch("print",{source:n});break;case"println":console.log(h);break;case"zoom":if(f)return;n._pdfViewer.currentScaleValue=h;break;case"SaveAs":n._eventBus.dispatch("save",{source:n});break;case"FirstPage":n._pdfViewer.currentPageNumber=1;break;case"LastPage":n._pdfViewer.currentPageNumber=n._pdfViewer.pagesCount;break;case"NextPage":n._pdfViewer.nextPage();break;case"PrevPage":n._pdfViewer.previousPage();break;case"ZoomViewIn":if(f)return;n._pdfViewer.increaseScale();break;case"ZoomViewOut":if(f)return;n._pdfViewer.decreaseScale()}return}if(f&&i.focus)return;delete i.id,delete i.siblings;const r=d?[E,...d]:[E];for(const v of r){const C=document.getElementById(v);C?C.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:i})):n._pdfDocument?.annotationStorage.setValue(v,i)}})()}_dispatchPageOpen(i,n=!1){var f=this;return _(function*(){const E=f._pdfDocument,d=f._visitedPages;if(n&&(f._closeCapability=(0,O.createPromiseCapability)()),!f._closeCapability)return;const A=f._pdfViewer.getPageView(i-1);if(A?.renderingState!==k.RenderingStates.FINISHED)return void f._pageOpenPending.add(i);f._pageOpenPending.delete(i);const h=_(function*(){const r=yield d.has(i)?null:A.pdfPage?.getJSActions();E===f._pdfDocument&&(yield f._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:i,actions:r}))})();d.set(i,h)})()}_dispatchPageClose(i){var n=this;return _(function*(){const f=n._pdfDocument,E=n._visitedPages;if(!n._closeCapability||n._pageOpenPending.has(i))return;const d=E.get(i);!d||(E.set(i,null),yield d,f===n._pdfDocument&&(yield n._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:i})))})()}_getDocProperties(){var i=this;return _(function*(){if(i._docPropertiesLookup)return i._docPropertiesLookup(i._pdfDocument);const{docPropertiesLookup:n}=m(24);return n(i._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,O.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:i}=m(24);return new i(this._sandboxBundleSrc)}_destroyScripting(){var i=this;return _(function*(){if(!i._scripting)return i._pdfDocument=null,void i._destroyCapability?.resolve();i._closeCapability&&(yield Promise.race([i._closeCapability.promise,new Promise(n=>{setTimeout(n,1e3)})]).catch(n=>{}),i._closeCapability=null),i._pdfDocument=null;try{yield i._scripting.destroySandbox()}catch{}for(const[n,f]of i._internalEvents)i._eventBus._off(n,f);i._internalEvents.clear();for(const[n,f]of i._domEvents)window.removeEventListener(n,f);i._domEvents.clear(),i._pageOpenPending.clear(),i._visitedPages.clear(),i._scripting=null,delete i._mouseState.isDown,i._ready=!1,i._destroyCapability?.resolve()})()}}},(U,b,m)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.GenericScripting=void 0,b.docPropertiesLookup=function O(i){return S.apply(this,arguments)};var k=m(3);function S(){return(S=_(function*(i){const f="".split("#")[0];let{info:E,metadata:d,contentDispositionFilename:A,contentLength:h}=yield i.getMetadata();if(!h){const{length:r}=yield i.getDownloadInfo();h=r}return{...E,baseURL:f,filesize:h,filename:A||(0,k.getPdfFilenameFromUrl)(""),metadata:d?.getRaw(),authors:d?.get("dc:creator"),numPages:i.numPages,URL:""}})).apply(this,arguments)}b.GenericScripting=class w{constructor(n){this._ready=(0,k.loadScript)(n,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(n){var f=this;return _(function*(){(yield f._ready).create(n)})()}dispatchEventInSandbox(n){var f=this;return _(function*(){const E=yield f._ready;setTimeout(()=>E.dispatchEvent(n),0)})()}destroySandbox(){var n=this;return _(function*(){(yield n._ready).nukeSandbox()})()}}}],I={};function j(U){var b=I[U];if(void 0!==b)return b.exports;var m=I[U]={exports:{}};return L[U](m,m.exports,j),m.exports}var B={};return(()=>{var U=B;Object.defineProperty(U,"__esModule",{value:!0}),Object.defineProperty(U,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return S.AnnotationLayerBuilder}}),Object.defineProperty(U,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return b.DefaultAnnotationLayerFactory}}),Object.defineProperty(U,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return b.DefaultStructTreeLayerFactory}}),Object.defineProperty(U,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return b.DefaultTextLayerFactory}}),Object.defineProperty(U,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return b.DefaultXfaLayerFactory}}),Object.defineProperty(U,"DownloadManager",{enumerable:!0,get:function(){return w.DownloadManager}}),Object.defineProperty(U,"EventBus",{enumerable:!0,get:function(){return i.EventBus}}),Object.defineProperty(U,"GenericL10n",{enumerable:!0,get:function(){return n.GenericL10n}}),Object.defineProperty(U,"LinkTarget",{enumerable:!0,get:function(){return m.LinkTarget}}),Object.defineProperty(U,"NullL10n",{enumerable:!0,get:function(){return f.NullL10n}}),Object.defineProperty(U,"PDFFindController",{enumerable:!0,get:function(){return E.PDFFindController}}),Object.defineProperty(U,"PDFHistory",{enumerable:!0,get:function(){return d.PDFHistory}}),Object.defineProperty(U,"PDFLinkService",{enumerable:!0,get:function(){return m.PDFLinkService}}),Object.defineProperty(U,"PDFPageView",{enumerable:!0,get:function(){return A.PDFPageView}}),Object.defineProperty(U,"PDFScriptingManager",{enumerable:!0,get:function(){return h.PDFScriptingManager}}),Object.defineProperty(U,"PDFSinglePageViewer",{enumerable:!0,get:function(){return O.PDFSinglePageViewer}}),Object.defineProperty(U,"PDFViewer",{enumerable:!0,get:function(){return O.PDFViewer}}),Object.defineProperty(U,"ProgressBar",{enumerable:!0,get:function(){return k.ProgressBar}}),Object.defineProperty(U,"SimpleLinkService",{enumerable:!0,get:function(){return m.SimpleLinkService}}),Object.defineProperty(U,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return r.StructTreeLayerBuilder}}),Object.defineProperty(U,"TextLayerBuilder",{enumerable:!0,get:function(){return v.TextLayerBuilder}}),Object.defineProperty(U,"XfaLayerBuilder",{enumerable:!0,get:function(){return C.XfaLayerBuilder}}),Object.defineProperty(U,"parseQueryString",{enumerable:!0,get:function(){return k.parseQueryString}});var b=j(1),m=j(5),k=j(6),O=j(10),S=j(2),w=j(16),i=j(17),n=j(18),f=j(4),E=j(20),d=j(22),A=j(12),h=j(23),r=j(7),v=j(8),C=j(9)})(),B})()},8372:(q,a,F)=>{"use strict";F.d(a,{b:()=>Y});var e=F(4986),T=F(4482),D=F(5403);function Y(V,R=e.z){return(0,T.e)((_,L)=>{let I=null,j=null,B=null;const U=()=>{if(I){I.unsubscribe(),I=null;const m=j;j=null,L.next(m)}};function b(){const m=B+V,k=R.now();if(k<m)return I=this.schedule(void 0,m-k),void L.add(I);U()}_.subscribe((0,D.x)(L,m=>{j=m,B=R.now(),I||(I=R.schedule(b,V),L.add(I))},()=>{U(),L.complete()},void 0,()=>{j=I=null}))})}},8926:q=>{function a(e,T,D,Y,V,R,_){try{var L=e[R](_),I=L.value}catch(j){return void D(j)}L.done?T(I):Promise.resolve(I).then(Y,V)}q.exports=function F(e){return function(){var T=this,D=arguments;return new Promise(function(Y,V){var R=e.apply(T,D);function _(I){a(R,Y,V,_,L,"next",I)}function L(I){a(R,Y,V,_,L,"throw",I)}_(void 0)})}},q.exports.__esModule=!0,q.exports.default=q.exports},6869:q=>{q.exports=function a(F,e){if(e.has(F))throw new TypeError("Cannot initialize the same private elements twice on an object")},q.exports.__esModule=!0,q.exports.default=q.exports},6358:q=>{q.exports=function a(F,e){return e.get?e.get.call(F):e.value},q.exports.__esModule=!0,q.exports.default=q.exports},8625:q=>{q.exports=function a(F,e,T){if(e.set)e.set.call(F,T);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=T}},q.exports.__esModule=!0,q.exports.default=q.exports},4094:q=>{q.exports=function a(F,e){if(F!==e)throw new TypeError("Private static access of wrong provenance")},q.exports.__esModule=!0,q.exports.default=q.exports},3486:q=>{q.exports=function a(F,e,T){if(!e.has(F))throw new TypeError("attempted to "+T+" private field on non-instance");return e.get(F)},q.exports.__esModule=!0,q.exports.default=q.exports},1226:(q,a,F)=>{var e=F(6358),T=F(3486);q.exports=function D(Y,V){var R=T(Y,V,"get");return e(Y,R)},q.exports.__esModule=!0,q.exports.default=q.exports},3606:(q,a,F)=>{var e=F(6869);q.exports=function T(D,Y,V){e(D,Y),Y.set(D,V)},q.exports.__esModule=!0,q.exports.default=q.exports},5962:(q,a,F)=>{var e=F(8625),T=F(3486);q.exports=function D(Y,V,R){var _=T(Y,V,"set");return e(Y,_,R),R},q.exports.__esModule=!0,q.exports.default=q.exports},4877:q=>{q.exports=function a(F,e,T){if(!e.has(F))throw new TypeError("attempted to get private field on non-instance");return T},q.exports.__esModule=!0,q.exports.default=q.exports},3448:(q,a,F)=>{var e=F(6869);q.exports=function T(D,Y){e(D,Y),Y.add(D)},q.exports.__esModule=!0,q.exports.default=q.exports},9393:(q,a,F)=>{var e=F(4094);q.exports=function T(D,Y,V){return e(D,Y),V},q.exports.__esModule=!0,q.exports.default=q.exports},9713:q=>{q.exports=function a(F,e,T){return e in F?Object.defineProperty(F,e,{value:T,enumerable:!0,configurable:!0,writable:!0}):F[e]=T,F},q.exports.__esModule=!0,q.exports.default=q.exports},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},5014:(q,a,F)=>{"use strict";F.d(a,{rQ:()=>E,xC:()=>d});var e=F(8274),T=F(4968),D=F(7579),Y=F(8996),V=F(4482),R=F(5403),_=F(8421),L=F(5032);function I(A){return(0,V.e)((h,r)=>{(0,_.Xf)(A).subscribe((0,R.x)(r,()=>r.complete(),L.Z)),!r.closed&&h.subscribe(r)})}var j=F(8372),B=F(9300),U=F(6036),b=F.t(U,2),m=F(2813),k=F.t(m,2);const O=["pdfViewerContainer"];function S(A,h){const r=new A.EventBus;return function w(A,h){(0,T.R)(A,"documentload").pipe(I(h)).subscribe(()=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(r)}),(0,T.R)(A,"pagerendered").pipe(I(h)).subscribe(({pageNumber:r,cssTransform:v,source:C})=>{const N=document.createEvent("CustomEvent");N.initCustomEvent("pagerendered",!0,!0,{pageNumber:r,cssTransform:v}),C.div.dispatchEvent(N)}),(0,T.R)(A,"textlayerrendered").pipe(I(h)).subscribe(({pageNumber:r,source:v})=>{const C=document.createEvent("CustomEvent");C.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:r}),v.textLayerDiv.dispatchEvent(C)}),(0,T.R)(A,"pagechanging").pipe(I(h)).subscribe(({pageNumber:r,source:v})=>{const C=document.createEvent("UIEvents");C.initEvent("pagechanging",!0,!0),C.pageNumber=r,v.container.dispatchEvent(C)}),(0,T.R)(A,"pagesinit").pipe(I(h)).subscribe(({source:r})=>{const v=document.createEvent("CustomEvent");v.initCustomEvent("pagesinit",!0,!0,null),r.container.dispatchEvent(v)}),(0,T.R)(A,"pagesloaded").pipe(I(h)).subscribe(({pagesCount:r,source:v})=>{const C=document.createEvent("CustomEvent");C.initCustomEvent("pagesloaded",!0,!0,{pagesCount:r}),v.container.dispatchEvent(C)}),(0,T.R)(A,"scalechange").pipe(I(h)).subscribe(({scale:r,presetValue:v,source:C})=>{const N=document.createEvent("UIEvents");N.initEvent("scalechange",!0,!0),N.scale=r,N.presetValue=v,C.container.dispatchEvent(N)}),(0,T.R)(A,"updateviewarea").pipe(I(h)).subscribe(({location:r,source:v})=>{const C=document.createEvent("UIEvents");C.initEvent("updateviewarea",!0,!0),C.location=r,v.container.dispatchEvent(C)}),(0,T.R)(A,"find").pipe(I(h)).subscribe(({source:r,type:v,query:C,phraseSearch:N,caseSensitive:H,highlightAll:G,findPrevious:K})=>{if(r===window)return;const P=document.createEvent("CustomEvent");P.initCustomEvent("find"+v,!0,!0,{query:C,phraseSearch:N,caseSensitive:H,highlightAll:G,findPrevious:K}),window.dispatchEvent(P)}),(0,T.R)(A,"attachmentsloaded").pipe(I(h)).subscribe(({attachmentsCount:r,source:v})=>{const C=document.createEvent("CustomEvent");C.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:r}),v.container.dispatchEvent(C)}),(0,T.R)(A,"sidebarviewchanged").pipe(I(h)).subscribe(({view:r,source:v})=>{const C=document.createEvent("CustomEvent");C.initCustomEvent("sidebarviewchanged",!0,!0,{view:r}),v.outerContainer.dispatchEvent(C)}),(0,T.R)(A,"pagemode").pipe(I(h)).subscribe(({mode:r,source:v})=>{const C=document.createEvent("CustomEvent");C.initCustomEvent("pagemode",!0,!0,{mode:r}),v.pdfViewer.container.dispatchEvent(C)}),(0,T.R)(A,"namedaction").pipe(I(h)).subscribe(({action:r,source:v})=>{const C=document.createEvent("CustomEvent");C.initCustomEvent("namedaction",!0,!0,{action:r}),v.pdfViewer.container.dispatchEvent(C)}),(0,T.R)(A,"presentationmodechanged").pipe(I(h)).subscribe(({active:r,switchInProgress:v})=>{const C=document.createEvent("CustomEvent");C.initCustomEvent("presentationmodechanged",!0,!0,{active:r,switchInProgress:v}),window.dispatchEvent(C)}),(0,T.R)(A,"outlineloaded").pipe(I(h)).subscribe(({outlineCount:r,source:v})=>{const C=document.createEvent("CustomEvent");C.initCustomEvent("outlineloaded",!0,!0,{outlineCount:r}),v.container.dispatchEvent(C)})}(r,h),r}function i(A,h,r){A[h]=r}function n(){return typeof window>"u"}n()||i(b,"verbosity",U.VerbosityLevel.INFOS);var f=(()=>{return(A=f||(f={}))[A.DISABLED=0]="DISABLED",A[A.ENABLED=1]="ENABLED",A[A.ENHANCED=2]="ENHANCED",f;var A})();let E=(()=>{class A{constructor(r,v){if(this.element=r,this.ngZone=v,this.isVisible=!1,this._cMapsUrl=typeof b<"u"?`https://unpkg.com/pdfjs-dist@${U.version}/cmaps/`:null,this._renderText=!0,this._renderTextMode=f.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new D.x,this.afterLoadComplete=new e.vpe,this.pageRendered=new e.vpe,this.pageInitialized=new e.vpe,this.textLayerRendered=new e.vpe,this.onError=new e.vpe,this.onProgress=new e.vpe,this.pageChange=new e.vpe(!0),n())return;let C;C=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${U.version}/legacy/build/pdf.worker.min.js`,i(U.GlobalWorkerOptions,"workerSrc",C)}set cMapsUrl(r){this._cMapsUrl=r}set page(r){const v=r=parseInt(r,10)||1;this._pdf&&(r=this.getValidPageNumber(r)),this._page=r,v!==r&&this.pageChange.emit(r)}set renderText(r){this._renderText=r}set renderTextMode(r){this._renderTextMode=r}set originalSize(r){this._originalSize=r}set showAll(r){this._showAll=r}set stickToPage(r){this._stickToPage=r}set zoom(r){r<=0||(this._zoom=r)}get zoom(){return this._zoom}set zoomScale(r){this._zoomScale=r}get zoomScale(){return this._zoomScale}set rotation(r){"number"==typeof r&&r%90==0?this._rotation=r:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(r){this._externalLinkTarget=r}set autoresize(r){this._canAutoResize=Boolean(r)}set fitToPage(r){this._fitToPage=Boolean(r)}set showBorders(r){this._showBorders=Boolean(r)}static getLinkTarget(r){switch(r){case"blank":return m.LinkTarget.BLANK;case"none":return m.LinkTarget.NONE;case"self":return m.LinkTarget.SELF;case"parent":return m.LinkTarget.PARENT;case"top":return m.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const r=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=r?!1===this.isVisible&&null!=r&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}get pdfLinkService(){return this._showAll?this.pdfMultiPageLinkService:this.pdfSinglePageLinkService}get pdfViewer(){return this.getCurrentViewer()}get pdfFindController(){return this._showAll?this.pdfMultiPageFindController:this.pdfSinglePageFindController}ngOnChanges(r){if(!n()&&this.isVisible)if("src"in r)this.loadPDF();else if(this._pdf){if("renderText"in r?(this.getCurrentViewer().textLayerMode=this._renderText?this._renderTextMode:f.DISABLED,this.resetPdfDocument()):"showAll"in r&&this.resetPdfDocument(),"page"in r){const{page:v}=r;if(v.currentValue===this._latestScrolledPage)return;this.getCurrentViewer().scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){const r=this.getCurrentViewer();(0,Y.D)(this._pdf.getPage(r.currentPageNumber)).pipe(I(this.destroy$)).subscribe({next:v=>{const C=this._rotation||v.rotate,N=v.getViewport({scale:this._zoom,rotation:C}).width*A.CSS_UNITS;let H=this._zoom,G=!0;if(!this._originalSize||this._fitToPage&&N>this.pdfViewerContainer.nativeElement.clientWidth){const K=v.getViewport({scale:1,rotation:C});H=this.getScale(K.width,K.height),G=!this._stickToPage}r._setScale(H,G)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfMultiPageViewer.setDocument(null),this.pdfSinglePageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null,null),this.pdfSinglePageLinkService.setDocument(null,null),this.pdfMultiPageFindController.setDocument(null),this.pdfSinglePageFindController.setDocument(null))}getPDFLinkServiceConfig(){const r={},v=A.getLinkTarget(this._externalLinkTarget);return v&&(r.externalLinkTarget=v),r}setupMultiPageViewer(){i(b,"disableTextLayer",!this._renderText);const r=S(k,this.destroy$);(0,T.R)(r,"pagerendered").pipe(I(this.destroy$)).subscribe(C=>{this.pageRendered.emit(C)}),(0,T.R)(r,"pagesinit").pipe(I(this.destroy$)).subscribe(C=>{this.pageInitialized.emit(C)}),(0,T.R)(r,"pagechanging").pipe(I(this.destroy$)).subscribe(({pageNumber:C})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=C,this.pageChange.emit(C)},100)}),(0,T.R)(r,"textlayerrendered").pipe(I(this.destroy$)).subscribe(C=>{this.textLayerRendered.emit(C)}),this.pdfMultiPageLinkService=new m.PDFLinkService({eventBus:r,...this.getPDFLinkServiceConfig()}),this.pdfMultiPageFindController=new m.PDFFindController({linkService:this.pdfMultiPageLinkService,eventBus:r});const v={eventBus:r,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfMultiPageLinkService,textLayerMode:this._renderText?this._renderTextMode:f.DISABLED,findController:this.pdfMultiPageFindController,renderer:"canvas",l10n:void 0};this.pdfMultiPageViewer=new m.PDFViewer(v),this.pdfMultiPageLinkService.setViewer(this.pdfMultiPageViewer),this.pdfMultiPageFindController.setDocument(this._pdf)}setupSinglePageViewer(){i(b,"disableTextLayer",!this._renderText);const r=S(k,this.destroy$);(0,T.R)(r,"pagechanging").pipe(I(this.destroy$)).subscribe(({pageNumber:C})=>{C!==this._page&&(this.page=C)}),(0,T.R)(r,"pagerendered").pipe(I(this.destroy$)).subscribe(C=>{this.pageRendered.emit(C)}),(0,T.R)(r,"pagesinit").pipe(I(this.destroy$)).subscribe(C=>{this.pageInitialized.emit(C)}),(0,T.R)(r,"textlayerrendered").pipe(I(this.destroy$)).subscribe(C=>{this.textLayerRendered.emit(C)}),this.pdfSinglePageLinkService=new m.PDFLinkService({eventBus:r,...this.getPDFLinkServiceConfig()}),this.pdfSinglePageFindController=new m.PDFFindController({linkService:this.pdfSinglePageLinkService,eventBus:r});const v={eventBus:r,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfSinglePageLinkService,textLayerMode:this._renderText?this._renderTextMode:f.DISABLED,findController:this.pdfSinglePageFindController,renderer:"canvas",l10n:void 0};this.pdfSinglePageViewer=new m.PDFSinglePageViewer(v),this.pdfSinglePageLinkService.setViewer(this.pdfSinglePageViewer),this.pdfSinglePageFindController.setDocument(this._pdf),this.pdfSinglePageViewer._currentPageNumber=this._page}getValidPageNumber(r){return r<1?1:r>this._pdf.numPages?this._pdf.numPages:r}getDocumentParams(){const r=typeof this.src;if(!this._cMapsUrl)return this.src;const v={cMapUrl:this._cMapsUrl,cMapPacked:!0};return"string"===r?v.url=this.src:"object"===r&&(void 0!==this.src.byteLength?v.data=this.src:Object.assign(v,this.src)),v}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.loadingTask=U.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=v=>{this.onProgress.emit(v)};const r=this.src;(0,Y.D)(this.loadingTask.promise).pipe(I(this.destroy$)).subscribe({next:v=>{this._pdf=v,this.lastLoaded=r,this.afterLoadComplete.emit(v),this.pdfMultiPageViewer||(this.setupMultiPageViewer(),this.setupSinglePageViewer()),this.resetPdfDocument(),this.update()},error:v=>{this.lastLoaded=null,this.onError.emit(v)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page);const r=this.getCurrentViewer();(0!==this._rotation||r.pagesRotation!==this._rotation)&&setTimeout(()=>{r.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{r.currentPageNumber=this._page}),this.updateSize()}getScale(r,v){const C=this._showBorders?2*A.BORDER_WIDTH:0,N=this.pdfViewerContainer.nativeElement.clientWidth-C,H=this.pdfViewerContainer.nativeElement.clientHeight-C;if(0===H||0===v||0===N||0===r)return 1;let G=1;switch(this._zoomScale){case"page-fit":G=Math.min(H/v,N/r);break;case"page-height":G=H/v;break;default:G=N/r}return this._zoom*G/A.CSS_UNITS}getCurrentViewer(){return this._showAll?this.pdfMultiPageViewer:this.pdfSinglePageViewer}resetPdfDocument(){this.pdfFindController.setDocument(this._pdf),this._showAll?(this.pdfSinglePageViewer.setDocument(null),this.pdfSinglePageLinkService.setDocument(null),this.pdfMultiPageViewer.setDocument(this._pdf),this.pdfMultiPageLinkService.setDocument(this._pdf,null)):(this.pdfMultiPageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null),this.pdfSinglePageViewer.setDocument(this._pdf),this.pdfSinglePageLinkService.setDocument(this._pdf,null))}initialize(){n()||!this.isVisible||(this.isInitialized=!0,this.setupMultiPageViewer(),this.setupSinglePageViewer())}setupResizeListener(){n()||this.ngZone.runOutsideAngular(()=>{(0,T.R)(window,"resize").pipe((0,j.b)(100),(0,B.h)(()=>this._canAutoResize&&!!this._pdf),I(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return A.CSS_UNITS=96/72,A.BORDER_WIDTH=9,A.\u0275fac=function(r){return new(r||A)(e.Y36(e.SBq),e.Y36(e.R0b))},A.\u0275cmp=e.Xpm({type:A,selectors:[["pdf-viewer"]],viewQuery:function(r,v){if(1&r&&e.Gf(O,5),2&r){let C;e.iGM(C=e.CRH())&&(v.pdfViewerContainer=C.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[e.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(r,v){1&r&&(e.TgZ(0,"div",0,1),e._UZ(2,"div",2),e.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=)}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),A})(),d=(()=>{class A{}return A.\u0275fac=function(r){return new(r||A)},A.\u0275mod=e.oAB({type:A}),A.\u0275inj=e.cJS({}),A})()}}]);