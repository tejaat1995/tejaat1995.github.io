{"version":3,"file":"src_app_pages_payment_payment_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACc;AAEV;AAE7C,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,sDAAW;KACvB;CACF,CAAC;IAMW,wBAAwB,SAAxB,wBAAwB;CAAG;AAA3B,wBAAwB;IAJpC,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,wBAAwB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;AChBI;AACM;AACF;AAEA;AAEuB;AAEvB;IAWhC,iBAAiB,SAAjB,iBAAiB;CAAG;AAApB,iBAAiB;IAT7B,uDAAQ,CAAC;QACR,OAAO,EAAE;YACP,yDAAY;YACZ,uDAAW;YACX,uDAAW;YACX,6EAAwB;SACzB;QACD,YAAY,EAAE,CAAC,sDAAW,CAAC;KAC5B,CAAC;GACW,iBAAiB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnB9B;;AACA;;AACA;AAEA;AAEA;AACA;AACA;AACA;IAOaM,WAAW,SAAXA,WAAW;EAGtBC,YACUC,WADV,EAEUC,YAFV,EAGUC,cAHV,EAIUC,WAJV,EAKUC,aALV,EAKsC;IAJ5B;IACA;IACA;IACA;IACA;EAET;;EAEDC,QAAQ,IACP;;EAEDC,OAAO;IACLC,SAAS,CAACC,SAAV,CAAoBC,SAApB,CAA8B,KAAKC,WAAnC;EACD;;EAEKC,YAAY,CAACC,KAAD,EAAW;IAAA;;IAAA;MAC3B,MAAMC,YAAY,GAAQD,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAA1B;MACA,MAAMC,OAAO,SAAS,KAAI,CAACb,WAAL,CAAiBc,MAAjB,CAAwB;QAAEC,OAAO,EAAE;MAAX,CAAxB,CAAtB;MACAF,OAAO,CAACG,OAAR;MACA,MAAMC,MAAM,SAAc,KAAI,CAAClB,cAAL,CAAoBmB,iBAApB,CAAsC;QAAEC,IAAI,EAAET,YAAR;QAAsBU,IAAI,EAAEV,YAAY,CAACU;MAAzC,CAAtC,CAA1B;;MACA,IAAIH,MAAM,IAAIA,MAAM,CAACI,QAArB,EAA+B;QAC7B,KAAI,CAACd,WAAL,GAAmBU,MAAM,CAACI,QAA1B;QACA,MAAM,KAAI,CAACxB,WAAL,CAAiByB,WAAjB,CAA6B;UAAEC,UAAU,EAAEN,MAAM,CAACI,QAArB;UAA+BG,EAAE,EAAEC,YAAY,CAACC,OAAb,CAAqB,UAArB,KAAoC;QAAvE,CAA7B,EAA0GC,IAA1G,CAAgHC,IAAD,IAAc;UACjI,KAAI,CAAC3B,aAAL,CAAmB4B,YAAnB,CAAgC,6BAAhC,EAA+D,SAA/D;QACD,CAFK,EAEHC,GAAG,IAAG;UACPC,OAAO,CAACC,KAAR,CAAc,oCAAd,EAAoDF,GAApD;;UACA,KAAI,CAAC7B,aAAL,CAAmB4B,YAAnB,CAAgC,wBAAhC,EAA0D,QAA1D;QACD,CALK,CAAN;QAMAhB,OAAO,CAACoB,OAAR;MACD,CATD,MASO;QACLF,OAAO,CAACC,KAAR,CAAc,yCAAd,EAAyDf,MAAzD;QACAJ,OAAO,CAACoB,OAAR;MACD;IAjB0B;EAkB5B;;AArCqB;;;QATfzC,2EAAWA;;QACXC,8EAAYA;;QACZC,oFAAcA;;QALdJ,6DAAiBA;;QAEjBC,iFAAaA;;;AAUTI,WAAW,sDALvBN,wDAAS,CAAC;EACT6C,QAAQ,EAAE,aADD;EAETC,UAAAA,0DAFS;;AAAA,CAAD,CAKc,GAAXxC,WAAW,CAAX","sources":["./src/app/pages/payment/payment-routing.module.ts","./src/app/pages/payment/payment.module.ts","./src/app/pages/payment/payment.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PaymentPage } from './payment.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PaymentPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PaymentPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PaymentPageRoutingModule } from './payment-routing.module';\n\nimport { PaymentPage } from './payment.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PaymentPageRoutingModule\n  ],\n  declarations: [PaymentPage]\n})\nexport class PaymentPageModule {}\n","/* eslint-disable @typescript-eslint/naming-convention */\n/* eslint-disable max-len */\nimport { Component, OnInit } from '@angular/core';\nimport { DocumentReference, DocumentData } from '@angular/fire/firestore';\nimport { LoadingController } from '@ionic/angular';\nimport { Order } from 'src/app/models/course.interface';\nimport { CommonService } from 'src/app/services/common/common.service';\nimport { DataService } from 'src/app/services/data/data.service';\nimport { StateService } from 'src/app/services/state/state.service';\nimport { StorageService } from 'src/app/services/storage/storage.service';\n\n@Component({\n  selector: 'app-payment',\n  templateUrl: './payment.page.html',\n  styleUrls: ['./payment.page.scss'],\n})\nexport class PaymentPage implements OnInit {\n\n  uploadedURL: string;\n  constructor(\n    private dataService: DataService,\n    private stateService: StateService,\n    private storageService: StorageService,\n    private loadingCtrl: LoadingController,\n    private commonService: CommonService\n  ) {\n  }\n\n  ngOnInit() {\n  }\n\n  copyURL() {\n    navigator.clipboard.writeText(this.uploadedURL);\n  }\n\n  async fileSelected(event: any) {\n    const selectedFile: any = event.target.files[0];\n    const loading = await this.loadingCtrl.create({ message: 'Uploading payment info' });\n    loading.present();\n    const upload: any = await this.storageService.pushFileToStorage({ file: selectedFile, name: selectedFile.name });\n    if (upload && upload.file_url) {\n      this.uploadedURL = upload.file_url;\n      await this.dataService.updateOrder({ payment_id: upload.file_url, id: localStorage.getItem('order_id') || '' }).then((resp: any) => {\n        this.commonService.presentToast('Updated the payment status.', 'primary');\n      }, err => {\n        console.error('Error while adding the test:::::\\n', err);\n        this.commonService.presentToast('Unable to update order', 'danger');\n      });\n      loading.dismiss();\n    } else {\n      console.error('Error while uploading file:::::::::::\\n', upload);\n      loading.dismiss();\n    }\n  }\n}\n"],"names":["Component","LoadingController","CommonService","DataService","StateService","StorageService","PaymentPage","constructor","dataService","stateService","storageService","loadingCtrl","commonService","ngOnInit","copyURL","navigator","clipboard","writeText","uploadedURL","fileSelected","event","selectedFile","target","files","loading","create","message","present","upload","pushFileToStorage","file","name","file_url","updateOrder","payment_id","id","localStorage","getItem","then","resp","presentToast","err","console","error","dismiss","selector","template"],"sourceRoot":"webpack:///"}