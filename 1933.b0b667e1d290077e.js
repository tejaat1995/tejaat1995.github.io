"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1933],{1933:(rt,O,c)=>{c.r(O),c.d(O,{PurchasedTestPageModule:()=>st});var _=c(6895),x=c(433),a=c(2346),C=c(1619),b=c(5861),F=c(4327),R=c(7423),w=(()=>{return(i=w||(w={})).Documents="DOCUMENTS",i.Data="DATA",i.Library="LIBRARY",i.Cache="CACHE",i.External="EXTERNAL",i.ExternalStorage="EXTERNAL_STORAGE",w;var i})();const k=(0,R.fo)("Filesystem",{web:()=>c.e(6364).then(c.bind(c,6364)).then(i=>new i.FilesystemWeb)});var E=c(6176),e=c(8274),L=c(9754);let z=(()=>{class i{constructor(t,n,o){this.viewCtrl=t,this.navParams=n,this.screenOrientation=o,this.file=null,this.file=this.navParams.get("file"),console.log("file::::::::",this.file)}ngOnInit(){}ionViewWillEnter(){this.screenOrientation.lock(this.screenOrientation.ORIENTATIONS.LANDSCAPE)}dismiss(){this.viewCtrl.dismiss(),this.screenOrientation.lock(this.screenOrientation.ORIENTATIONS.PORTRAIT)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.IN),e.Y36(a.X1),e.Y36(L.E))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-video-player"]],decls:11,vars:2,consts:[["color","dark"],[1,"dark"],["slot","end"],[3,"click"],["name","close","slot","icon-only","color","white"],[1,"size-12"],[1,"h-100","w-100"],["controls","","autoplay","",1,"h-100","w-100"],["type","video/mp4",3,"src"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-content",0)(1,"ion-header",1)(2,"ion-toolbar",1)(3,"ion-buttons",2)(4,"ion-button",3),e.NdJ("click",function(){return n.dismiss()}),e._UZ(5,"ion-icon",4),e.qZA()(),e.TgZ(6,"ion-title",5),e._uU(7),e.qZA()()(),e.TgZ(8,"div",6)(9,"video",7),e._UZ(10,"source",8),e.qZA()()()),2&t&&(e.xp6(7),e.Oqu(n.file.name||"Video"),e.xp6(3),e.Q6J("src",n.file.file_url,e.LSH))},dependencies:[a.YG,a.Sm,a.W2,a.Gu,a.gu,a.sr,a.wd]}),i})();var Z=c(744),D=c(529),H=c(9244),G=c(6857),B=c(6578),j=c(9763),W=c(655),A=c(3228),N=function(i){function s(){return null!==i&&i.apply(this,arguments)||this}return(0,W.ZT)(s,i),s.prototype.play=function(t,n){return(0,A.DM)(this,"play",{},arguments)},s.prototype.close=function(){return(0,A.DM)(this,"close",{sync:!0},arguments)},s.pluginName="VideoPlayer",s.plugin="https://github.com/moust/cordova-plugin-videoplayer.git",s.pluginRef="VideoPlayer",s.repo="https://github.com/moust/cordova-plugin-videoplayer",s.platforms=["Android"],s.\u0275fac=function(){var t;return function(o){return(t||(t=e.n5z(s)))(o||s)}}(),s.\u0275prov=e.Yz7({token:s,factory:function(t){return s.\u0275fac(t)}}),s}(A.On),Q=c(5014);function K(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"ion-buttons",18)(1,"ion-button",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.zoomIn())}),e._UZ(2,"ion-icon",19),e.qZA(),e.TgZ(3,"ion-button",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.zoomOut())}),e._UZ(4,"ion-icon",20),e.qZA()()}}function $(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",10)(1,"ion-toolbar",11)(2,"ion-title",12),e._uU(3),e.qZA(),e.TgZ(4,"ion-buttons",13)(5,"ion-button",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.downloadPdf())}),e._UZ(6,"ion-icon",15),e.qZA()()(),e.TgZ(7,"pdf-viewer",16),e.NdJ("page",function(){return 0})("page-rendered",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.pageRendered(o))}),e.qZA(),e.YNc(8,K,5,0,"ion-buttons",17),e.qZA()}if(2&i){const t=e.oxw();e.xp6(3),e.hij(" ",(null==t.schedule?null:t.schedule.name)||"Schedule Name"," "),e.xp6(4),e.Q6J("src",null==t.schedule?null:t.schedule.file_url)("zoom",t.zoom)("render-text",!0)("original-size",!1),e.xp6(1),e.Q6J("ngIf",null!=t.schedule)}}function X(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",21)(1,"ion-row")(2,"ion-col",22)(3,"ion-card",23),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.downloadQuestionPaper())}),e._UZ(4,"ion-ripple-effect")(5,"ion-icon",24),e.TgZ(6,"p",25),e._uU(7,"Download Question Paper"),e.qZA()()(),e.TgZ(8,"ion-col",22)(9,"ion-card",26),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(15);return e.KtG(o.click())}),e._UZ(10,"ion-ripple-effect")(11,"ion-icon",27),e.TgZ(12,"p",25),e._uU(13,"Upload Answer sheet"),e.qZA()(),e.TgZ(14,"input",28,29),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.uploadAnswerSheet(o))}),e.qZA()(),e.TgZ(16,"ion-col",22)(17,"ion-card",23),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.downloadValuesAnswerSheet())}),e._UZ(18,"ion-ripple-effect")(19,"ion-icon",24),e.TgZ(20,"p",25),e._uU(21,"Download Valued Answer sheet"),e.qZA()()(),e.TgZ(22,"ion-col",30)(23,"ion-card",31)(24,"ion-card-header",32),e._uU(25," Marks "),e.qZA(),e.TgZ(26,"ion-grid",33)(27,"ion-row",33)(28,"ion-col",34)(29,"ion-text",35)(30,"p",36),e._uU(31,"Objectivce Part"),e.qZA()(),e.TgZ(32,"p"),e._uU(33),e.qZA()(),e.TgZ(34,"ion-col",34)(35,"ion-text",35)(36,"p",36),e._uU(37,"Descriptive Part"),e.qZA()(),e.TgZ(38,"p"),e._uU(39),e.qZA()(),e.TgZ(40,"ion-col",34)(41,"ion-text",35)(42,"p",36),e._uU(43,"Weightage Marks"),e.qZA()(),e.TgZ(44,"p"),e._uU(45),e.qZA()(),e.TgZ(46,"ion-col",34)(47,"ion-text",35)(48,"p",36),e._uU(49,"Predicted Marks"),e.qZA()(),e.TgZ(50,"p"),e._uU(51),e.qZA()()()()()(),e.TgZ(52,"ion-col",30)(53,"ion-card",37)(54,"ion-card-header",32),e._uU(55," Evaluator's Remarks "),e.qZA(),e.TgZ(56,"ion-card-content"),e._UZ(57,"div",38),e.qZA()()()()()}if(2&i){const t=e.oxw();e.xp6(33),e.Oqu((null==t.remarks?null:t.remarks.objectivce_part)||"Not Available"),e.xp6(6),e.Oqu((null==t.remarks?null:t.remarks.description_part)||"Not Available"),e.xp6(6),e.Oqu((null==t.remarks?null:t.remarks.weightage_marks)||"Not Available"),e.xp6(6),e.Oqu((null==t.remarks?null:t.remarks.predicted_marks)||"Not Available"),e.xp6(6),e.Q6J("innerHTML",null==t.remarks?null:t.remarks.remarks,e.oJD)}}function ee(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"ion-col",42)(1,"ion-card",43),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.playVideo(r))}),e.TgZ(2,"div",44),e._UZ(3,"ion-icon",45),e.qZA(),e.TgZ(4,"div",46)(5,"ion-text"),e._uU(6),e.qZA()()()()}if(2&i){const t=s.$implicit;e.xp6(6),e.hij(" ",t.name," ")}}function te(i,s){if(1&i&&(e.TgZ(0,"div")(1,"ion-list",39)(2,"ion-row",40),e.YNc(3,ee,7,1,"ion-col",41),e.qZA()()()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",null==t.test?null:t.test.file_urls)}}function ie(i,s){if(1&i&&e._UZ(0,"img",58),2&i){const t=e.oxw().$implicit;e.Q6J("src",t.file_url,e.LSH)}}function ne(i,s){1&i&&e._UZ(0,"ion-icon",59)}function oe(i,s){1&i&&e._UZ(0,"ion-icon",45)}function se(i,s){1&i&&e._UZ(0,"ion-icon",49)}function re(i,s){1&i&&e._UZ(0,"ion-icon",49)}function le(i,s){1&i&&e._UZ(0,"ion-icon",49)}function ae(i,s){1&i&&e._UZ(0,"ion-icon",49)}function ce(i,s){1&i&&e._UZ(0,"ion-icon",49)}function de(i,s){1&i&&e._UZ(0,"ion-icon",49)}function ue(i,s){1&i&&e._UZ(0,"ion-icon",49)}function he(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"ion-item",0)(1,"ion-avatar",50),e.YNc(2,ie,1,1,"img",51),e.YNc(3,ne,1,0,"ion-icon",52),e.YNc(4,oe,1,0,"ion-icon",53),e.YNc(5,se,1,0,"ion-icon",54),e.YNc(6,re,1,0,"ion-icon",54),e.YNc(7,le,1,0,"ion-icon",54),e.YNc(8,ae,1,0,"ion-icon",54),e.YNc(9,ce,1,0,"ion-icon",54),e.YNc(10,de,1,0,"ion-icon",54),e.YNc(11,ue,1,0,"ion-icon",54),e.qZA(),e.TgZ(12,"ion-label",55)(13,"h2"),e._uU(14),e.qZA(),e.TgZ(15,"p"),e._uU(16),e.qZA(),e.TgZ(17,"input",56,29),e.NdJ("change",function(o){const l=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.uploadReview(o,l))}),e.qZA(),e.TgZ(19,"ion-button",57),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.download(r))}),e._uU(20," Download Answer "),e.qZA(),e.TgZ(21,"ion-button",57),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(18);return e.KtG(o.click())}),e._uU(22," Upload Review "),e.qZA()()()}if(2&i){const t=s.$implicit;e.xp6(2),e.Q6J("ngIf","image"===t.type),e.xp6(1),e.Q6J("ngIf","audio"===t.type),e.xp6(1),e.Q6J("ngIf","video"===t.type),e.xp6(1),e.Q6J("ngIf","pdf"===t.type),e.xp6(1),e.Q6J("ngIf","txt"===t.type),e.xp6(1),e.Q6J("ngIf","docx"===t.type),e.xp6(1),e.Q6J("ngIf","xd"===t.type),e.xp6(1),e.Q6J("ngIf","xlsx"===t.type),e.xp6(1),e.Q6J("ngIf","ppt"===t.type),e.xp6(1),e.Q6J("ngIf","archive"===t.type),e.xp6(3),e.hij(" ",t.student_name," "),e.xp6(2),e.Oqu(t.name)}}function me(i,s){if(1&i&&(e.TgZ(0,"div")(1,"ion-list")(2,"ion-item-sliding"),e.YNc(3,he,23,12,"ion-item",47),e.TgZ(4,"ion-item-options",48)(5,"ion-item-option"),e._UZ(6,"ion-icon",49),e.qZA()()()()()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",null==t.test?null:t.test.answers)}}function fe(i,s){if(1&i&&e._UZ(0,"img",58),2&i){const t=e.oxw().$implicit;e.Q6J("src",t.file_url,e.LSH)}}function pe(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",59)(2,"ion-icon",60),e.qZA())}function ge(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",45),e.qZA())}function _e(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",49),e.qZA())}function ve(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",49),e.qZA())}function Te(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",49),e.qZA())}function ye(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",49),e.qZA())}function be(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",49),e.qZA())}function xe(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",49),e.qZA())}function Pe(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",49),e.qZA())}function Ce(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"ion-col",42)(1,"ion-card",43),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.download(r))}),e.TgZ(2,"div",44),e.YNc(3,fe,1,1,"img",51),e.YNc(4,pe,3,0,"div",9),e.YNc(5,ge,2,0,"div",9),e.YNc(6,_e,2,0,"div",9),e.YNc(7,ve,2,0,"div",9),e.YNc(8,Te,2,0,"div",9),e.YNc(9,ye,2,0,"div",9),e.YNc(10,be,2,0,"div",9),e.YNc(11,xe,2,0,"div",9),e.YNc(12,Pe,2,0,"div",9),e.qZA(),e.TgZ(13,"div",46)(14,"ion-text"),e._uU(15),e.qZA()()()()}if(2&i){const t=s.$implicit;e.xp6(3),e.Q6J("ngIf","image"===t.type),e.xp6(1),e.Q6J("ngIf","audio"===t.type),e.xp6(1),e.Q6J("ngIf","video"===t.type),e.xp6(1),e.Q6J("ngIf","pdf"===t.type),e.xp6(1),e.Q6J("ngIf","txt"===t.type),e.xp6(1),e.Q6J("ngIf","docx"===t.type),e.xp6(1),e.Q6J("ngIf","xd"===t.type),e.xp6(1),e.Q6J("ngIf","xlsx"===t.type),e.xp6(1),e.Q6J("ngIf","ppt"===t.type),e.xp6(1),e.Q6J("ngIf","archive"===t.type),e.xp6(3),e.hij(" ",t.name," ")}}function we(i,s){if(1&i&&(e.TgZ(0,"div")(1,"ion-list",39)(2,"ion-row",40),e.YNc(3,Ce,16,11,"ion-col",41),e.qZA()()()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",null==t.test?null:t.test.reviews)}}function Ee(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"ion-footer")(1,"ion-toolbar",0)(2,"input",28,29),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.fileSelected(o))}),e.qZA(),e.TgZ(4,"ion-button",61),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(3);return e.KtG(o.click())}),e.TgZ(5,"span",62),e._uU(6,"Upload Review"),e.qZA()()()()}}const Ze=[{path:"",component:(()=>{class i{constructor(t,n,o,r,l,d,p,g,f,h,m){this.cd=t,this.http=n,this.dataService=o,this.stateService=r,this.storageService=l,this.loadingCtrl=d,this.commonService=p,this.videoPlayer=g,this.platform=f,this.modalController=h,this.downloader=m,this.test=null,this.remarks=null,this.segment="question-papers",this.schedule=null,this.answerSheet=null,this.valuedAnswerSheet=null,this.questionPaper=null,this.isAudioPlaying=!0,this.zoom=1,this.downloadProgress=0,this.converBlobToBase64=u=>new Promise((T,y)=>{const v=new FileReader;v.onerror=y,v.onload=()=>{T(v.result)},v.readAsDataURL(u)}),this.courseId=this.stateService.getData("course")?.id,this.testId=this.stateService.getData("test")?.id,this.dataService.getTestById(this.testId).subscribe(u=>{this.test=u,this.cd.detectChanges()}),this.dataService.getAnswerSheetByTestId(this.testId).subscribe(u=>{this.answerSheet=u[0],this.cd.detectChanges()}),this.dataService.getQuestionPaperByTestId(this.testId).subscribe(u=>{this.questionPaper=u[0],this.zoom="question-papers"===this.segment?1:this.zoom,this.cd.detectChanges()}),this.dataService.getStudentById(localStorage.getItem("student_id")||"").subscribe(u=>{this.student=u,localStorage.setItem("student",JSON.stringify(this.student)),this.cd.detectChanges()}),this.dataService.getRemarksByTestId(this.testId,localStorage.getItem("student_id")).subscribe(u=>{this.remarks=u[0],console.log(this.remarks),this.cd.detectChanges()}),this.dataService.getValuedAnswerSheetByTestId(this.testId,localStorage.getItem("student_id")).subscribe(u=>{this.valuedAnswerSheet=u[0],this.cd.detectChanges()})}ngOnInit(){}segmentChanged(t){console.log(t)}playAudio(t){console.log(this.audio.canPlayType),this.audio=new Audio(t)}playVideo(t){var n=this;return(0,b.Z)(function*(){console.log("video file:::::::::",t),(yield n.modalController.create({component:z,componentProps:{file:t},cssClass:"video-modal",backdropDismiss:!1})).present()})()}download(t){F(t.file_url,t.name)}uploadAnswerSheet(t){var n=this;return(0,b.Z)(function*(){const o=t.target.files[0],r=yield n.loadingCtrl.create({message:"Uploading Answer Sheet"});r.present();try{const l={file:o,name:n.courseId+"_G_"+n.testId+"_G_"+o.name,test_id:n.testId},d=yield n.storageService.uploadAnswer(l,`uploads/answer_sheets/${l.name}`);if(d&&d.file_url){const p={file_url:d.file_url,type:n.commonService.getExtension(o.name),name:o.name,test_id:n.testId,student_id:n.student.id,student_name:n.student.first_name+" "+n.student.last_name};n.commonService.isValidData(n.answerSheet?.id)&&(p.id=n.answerSheet.id),n.dataService.update(Z.M.ANSWER_SHEET,p).then(g=>{n.dataService.add(Z.M.NOTIFICATIONS,{title:"Answer sheet updated",description:n.student.first_name+" "+n.student.last_name+" updated the answer sheet.",test_id:n.testId,studen_id:n.student.id,student_name:n.student.first_name+" "+n.student.last_name,status:"unread"}).then(h=>{},h=>{console.error("Error while adding notification:::::::::::\n",d)}),r.dismiss()},g=>{r.dismiss(),console.error("Error while uploading answer sheet:::::::::::\n",{...g}),("not-found"===g.code||"invalid-argument"===g.code)&&n.dataService.add(Z.M.ANSWER_SHEET,p).then(f=>{n.dataService.add(Z.M.NOTIFICATIONS,{title:"Answer sheet uploaded",description:n.student.first_name+" "+n.student.last_name+" submitted the answer sheet.",test_id:n.testId,studen_id:n.student.id,student_name:n.student.first_name+" "+n.student.last_name,status:"unread"}).then(m=>{},m=>{console.error("Error while adding notification:::::::::::\n",d)}),n.dataService.getAnswerSheetByTestId(n.testId).subscribe(m=>{n.answerSheet=m[0]})},f=>{console.error("Error while adding answer sheet:::::::::::\n",f)})})}else console.error("Error while uploading answer sheet:::::::::::\n",d),r.dismiss()}catch(l){console.error("Exception while uploading answer sheet:::::::::::\n",l,{...l}),r.dismiss()}})()}uploadReview(t,n){}fileSelected(t){var n=this;return(0,b.Z)(function*(){const o=t.target.files[0],r=yield n.loadingCtrl.create({message:"Uploading document"});r.present();const l={file:o,name:n.courseId+"_G_"+n.testId+"_G_"+o.name,test_id:n.testId},d=yield n.storageService.pushFileToStorage(l);d&&d.file_url?(n.test.file_urls&&n.test.file_urls.length>0?n.test.file_urls.push({file_url:d.file_url,type:n.commonService.getExtension(o.name),name:o.name}):n.test.file_urls=[{file_url:d.file_url,type:n.commonService.getExtension(o.name),name:o.name}],yield n.dataService.updateTest(n.test),r.dismiss()):(console.error("Error while uploading file:::::::::::\n",d),r.dismiss())})()}downloadQuestionPaper(){var t=this;return(0,b.Z)(function*(){const n=yield t.loadingCtrl.create({message:"Downloading question paper"});if(n.present(),t.platform.is("android")&&t.platform.is("ios")&&t.platform.is("iphone")&&t.platform.is("cordova"))t.downloader.download({uri:t.questionPaper.file_url,title:t.questionPaper.name,description:"",mimeType:"",visibleInDownloadsUi:!0,notificationVisibility:E.J.VisibleNotifyCompleted,destinationInExternalFilesDir:{dirType:"Download",subPath:t.questionPaper.name}}).then(r=>{console.log("File downloaded at::::::::\n"+r),n.dismiss()},r=>{n.dismiss(),console.error("Error while downloading pdf:::::::",r)});else try{t.download(t.questionPaper),n.dismiss()}catch(o){console.error("Error while downloading the question paper:::::::::::::\n",o),n.dismiss()}})()}downloadValuesAnswerSheet(){var t=this;return(0,b.Z)(function*(){const n=yield t.loadingCtrl.create({message:"Downloading question paper"});if(n.present(),t.platform.is("android")&&t.platform.is("ios")&&t.platform.is("iphone")&&t.platform.is("cordova"))t.downloader.download({uri:t.valuedAnswerSheet.file_url,title:t.valuedAnswerSheet.name,description:"",mimeType:"",visibleInDownloadsUi:!0,notificationVisibility:E.J.VisibleNotifyCompleted,destinationInExternalFilesDir:{dirType:"Download",subPath:t.valuedAnswerSheet.name}}).then(r=>{console.log("File downloaded at:"+r),n.dismiss()},r=>{console.error("Error while downloading pdf:::::::",r),n.dismiss()});else try{t.download(t.valuedAnswerSheet),n.dismiss()}catch(o){console.error("Error while downloading the question paper:::::::::::::\n",o),n.dismiss()}})()}saveFile(t){k.writeFile({path:"name",data:t,directory:w.Documents}).then(n=>{this.commonService.presentToast(" downloaded.")},n=>{console.error("Error while saving the file:::::::\n",n)})}pageRendered(t){}zoomIn(){this.zoom=0===this.zoom?1:this.zoom+1}zoomOut(){this.zoom=this.zoom-1,0===this.zoom&&(this.zoom=1)}downloadPdf(){this.downloader.download({uri:this.schedule.file_url,title:this.schedule.name,description:"",mimeType:"",visibleInDownloadsUi:!0,notificationVisibility:E.J.VisibleNotifyCompleted,destinationInExternalFilesDir:{dirType:"Download",subPath:this.schedule.name}}).then(n=>{console.log("File downloaded at:"+n)},n=>{console.error("Error while downloading pdf:::::::",n)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.sBO),e.Y36(D.eN),e.Y36(H.D),e.Y36(G.b),e.Y36(B.V),e.Y36(a.HT),e.Y36(j.v),e.Y36(N),e.Y36(a.t4),e.Y36(a.IN),e.Y36(E.a))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-purchased-test"]],decls:24,vars:8,consts:[["color","white"],["slot","start"],["icon","chevron-back-outline","defaultHref","purchased-tests"],["color","medium","mode","md","scrollable","",3,"ngModel","ngModelChange"],["value","question-papers"],["value","summary-of-concepts"],["value","test-results"],["class","w-100 h-100 position-relative",4,"ngIf"],["class","w-100 h-100 p-3",4,"ngIf"],[4,"ngIf"],[1,"w-100","h-100","position-relative"],["color","light"],[1,"size-14","fw-bold","m-0","p-3","ion-border"],["slot","end"],[3,"click"],["name","download-outline","slot","icon-only","color","dark"],[1,"d-block","w-100",2,"height","calc(100% - 53px)","background","var(--ion-color-medium)",3,"src","zoom","render-text","original-size","page","page-rendered"],["class","position-absolute zoom-btns rounded-pill shadow",4,"ngIf"],[1,"position-absolute","zoom-btns","rounded-pill","shadow"],["slot","icon-only","color","dark","name","add-circle-outline",1,"size-48"],["slot","icon-only","color","dark","name","remove-circle-outline",1,"size-48"],[1,"w-100","h-100","p-3"],["size","6","size-lg","4","size-xl","3"],["mode","ios",1,"p-3","m-0","h-100","ion-activatable",3,"click"],["color","tertiary","name","cloud-download-outline",1,"size-32"],[1,"size-16","fw-medium","m-0","mt-3"],["mode","ios","for","fileInput",1,"p-3","m-0","h-100","ion-activatable",3,"click"],["color","tertiary","name","cloud-upload-outline",1,"size-32"],["type","file","id","fileInput",3,"change"],["f",""],["size","12"],["mode","ios",1,"m-0","mt-3","p-3"],[1,"size-16","fw-bold"],[1,"ion-no-padding"],["size","6"],["color","dark"],[1,"m-0","fw-bold","size-14"],["mode","ios",1,"m-0","mt-3"],[3,"innerHTML"],["lines","none","color","white"],[1,"ion-margin-top"],["size","6","size-lg","4","size-xl","3","class","ion-margin-bottom",4,"ngFor","ngForOf"],["size","6","size-lg","4","size-xl","3",1,"ion-margin-bottom"],["color","white",1,"h-100","ion-no-margin","file",3,"click"],[1,"file-type","d-grid-center"],["color","medium","name","film-outline"],[1,"file-name"],["color","white",4,"ngFor","ngForOf"],["side","end"],["color","medium","name","document-text-outline"],["slot","start","color","medium",1,"d-grid-center"],["load","lazy",3,"src",4,"ngIf"],["color","medium","name","play-circle-outline",4,"ngIf"],["color","medium","name","film-outline",4,"ngIf"],["color","medium","name","document-text-outline",4,"ngIf"],[1,"ion-text-wrap"],["type","file","id","uploadReview",3,"change"],["for","uploadReview",1,"ion-no-margin",3,"click"],["load","lazy",3,"src"],["color","medium","name","play-circle-outline"],["color","medium","name","pause-circle-outline"],["for","fileInput","expand","full","size","large",1,"ion-no-margin",3,"click"],[2,"font-size","14px"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e._UZ(3,"ion-back-button",2),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5),e.qZA()(),e.TgZ(6,"ion-toolbar",0)(7,"ion-segment",3),e.NdJ("ngModelChange",function(r){return n.segment=r}),e.TgZ(8,"ion-segment-button",4)(9,"ion-label"),e._uU(10,"Question Papers"),e.qZA()(),e.TgZ(11,"ion-segment-button",5)(12,"ion-label"),e._uU(13,"Summary of Concepts"),e.qZA()(),e.TgZ(14,"ion-segment-button",6)(15,"ion-label"),e._uU(16,"Test Results"),e.qZA()()()()(),e.TgZ(17,"ion-content",0),e.YNc(18,$,9,6,"div",7),e.YNc(19,X,58,5,"div",8),e.YNc(20,te,4,1,"div",9),e.YNc(21,me,7,1,"div",9),e.YNc(22,we,4,1,"div",9),e.qZA(),e.YNc(23,Ee,7,0,"ion-footer",9)),2&t&&(e.xp6(5),e.Oqu((null==n.test?null:n.test.title)||"Test"),e.xp6(2),e.Q6J("ngModel",n.segment),e.xp6(11),e.Q6J("ngIf","schedule"===n.segment),e.xp6(1),e.Q6J("ngIf","question-papers"===n.segment),e.xp6(1),e.Q6J("ngIf","summary-of-concepts"===n.segment),e.xp6(1),e.Q6J("ngIf","answers"===n.segment),e.xp6(1),e.Q6J("ngIf","test-results"===n.segment),e.xp6(1),e.Q6J("ngIf","review-comments"===n.segment))},dependencies:[_.sg,_.O5,x.JJ,x.On,a.BJ,a.oU,a.YG,a.Sm,a.PM,a.FN,a.Zi,a.wI,a.W2,a.fr,a.jY,a.Gu,a.gu,a.Ie,a.u8,a.IK,a.td,a.Q$,a.q_,a.H$,a.Nd,a.cJ,a.GO,a.yW,a.sr,a.wd,a.QI,a.cs,Q.rQ],styles:["#fileInput[_ngcontent-%COMP%], #uploadReview[_ngcontent-%COMP%]{position:absolute;opacity:0}ion-avatar[_ngcontent-%COMP%]{background:var(--ion-color-light)}.zoom-btns[_ngcontent-%COMP%]{bottom:20px;right:20px;z-index:99;background:var(--ion-color-light)}.file[_ngcontent-%COMP%]   .file-type[_ngcontent-%COMP%]{height:120px;background-color:var(--ion-color-light)}.file[_ngcontent-%COMP%]   .file-type[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:120px}.file[_ngcontent-%COMP%]   .file-type[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:42px}.file[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{padding:8px;background-color:var(--ion-color-white);position:relative;z-index:9}"]}),i})()}];let Se=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[C.Bz.forChild(Ze),C.Bz]}),i})();var S=c(4246),q=c(1481),qe=c(9770),Ie=c(9751),V=c(576);function Ae(i){return!!i&&(i instanceof Ie.y||(0,V.m)(i.lift)&&(0,V.m)(i.subscribe))}var Me=c(6805),Oe=c(930);function ze(i,s){const t="object"==typeof s;return new Promise((n,o)=>{const r=new Oe.Hp({next:l=>{n(l),r.unsubscribe()},error:o,complete:()=>{t?n(s.defaultValue):o(new Me.K)}});i.subscribe(r)})}var Ne=c(727),M=c(4968),Qe=c(7579),Ve=c(6063);class Je extends Qe.x{constructor(s=1/0,t=1/0,n=Ve.l){super(),this._bufferSize=s,this._windowTime=t,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,s),this._windowTime=Math.max(1,t)}next(s){const{isStopped:t,_buffer:n,_infiniteTimeWindow:o,_timestampProvider:r,_windowTime:l}=this;t||(n.push(s),!o&&n.push(r.now()+l)),this._trimBuffer(),super.next(s)}_subscribe(s){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(s),{_infiniteTimeWindow:n,_buffer:o}=this,r=o.slice();for(let l=0;l<r.length&&!s.closed;l+=n?1:2)s.next(r[l]);return this._checkFinalizedStatuses(s),t}_trimBuffer(){const{_bufferSize:s,_timestampProvider:t,_buffer:n,_infiniteTimeWindow:o}=this,r=(o?1:2)*s;if(s<1/0&&r<n.length&&n.splice(0,n.length-r),!o){const l=t.now();let d=0;for(let p=1;p<n.length&&n[p]<=l;p+=2)d=p;d&&n.splice(0,d+1)}}}var Ue=c(3099),J=c(5577),U=c(8372);function Fe(i,s){1&i&&e._UZ(0,"div",2)}function Re(i,s){1&i&&e._UZ(0,"pre",2)}function ke(i,s){if(1&i&&(e.ynx(0),e.YNc(1,Fe,1,0,"div",1),e.YNc(2,Re,1,0,"pre",1),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.preserve),e.xp6(1),e.Q6J("ngIf",t.preserve)}}function Le(i,s){1&i&&e._UZ(0,"div",2)}function De(i,s){1&i&&e._UZ(0,"pre",2)}function He(i,s){if(1&i&&(e.ynx(0),e.YNc(1,Le,1,0,"div",1),e.YNc(2,De,1,0,"pre",1),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.preserve),e.xp6(1),e.Q6J("ngIf",t.preserve)}}const Ge=[[["","quill-editor-toolbar",""]]],Be=["[quill-editor-toolbar]"];function je(i,s){1&i&&e._UZ(0,"div",1)}function We(i,s){1&i&&e._UZ(0,"pre",1)}const P=(i,s)=>i||s||"html";let I=(()=>{class i{constructor(t,n){var o=this;this.config=n,this.quill$=(0,qe.P)((0,b.Z)(function*(){if(!o.Quill){const r=o.document.addEventListener;o.document.addEventListener=o.document.__zone_symbol__addEventListener||o.document.addEventListener;const l=yield c.e(9971).then(c.t.bind(c,9971,19));o.document.addEventListener=r,o.Quill=l.default?l.default:l}return o.config.customOptions?.forEach(r=>{const l=o.Quill.import(r.import);l.whitelist=r.whitelist,o.Quill.register(l,!0,o.config.suppressGlobalRegisterWarning)}),yield o.registerCustomModules(o.Quill,o.config.customModules,o.config.suppressGlobalRegisterWarning)})).pipe(function Ye(i,s,t){let n,o=!1;return i&&"object"==typeof i?({bufferSize:n=1/0,windowTime:s=1/0,refCount:o=!1,scheduler:t}=i):n=i??1/0,(0,Ue.B)({connector:()=>new Je(n,s,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}({bufferSize:1,refCount:!0})),this.document=t.get(_.K0),this.config||(this.config={modules:S.dn})}getQuill(){return this.quill$}registerCustomModules(t,n,o){return(0,b.Z)(function*(){if(Array.isArray(n))for(let{implementation:r,path:l}of n)Ae(r)&&(r=yield ze(r)),t.register(l,r,o);return t})()}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(e.zs3),e.LFG(S.vU,8))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Ke=(()=>{class i{constructor(t,n,o,r,l,d,p,g){this.elementRef=n,this.cd=o,this.domSanitizer=r,this.platformId=l,this.renderer=d,this.zone=p,this.service=g,this.required=!1,this.customToolbarPosition="top",this.styles=null,this.strict=!0,this.customOptions=[],this.customModules=[],this.preserveWhitespace=!1,this.trimOnValidation=!1,this.compareValues=!1,this.filterNull=!1,this.defaultEmptyValue=null,this.onEditorCreated=new e.vpe,this.onEditorChanged=new e.vpe,this.onContentChanged=new e.vpe,this.onSelectionChanged=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.disabled=!1,this.preserve=!1,this.toolbarPosition="top",this.subscription=null,this.quillSubscription=null,this.valueGetter=(f,h)=>{let m=h.querySelector(".ql-editor").innerHTML;("<p><br></p>"===m||"<div><br></div>"===m)&&(m=this.defaultEmptyValue);let u=m;const T=P(this.format,this.service.config.format);if("text"===T)u=f.getText();else if("object"===T)u=f.getContents();else if("json"===T)try{u=JSON.stringify(f.getContents())}catch{u=f.getText()}return u},this.valueSetter=(f,h)=>{const m=P(this.format,this.service.config.format);if("html"===m)return([!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1)&&(h=this.domSanitizer.sanitize(e.q3G.HTML,h)),f.clipboard.convert(h);if("json"===m)try{return JSON.parse(h)}catch{return[{insert:h}]}return h},this.selectionChangeHandler=(f,h,m)=>{const u=!f&&!!this.onModelTouched;!this.onBlur.observed&&!this.onFocus.observed&&!this.onSelectionChanged.observed&&!u||this.zone.run(()=>{null===f?this.onBlur.emit({editor:this.quillEditor,source:m}):null===h&&this.onFocus.emit({editor:this.quillEditor,source:m}),this.onSelectionChanged.emit({editor:this.quillEditor,oldRange:h,range:f,source:m}),u&&this.onModelTouched(),this.cd.markForCheck()})},this.textChangeHandler=(f,h,m)=>{const u=this.quillEditor.getText(),T=this.quillEditor.getContents();let y=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===y||"<div><br></div>"===y)&&(y=this.defaultEmptyValue);const v=this.trackChanges||this.service.config.trackChanges,Y=("user"===m||v&&"all"===v)&&!!this.onModelChange;!this.onContentChanged.observed&&!Y||this.zone.run(()=>{Y&&this.onModelChange(this.valueGetter(this.quillEditor,this.editorElem)),this.onContentChanged.emit({content:T,delta:f,editor:this.quillEditor,html:y,oldDelta:h,source:m,text:u}),this.cd.markForCheck()})},this.editorChangeHandler=(f,h,m,u)=>{if(this.onEditorChanged.observed)if("text-change"===f){const T=this.quillEditor.getText(),y=this.quillEditor.getContents();let v=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===v||"<div><br></div>"===v)&&(v=this.defaultEmptyValue),this.zone.run(()=>{this.onEditorChanged.emit({content:y,delta:h,editor:this.quillEditor,event:f,html:v,oldDelta:m,source:u,text:T}),this.cd.markForCheck()})}else this.zone.run(()=>{this.onEditorChanged.emit({editor:this.quillEditor,event:f,oldRange:m,range:h,source:u}),this.cd.markForCheck()})},this.document=t.get(_.K0)}static normalizeClassNames(t){return t.trim().split(" ").reduce((o,r)=>{const l=r.trim();return l&&o.push(l),o},[])}ngOnInit(){this.preserve=this.preserveWhitespace,this.toolbarPosition=this.customToolbarPosition}ngAfterViewInit(){(0,_.PM)(this.platformId)||(this.quillSubscription=this.service.getQuill().pipe((0,J.z)(t=>{const n=[this.service.registerCustomModules(t,this.customModules)],o=this.beforeRender??this.service.config.beforeRender;return o&&n.push(o()),Promise.all(n).then(()=>t)})).subscribe(t=>{this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]");const n=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),o=Object.assign({},this.modules||this.service.config.modules);n?o.toolbar=n:void 0===o.toolbar&&(o.toolbar=S.dn.toolbar);let r=void 0!==this.placeholder?this.placeholder:this.service.config.placeholder;void 0===r&&(r="Insert text here ..."),this.styles&&Object.keys(this.styles).forEach(m=>{this.renderer.setStyle(this.editorElem,m,this.styles[m])}),this.classes&&this.addClasses(this.classes),this.customOptions.forEach(m=>{const u=t.import(m.import);u.whitelist=m.whitelist,t.register(u,!0)});let l=this.bounds&&"self"===this.bounds?this.editorElem:this.bounds;l||(l=this.service.config.bounds?this.service.config.bounds:this.document.body);let d=this.debug;!d&&!1!==d&&this.service.config.debug&&(d=this.service.config.debug);let p=this.readOnly;!p&&!1!==this.readOnly&&(p=void 0!==this.service.config.readOnly&&this.service.config.readOnly);let g=this.defaultEmptyValue;this.service.config.hasOwnProperty("defaultEmptyValue")&&(g=this.service.config.defaultEmptyValue);let f=this.scrollingContainer;!f&&null!==this.scrollingContainer&&(f=null===this.service.config.scrollingContainer||this.service.config.scrollingContainer?this.service.config.scrollingContainer:null);let h=this.formats;if(!h&&void 0===h&&(h=this.service.config.formats?[...this.service.config.formats]:null===this.service.config.formats?null:void 0),this.zone.runOutsideAngular(()=>{if(this.quillEditor=new t(this.editorElem,{bounds:l,debug:d,formats:h,modules:o,placeholder:r,readOnly:p,defaultEmptyValue:g,scrollingContainer:f,strict:this.strict,theme:this.theme||(this.service.config.theme?this.service.config.theme:"snow")}),this.linkPlaceholder){const u=this.quillEditor?.theme?.tooltip?.root?.querySelector("input[data-link]");u?.dataset&&(u.dataset.link=this.linkPlaceholder)}}),this.content){if("text"===P(this.format,this.service.config.format))this.quillEditor.setText(this.content,"silent");else{const u=this.valueSetter(this.quillEditor,this.content);this.quillEditor.setContents(u,"silent")}this.quillEditor.getModule("history").clear()}this.setDisabledState(),this.addQuillEventListeners(),(this.onEditorCreated.observed||this.onValidatorChanged)&&requestAnimationFrame(()=>{this.onValidatorChanged&&this.onValidatorChanged(),this.onEditorCreated.emit(this.quillEditor)})}))}ngOnDestroy(){this.dispose(),this.quillSubscription?.unsubscribe(),this.quillSubscription=null}ngOnChanges(t){if(this.quillEditor){if(t.readOnly&&this.quillEditor.enable(!t.readOnly.currentValue),t.placeholder&&(this.quillEditor.root.dataset.placeholder=t.placeholder.currentValue),t.defaultEmptyValue&&(this.quillEditor.root.dataset.defaultEmptyValue=t.defaultEmptyValue.currentValue),t.styles){const n=t.styles.currentValue,o=t.styles.previousValue;o&&Object.keys(o).forEach(r=>{this.renderer.removeStyle(this.editorElem,r)}),n&&Object.keys(n).forEach(r=>{this.renderer.setStyle(this.editorElem,r,this.styles[r])})}if(t.classes){const n=t.classes.currentValue,o=t.classes.previousValue;o&&this.removeClasses(o),n&&this.addClasses(n)}t.debounceTime&&this.addQuillEventListeners()}}addClasses(t){i.normalizeClassNames(t).forEach(n=>{this.renderer.addClass(this.editorElem,n)})}removeClasses(t){i.normalizeClassNames(t).forEach(n=>{this.renderer.removeClass(this.editorElem,n)})}writeValue(t){if(this.filterNull&&null===t||(this.content=t,!this.quillEditor))return;const n=P(this.format,this.service.config.format),o=this.valueSetter(this.quillEditor,t);if(this.compareValues){const r=this.quillEditor.getContents();if(JSON.stringify(r)===JSON.stringify(o))return}t?"text"===n?this.quillEditor.setText(t):this.quillEditor.setContents(o):this.quillEditor.setText("")}setDisabledState(t=this.disabled){this.disabled=t,this.quillEditor&&(t?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}registerOnValidatorChange(t){this.onValidatorChanged=t}validate(){if(!this.quillEditor)return null;const t={};let n=!0;const o=this.quillEditor.getText(),r=this.trimOnValidation?o.trim().length:1===o.length&&0===o.trim().length?0:o.length-1,l=this.quillEditor.getContents().ops,d=l&&1===l.length&&["\n",""].includes(l[0].insert);return this.minLength&&r&&r<this.minLength&&(t.minLengthError={given:r,minLength:this.minLength},n=!1),this.maxLength&&r>this.maxLength&&(t.maxLengthError={given:r,maxLength:this.maxLength},n=!1),this.required&&!r&&d&&(t.requiredError={empty:!0},n=!1),n?null:t}addQuillEventListeners(){this.dispose(),this.zone.runOutsideAngular(()=>{this.subscription=new Ne.w0,this.subscription.add((0,M.R)(this.quillEditor,"selection-change").subscribe(([o,r,l])=>{this.selectionChangeHandler(o,r,l)}));let t=(0,M.R)(this.quillEditor,"text-change"),n=(0,M.R)(this.quillEditor,"editor-change");"number"==typeof this.debounceTime&&(t=t.pipe((0,U.b)(this.debounceTime)),n=n.pipe((0,U.b)(this.debounceTime))),this.subscription.add(t.subscribe(([o,r,l])=>{this.textChangeHandler(o,r,l)})),this.subscription.add(n.subscribe(([o,r,l,d])=>{this.editorChangeHandler(o,r,l,d)}))})}dispose(){null!==this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.zs3),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(q.H7),e.Y36(e.Lbi),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(I))},i.\u0275dir=e.lG2({type:i,inputs:{format:"format",theme:"theme",modules:"modules",debug:"debug",readOnly:"readOnly",placeholder:"placeholder",maxLength:"maxLength",minLength:"minLength",required:"required",formats:"formats",customToolbarPosition:"customToolbarPosition",sanitize:"sanitize",beforeRender:"beforeRender",styles:"styles",strict:"strict",scrollingContainer:"scrollingContainer",bounds:"bounds",customOptions:"customOptions",customModules:"customModules",trackChanges:"trackChanges",preserveWhitespace:"preserveWhitespace",classes:"classes",trimOnValidation:"trimOnValidation",linkPlaceholder:"linkPlaceholder",compareValues:"compareValues",filterNull:"filterNull",debounceTime:"debounceTime",defaultEmptyValue:"defaultEmptyValue",valueGetter:"valueGetter",valueSetter:"valueSetter"},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur"},features:[e.TTD]}),i})(),$e=(()=>{class i extends Ke{constructor(t,n,o,r,l,d,p,g){super(t,n,o,r,l,d,p,g)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.zs3),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(q.H7),e.Y36(e.Lbi),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(I))},i.\u0275cmp=e.Xpm({type:i,selectors:[["quill-editor"]],standalone:!0,features:[e._Bn([{multi:!0,provide:x.JU,useExisting:(0,e.Gpc)(()=>i)},{multi:!0,provide:x.Cf,useExisting:(0,e.Gpc)(()=>i)}]),e.qOj,e.jDz],ngContentSelectors:Be,decls:3,vars:2,consts:[[4,"ngIf"],["quill-editor-element","",4,"ngIf"],["quill-editor-element",""]],template:function(t,n){1&t&&(e.F$t(Ge),e.YNc(0,ke,3,2,"ng-container",0),e.Hsn(1),e.YNc(2,He,3,2,"ng-container",0)),2&t&&(e.Q6J("ngIf","top"!==n.toolbarPosition),e.xp6(2),e.Q6J("ngIf","top"===n.toolbarPosition))},dependencies:[_.ez,_.O5],styles:[":host{display:inline-block}\n"],encapsulation:2}),i})(),Xe=(()=>{class i{constructor(t,n){this.sanitizer=t,this.service=n,this.content="",this.innerHTML="",this.themeClass="ql-snow"}ngOnChanges(t){if(t.theme?this.themeClass=`ql-${t.theme.currentValue||(this.service.config.theme?this.service.config.theme:"snow")} ngx-quill-view-html`:this.theme||(this.themeClass=`ql-${this.service.config.theme?this.service.config.theme:"snow"} ngx-quill-view-html`),t.content){const n=t.content.currentValue,o=[!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1;this.innerHTML=o?n:this.sanitizer.bypassSecurityTrustHtml(n)}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(q.H7),e.Y36(I))},i.\u0275cmp=e.Xpm({type:i,selectors:[["quill-view-html"]],inputs:{content:"content",theme:"theme",sanitize:"sanitize"},standalone:!0,features:[e.TTD,e.jDz],decls:2,vars:2,consts:[[1,"ql-container",3,"ngClass"],[1,"ql-editor",3,"innerHTML"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.qZA()),2&t&&(e.Q6J("ngClass",n.themeClass),e.xp6(1),e.Q6J("innerHTML",n.innerHTML,e.oJD))},dependencies:[_.ez,_.mk],styles:[".ql-container.ngx-quill-view-html{border:0}\n"],encapsulation:2}),i})(),et=(()=>{class i{constructor(t,n,o,r,l,d){this.elementRef=t,this.renderer=n,this.zone=o,this.service=r,this.domSanitizer=l,this.platformId=d,this.strict=!0,this.customModules=[],this.customOptions=[],this.preserveWhitespace=!1,this.onEditorCreated=new e.vpe,this.preserve=!1,this.quillSubscription=null,this.valueSetter=(p,g)=>{const f=P(this.format,this.service.config.format);let h=g;if("text"===f)p.setText(h);else{if("html"===f)([!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1)&&(g=this.domSanitizer.sanitize(e.q3G.HTML,g)),h=p.clipboard.convert(g);else if("json"===f)try{h=JSON.parse(g)}catch{h=[{insert:g}]}p.setContents(h)}}}ngOnInit(){this.preserve=this.preserveWhitespace}ngOnChanges(t){!this.quillEditor||t.content&&this.valueSetter(this.quillEditor,t.content.currentValue)}ngAfterViewInit(){(0,_.PM)(this.platformId)||(this.quillSubscription=this.service.getQuill().pipe((0,J.z)(t=>{const n=[this.service.registerCustomModules(t,this.customModules)],o=this.beforeRender??this.service.config.beforeRender;return o&&n.push(o()),Promise.all(n).then(()=>t)})).subscribe(t=>{const n=Object.assign({},this.modules||this.service.config.modules);n.toolbar=!1,this.customOptions.forEach(d=>{const p=t.import(d.import);p.whitelist=d.whitelist,t.register(p,!0)});let o=this.debug;!o&&!1!==o&&this.service.config.debug&&(o=this.service.config.debug);let r=this.formats;!r&&void 0===r&&(r=this.service.config.formats?Object.assign({},this.service.config.formats):null===this.service.config.formats?null:void 0);const l=this.theme||(this.service.config.theme?this.service.config.theme:"snow");this.editorElem=this.elementRef.nativeElement.querySelector("[quill-view-element]"),this.zone.runOutsideAngular(()=>{this.quillEditor=new t(this.editorElem,{debug:o,formats:r,modules:n,readOnly:!0,strict:this.strict,theme:l})}),this.renderer.addClass(this.editorElem,"ngx-quill-view"),this.content&&this.valueSetter(this.quillEditor,this.content),this.onEditorCreated.observers.length&&requestAnimationFrame(()=>{this.onEditorCreated.emit(this.quillEditor)})}))}ngOnDestroy(){this.quillSubscription?.unsubscribe(),this.quillSubscription=null}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(I),e.Y36(q.H7),e.Y36(e.Lbi))},i.\u0275cmp=e.Xpm({type:i,selectors:[["quill-view"]],inputs:{format:"format",theme:"theme",modules:"modules",debug:"debug",formats:"formats",sanitize:"sanitize",beforeRender:"beforeRender",strict:"strict",content:"content",customModules:"customModules",customOptions:"customOptions",preserveWhitespace:"preserveWhitespace"},outputs:{onEditorCreated:"onEditorCreated"},standalone:!0,features:[e.TTD,e.jDz],decls:2,vars:2,consts:[["quill-view-element","",4,"ngIf"],["quill-view-element",""]],template:function(t,n){1&t&&(e.YNc(0,je,1,0,"div",0),e.YNc(1,We,1,0,"pre",0)),2&t&&(e.Q6J("ngIf",!n.preserve),e.xp6(1),e.Q6J("ngIf",n.preserve))},dependencies:[_.ez,_.O5],styles:[".ql-container.ngx-quill-view{border:0}\n"],encapsulation:2}),i})(),tt=(()=>{class i{static forRoot(t){return{ngModule:i,providers:[{provide:S.vU,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[$e,et,Xe]}),i})();const it=[{path:"",component:z}];let nt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[C.Bz.forChild(it),C.Bz]}),i})(),ot=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[],imports:[_.ez,x.u5,a.Pc,nt]}),i})(),st=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[N],imports:[_.ez,x.u5,a.Pc,Se,Q.xC,ot,tt.forRoot({modules:{syntax:!0},format:"html",readOnly:!0,theme:"snow",placeholder:"EVALUATOR\u2019S REMARKS"})]}),i})()}}]);