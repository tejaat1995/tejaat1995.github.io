"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7018],{744:(_,f,u)=>{u.d(f,{M:()=>t});let t=(()=>{class n{}return n.COURSES="courses",n.ORDERS="orders",n.STUDENTS="students",n.TESTS="tests",n.MEDIA="media",n.SCHEDULES="schedules",n.QUESTION_PAPERS="question_papers",n.VALUED_ANSWER_SHEET="valued_answer_sheets",n.ANSWER_SHEET="answer_sheets",n.STUDENT_ACTIVITY="student_activity",n.NOTIFICATIONS="notifications",n.CHAT_ROOM="chat_room",n.MESSAGES="messages",n})()},7018:(_,f,u)=>{u.r(f),u.d(f,{AccountPageModule:()=>P});var t=u(6895),n=u(433),d=u(2346),m=u(1619),g=u(744),e=u(8274),o=u(9244),r=u(9763);function s(a,c){1&a&&(e.TgZ(0,"ion-note",37),e._uU(1," Email is invalid "),e.qZA())}function h(a,c){1&a&&(e.TgZ(0,"ion-note",37),e._uU(1," First Name needs to be 5 characters "),e.qZA())}function y(a,c){1&a&&(e.TgZ(0,"ion-note",37),e._uU(1," Last Name needs to be 5 characters "),e.qZA())}function I(a,c){1&a&&(e.TgZ(0,"ion-note",37),e._uU(1," Phone Number needs to be 10 digits. "),e.qZA())}function S(a,c){1&a&&(e.TgZ(0,"ion-datetime",38,39)(2,"div",40),e._uU(3,"Select Date of Birth"),e.qZA()())}function Z(a,c){1&a&&(e.TgZ(0,"ion-note",37),e._uU(1," please enter date of birth "),e.qZA())}function T(a,c){1&a&&(e.TgZ(0,"ion-note",37),e._uU(1," Please select course type. "),e.qZA())}function v(a,c){1&a&&(e.TgZ(0,"ion-note",37),e._uU(1," Address is required "),e.qZA())}function U(a,c){1&a&&(e.TgZ(0,"ion-note",37),e._uU(1," Please enter Pincode. "),e.qZA())}function C(a,c){1&a&&(e.TgZ(0,"ion-note",37),e._uU(1," Please enter City. "),e.qZA())}function b(a,c){1&a&&(e.TgZ(0,"ion-note",37),e._uU(1," Please enter State. "),e.qZA())}function F(a,c){1&a&&(e.TgZ(0,"ion-note",37),e._uU(1," Please enter Country. "),e.qZA())}const E=[{path:"",component:(()=>{class a{constructor(l,i,p,B){this.cd=l,this.dataService=i,this.formBuilder=p,this.commonService=B,this.studentId="",this.customActionSheetOptions={header:"Select course type"},this.createForm(),this.dataService.getStudentById(localStorage.getItem("student_id")||"").subscribe(A=>{this.studentForm.patchValue(A),this.studentId=A.id,this.cd.detectChanges()})}ngOnInit(){}createForm(){this.studentForm=this.formBuilder.group({email:[null,[n.kI.required,n.kI.email]],password:[null,[n.kI.required,n.kI.minLength(6)]],first_name:[null,[n.kI.required,n.kI.minLength(5),n.kI.maxLength(25)]],last_name:[null,[n.kI.required,n.kI.minLength(5),n.kI.maxLength(25)]],mobile:[null,[n.kI.required,n.kI.minLength(10),n.kI.maxLength(10)]],course_type:[null,n.kI.required],dob:[null,n.kI.required],location:this.formBuilder.group({address:[null,n.kI.required],pincode:[null,n.kI.required],city:[null,n.kI.required],state:[null,n.kI.required],country:["India",n.kI.required]})})}update(){this.dataService.update(g.M.STUDENTS,{...this.studentForm.value,id:this.studentId}).then(l=>{this.commonService.presentToast("Account updated successfully."),this.dataService.getStudentById(localStorage.getItem("student_id")||"").subscribe(i=>{this.studentForm.patchValue(i),this.studentId=i.id})},l=>{console.error("Error while updating profile::::::\n",l)})}get email(){return this.studentForm.get("email")}get password(){return this.studentForm.get("password")}get first_name(){return this.studentForm.get("first_name")}get last_name(){return this.studentForm.get("last_name")}get mobile(){return this.studentForm.get("mobile")}get dob(){return this.studentForm.get("dob")}get course_type(){return this.studentForm.get("course_type")}get address(){return this.studentForm.get("location.address")}get pincode(){return this.studentForm.get("location.pincode")}get city(){return this.studentForm.get("location.city")}get state(){return this.studentForm.get("location.state")}get country(){return this.studentForm.get("location.country")}}return a.\u0275fac=function(l){return new(l||a)(e.Y36(e.sBO),e.Y36(o.D),e.Y36(n.qu),e.Y36(r.v))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-account"]],decls:99,vars:20,consts:[["fullscreen","","color","white"],[1,"ion-no-border",3,"translucent"],["color","white"],["slot","start"],["icon","chevron-back-outline","defaultHref","dashboard"],[1,"ion-padding",3,"formGroup","ngSubmit"],[1,"ion-justify-content-center"],["size","12"],[1,"rounded-circle","mx-auto","logo"],["color","light","lines","none","disabled","",1,"ion-margin-bottom"],["position","floating","color","medium"],["color","dark","type","email","placeholder","Email","formControlName","email","readonly",""],["slot","error",4,"ngIf"],["size","6"],["color","light","lines","none",1,"ion-margin-bottom"],["color","dark","type","text","placeholder","FirstName","formControlName","first_name"],["color","dark","type","text","placeholder","Last Name","formControlName","last_name"],["color","dark","type","tel","placeholder","Phone Number","formControlName","mobile"],["color","light","id","start-date","lines","none",1,"ion-margin-bottom"],["color","medium"],["slot","end"],["trigger","start-date","show-backdrop","false"],["placeholder","Select course type","color","medium","interface","action-sheet","formControlName","course_type",3,"interfaceOptions","value"],["value","CA foundation"],["value","CA Inter"],["value","CA Final"],["value","CMA Foundation"],["value","CMA Final"],["value","CMA Inter"],["slot","end","color","dark","name","chevron-down-outline"],["formGroupName","location"],["color","dark","placeholder","Address","formControlName","address"],["color","dark","type","tel","placeholder","Pincode","formControlName","pincode"],["color","dark","type","text","placeholder","City","formControlName","city"],["color","dark","type","text","placeholder","State","formControlName","state"],["color","dark","type","text","readonly","","placeholder","Country","formControlName","country"],["block","","color","primary","type","submit","expand","block",1,"shadow",3,"disabled"],["slot","error"],["presentation","date","formControlName","dob","placeholder","select Date of Birth"],["startDateTime",""],["slot","title"]],template:function(l,i){1&l&&(e.TgZ(0,"ion-content",0)(1,"ion-header",1)(2,"ion-toolbar",2)(3,"ion-buttons",3),e._UZ(4,"ion-back-button",4),e.qZA(),e.TgZ(5,"ion-title"),e._uU(6," Account "),e.qZA()()(),e.TgZ(7,"form",5),e.NdJ("ngSubmit",function(){return i.update()}),e.TgZ(8,"ion-row",6)(9,"ion-col",7),e._UZ(10,"div",8),e.qZA()(),e.TgZ(11,"ion-row")(12,"ion-col",7)(13,"ion-item",9)(14,"ion-label",10),e._uU(15,"Email"),e.qZA(),e._UZ(16,"ion-input",11),e.YNc(17,s,2,0,"ion-note",12),e.qZA()(),e.TgZ(18,"ion-col",13)(19,"ion-item",14)(20,"ion-label",10),e._uU(21,"First Name"),e.qZA(),e._UZ(22,"ion-input",15),e.YNc(23,h,2,0,"ion-note",12),e.qZA()(),e.TgZ(24,"ion-col",13)(25,"ion-item",14)(26,"ion-label",10),e._uU(27,"Last Name"),e.qZA(),e._UZ(28,"ion-input",16),e.YNc(29,y,2,0,"ion-note",12),e.qZA()(),e.TgZ(30,"ion-col",7)(31,"ion-item",14)(32,"ion-label",10),e._uU(33,"Phone Number"),e.qZA(),e._UZ(34,"ion-input",17),e.YNc(35,I,2,0,"ion-note",12),e.qZA()(),e.TgZ(36,"ion-col",7)(37,"ion-item",18)(38,"ion-label",19),e._uU(39,"Date of Birth"),e.qZA(),e.TgZ(40,"ion-text",20),e._uU(41),e.ALo(42,"date"),e.qZA(),e.TgZ(43,"ion-popover",21),e.YNc(44,S,4,0,"ng-template"),e.qZA(),e.YNc(45,Z,2,0,"ion-note",12),e.qZA()(),e.TgZ(46,"ion-col",7)(47,"ion-item",14)(48,"ion-label",19),e._uU(49,"Course Type"),e.qZA(),e.TgZ(50,"ion-select",22)(51,"ion-select-option",23),e._uU(52,"CA Foundation"),e.qZA(),e.TgZ(53,"ion-select-option",24),e._uU(54,"CA Inter"),e.qZA(),e.TgZ(55,"ion-select-option",25),e._uU(56,"CA Final"),e.qZA(),e.TgZ(57,"ion-select-option",26),e._uU(58,"CMA Foundation"),e.qZA(),e.TgZ(59,"ion-select-option",27),e._uU(60,"CMA Final"),e.qZA(),e.TgZ(61,"ion-select-option",28),e._uU(62,"CMA Inter"),e.qZA()(),e._UZ(63,"ion-icon",29),e.YNc(64,T,2,0,"ion-note",12),e.qZA()()(),e.TgZ(65,"ion-row",30)(66,"ion-col",13)(67,"ion-item",14)(68,"ion-label",10),e._uU(69,"Address"),e.qZA(),e._UZ(70,"ion-input",31),e.YNc(71,v,2,0,"ion-note",12),e.qZA()(),e.TgZ(72,"ion-col",13)(73,"ion-item",14)(74,"ion-label",10),e._uU(75,"Pincode"),e.qZA(),e._UZ(76,"ion-input",32),e.YNc(77,U,2,0,"ion-note",12),e.qZA()(),e.TgZ(78,"ion-col",13)(79,"ion-item",14)(80,"ion-label",10),e._uU(81,"City"),e.qZA(),e._UZ(82,"ion-input",33),e.YNc(83,C,2,0,"ion-note",12),e.qZA()(),e.TgZ(84,"ion-col",13)(85,"ion-item",14)(86,"ion-label",10),e._uU(87,"State"),e.qZA(),e._UZ(88,"ion-input",34),e.YNc(89,b,2,0,"ion-note",12),e.qZA()(),e.TgZ(90,"ion-col",13)(91,"ion-item",14)(92,"ion-label",10),e._uU(93,"Country"),e.qZA(),e._UZ(94,"ion-input",35),e.YNc(95,F,2,0,"ion-note",12),e.qZA()(),e.TgZ(96,"ion-col",7)(97,"ion-button",36),e._uU(98," Update "),e.qZA()()()()()),2&l&&(e.xp6(1),e.Q6J("translucent",!0),e.xp6(6),e.Q6J("formGroup",i.studentForm),e.xp6(10),e.Q6J("ngIf",(i.email.dirty||i.email.touched)&&i.email.errors),e.xp6(6),e.Q6J("ngIf",(i.first_name.dirty||i.first_name.touched)&&i.first_name.errors),e.xp6(6),e.Q6J("ngIf",(i.last_name.dirty||i.last_name.touched)&&i.last_name.errors),e.xp6(6),e.Q6J("ngIf",(i.mobile.dirty||i.mobile.touched)&&i.mobile.errors),e.xp6(6),e.Oqu(e.xi3(42,17,i.studentForm.value.dob,"dd MMM YYYY")),e.xp6(4),e.Q6J("ngIf",(i.dob.dirty||i.dob.touched)&&i.dob.errors),e.xp6(5),e.Q6J("interfaceOptions",i.customActionSheetOptions)("value",i.studentForm.value.course_type),e.xp6(14),e.Q6J("ngIf",(i.course_type.dirty||i.course_type.touched)&&i.course_type.errors),e.xp6(7),e.Q6J("ngIf",(i.address.dirty||i.address.touched)&&i.address.errors),e.xp6(6),e.Q6J("ngIf",(i.pincode.dirty||i.pincode.touched)&&i.pincode.errors),e.xp6(6),e.Q6J("ngIf",(i.city.dirty||i.city.touched)&&i.city.errors),e.xp6(6),e.Q6J("ngIf",(i.state.dirty||i.state.touched)&&i.state.errors),e.xp6(6),e.Q6J("ngIf",(i.country.dirty||i.country.touched)&&i.country.errors),e.xp6(2),e.Q6J("disabled",i.studentForm.invalid))},dependencies:[t.O5,n._Y,n.JJ,n.JL,d.oU,d.YG,d.Sm,d.wI,d.W2,d.x4,d.Gu,d.gu,d.pK,d.Ie,d.Q$,d.uN,d.d8,d.Nd,d.t9,d.n0,d.yW,d.sr,d.wd,d.QI,d.j9,d.cs,n.sg,n.u,n.x0,t.uU],styles:["ion-item[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-light)) !important;border-radius:5px}.sc-ion-input-md-h[_ngcontent-%COMP%]{--placeholder-color: var(--ion-color-medium) !important}.logo[_ngcontent-%COMP%]{background:var(--ion-color-light);width:150px;height:150px;border:10px solid var(--ion-color-light);background-image:url(student.f8c5b0ac1db295a9.png);background-position:center;background-size:contain;background-repeat:no-repeat}"]}),a})()}];let R=(()=>{class a{}return a.\u0275fac=function(l){return new(l||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[m.Bz.forChild(E),m.Bz]}),a})(),P=(()=>{class a{}return a.\u0275fac=function(l){return new(l||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[t.ez,n.u5,d.Pc,n.UX,R]}),a})()},9763:(_,f,u)=>{u.d(f,{v:()=>d});var t=u(8274),n=u(2346);let d=(()=>{class m{constructor(e,o){this.toastCtrl=e,this.navCtrl=o}presentToast(e="Please wait...",o="primary",r=3e3){this.toastCtrl.create({cssClass:"",color:o,duration:r,message:e}).then(s=>{s.present()},s=>{console.error("Error while toasting message",s)})}isValidData(e){return null!=e&&""!==e&&e!==[]&&0!==Object.keys(e).length}getExtension(e){let o=e.split(/[#?]/)[0].split(".").pop().trim();return["jpg","jpeg","png","gif","tiff","svg"].includes(o.toLowerCase())?o="image":["mp3","m4a","acc","ogg","wma","flac","alac"].includes(o.toLowerCase())?o="audio":["3gp","mp4","mov","wmv","flv","avi","avchd","webm","mkv"].includes(o.toLowerCase())?o="video":["zip","rar"].includes(o.toLowerCase())&&(o="archive"),o.toLowerCase()}navigateForward(e,o={}){this.navCtrl.navigateForward(e,{state:{...o}})}navigateBack(e,o={}){this.navCtrl.navigateBack(e,{state:{...o}})}navigateRoot(e,o={}){this.navCtrl.setDirection("root"),this.navCtrl.navigateRoot(e,{state:{...o}})}}return m.\u0275fac=function(e){return new(e||m)(t.LFG(n.yF),t.LFG(n.SH))},m.\u0275prov=t.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},9244:(_,f,u)=>{u.d(f,{D:()=>m});var t=u(3725),n=u(744),d=u(8274);let m=(()=>{class g{constructor(o){this.firestore=o}get(o){const r=(0,t.hJ)(this.firestore,o),s=(0,t.IO)(r,(0,t.Xo)("created_at","asc"));return(0,t.BS)(s,{idField:"id"})}getById(o,r){const s=(0,t.JU)(this.firestore,o+`/${r}`);return(0,t._1)(s,{idField:"id"})}getByUID(o,r){console.log(o,r);const s=(0,t.hJ)(this.firestore,o),h=(0,t.IO)(s,(0,t.ar)("uid","==",r),(0,t.Xo)("created_at","asc"));return(0,t.BS)(h,{idField:"id"})}add(o,r){const s=(0,t.hJ)(this.firestore,o);return(0,t.ET)(s,{...r,created_at:(0,t.Bt)()})}delete(o,r){const s=(0,t.JU)(this.firestore,o+`/${r.id}`);return o===n.M.MEDIA||o===n.M.MEDIA?(0,t.r7)(s,{media:(0,t.Ab)(r?.media),updated_at:(0,t.Bt)()}):(0,t.oe)(s)}update(o,r){const s=(0,t.JU)(this.firestore,o+`/${r.id}`);return(0,t.r7)(s,o===n.M.MEDIA||o===n.M.MEDIA?{media:(0,t.vr)(...r?.media),updated_at:(0,t.Bt)()}:{...r,updated_at:(0,t.Bt)()})}getCourses(){const o=(0,t.hJ)(this.firestore,"courses");return(0,t.BS)(o,{idField:"id"})}getCourseById(o){const r=(0,t.JU)(this.firestore,`courses/${o}`);return(0,t._1)(r,{idField:"id"})}getTests(o){const r=(0,t.hJ)(this.firestore,"tests"),s=(0,t.IO)(r,(0,t.ar)("course_id","==",o||""));return(0,t.BS)(s,{idField:"id"})}getTestById(o){const r=(0,t.JU)(this.firestore,`tests/${o}`);return(0,t._1)(r,{idField:"id"})}getValuedAnswerSheetByTestId(o,r){const s=(0,t.hJ)(this.firestore,n.M.VALUED_ANSWER_SHEET),h=(0,t.IO)(s,(0,t.ar)("test_id","==",o||""),(0,t.ar)("student_id","==",r||""));return(0,t.BS)(h,{idField:"id"})}getRemarksByTestId(o,r){const s=(0,t.hJ)(this.firestore,n.M.STUDENT_ACTIVITY),h=(0,t.IO)(s,(0,t.ar)("test_id","==",o||""),(0,t.ar)("student_id","==",r||""));return(0,t.BS)(h,{idField:"id"})}getAnswerSheetByTestId(o){const r=(0,t.hJ)(this.firestore,n.M.ANSWER_SHEET),s=(0,t.IO)(r,(0,t.ar)("test_id","==",o||""));return(0,t.BS)(s,{idField:"id"})}getScheduleByCourseId(o){const r=(0,t.hJ)(this.firestore,n.M.SCHEDULES),s=(0,t.IO)(r,(0,t.ar)("course_id","==",o));return(0,t.BS)(s,{idField:"id"})}getScheduleByTestId(o){const r=(0,t.hJ)(this.firestore,n.M.SCHEDULES),s=(0,t.IO)(r,(0,t.ar)("test_id","==",o||""));return(0,t.BS)(s,{idField:"id"})}getQuestionPaperByTestId(o){const r=(0,t.hJ)(this.firestore,n.M.QUESTION_PAPERS),s=(0,t.IO)(r,(0,t.ar)("test_id","==",o||""));return(0,t.BS)(s,{idField:"id"})}updateTest(o){const r=(0,t.JU)(this.firestore,`tests/${o.id}`);return(0,t.r7)(r,{...o,updated_at:(0,t.Bt)()})}getOrdersList(){const o=(0,t.hJ)(this.firestore,"orders"),r=(0,t.IO)(o,(0,t.ar)("student_id","==",localStorage.getItem("uid")||""));return(0,t.BS)(r,{idField:"id"})}getPurchasedOrders(){const o=(0,t.hJ)(this.firestore,"orders"),r=(0,t.IO)(o,(0,t.ar)("student_id","==",localStorage.getItem("student_id")||""),(0,t.ar)("status","==",!0));return(0,t.BS)(r,{idField:"id"})}getOrders(o){const r=(0,t.hJ)(this.firestore,"orders"),s=(0,t.IO)(r,(0,t.ar)("course_id","==",o.course_id||""),(0,t.ar)("student_id","==",o.student_id||""));return(0,t.PL)(s)}addOrder(o){const r=(0,t.hJ)(this.firestore,"orders");return(0,t.ET)(r,{...o,created_at:(0,t.Bt)()})}updateOrder(o){const r=(0,t.JU)(this.firestore,`orders/${o.id}`);return(0,t.r7)(r,{...o,updated_at:(0,t.Bt)()})}getStudentById(o){const r=(0,t.JU)(this.firestore,`students/${o}`);return(0,t._1)(r,{idField:"id"})}getStudent(o){const r=(0,t.hJ)(this.firestore,"students"),s=(0,t.IO)(r,(0,t.ar)("email","==",o.email||""),(0,t.ar)("password","==",o.password||""));return(0,t.BS)(s,{idField:"id"})}checkStudent(o){const r=(0,t.hJ)(this.firestore,n.M.STUDENTS),s=(0,t.IO)(r,(0,t.ar)("email","==",o));return(0,t.BS)(s,{idField:"id"})}addStudent(o){const r=(0,t.hJ)(this.firestore,"students");return(0,t.ET)(r,{...o,created_at:(0,t.Bt)()})}deleteStudent(o){const r=(0,t.JU)(this.firestore,`students/${o.id}`);return(0,t.oe)(r)}updateStudent(o){const r=(0,t.JU)(this.firestore,`students/${o.id}`);return(0,t.r7)(r,{...o,updated_at:(0,t.Bt)()})}getChat(o){const r=(0,t.hJ)(this.firestore,n.M.CHAT_ROOM),s=(0,t.IO)(r,(0,t.ar)("chat_id","==",o));return(0,t.BS)(s,{idField:"id"})}getMessages(o){const r=(0,t.hJ)(this.firestore,n.M.MESSAGES),s=(0,t.IO)(r,(0,t.ar)("chat_id","==",o),(0,t.Xo)("created_at","asc"));return(0,t.BS)(s,{idField:"id"})}}return g.\u0275fac=function(o){return new(o||g)(d.LFG(t.gg))},g.\u0275prov=d.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()}}]);