(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9084],{9084:(M,I,d)=>{"use strict";d.r(I),d.d(I,{TestPageModule:()=>ue});var P=d(6895),x=d(433),a=d(2346),h=d(9461),w=d(5861),y=d(4327),f=d(744),U=d(558),e=d(8274),l=d(9244),r=d(6857),m=d(6578),_=d(9763),p=d(5014);function N(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"ion-buttons",12)(1,"ion-button",13),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.zoomIn())}),e._UZ(2,"ion-icon",14),e.qZA(),e.TgZ(3,"ion-button",13),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.zoomOut())}),e._UZ(4,"ion-icon",15),e.qZA()()}}function J(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",8)(1,"p",9),e._uU(2),e.qZA(),e.TgZ(3,"pdf-viewer",10),e.NdJ("page",function(){return 0})("page-rendered",function(o){e.CHM(t);const c=e.oxw();return e.KtG(c.pageRendered(o))}),e.qZA(),e.YNc(4,N,5,0,"ion-buttons",11),e.qZA()}if(2&n){const t=e.oxw();e.xp6(2),e.hij(" ",(null==t.schedule?null:t.schedule.name)||"Schedule Name"," "),e.xp6(1),e.Q6J("src",null==t.schedule?null:t.schedule.file_url)("zoom",t.zoom)("render-text",!0)("original-size",!1),e.xp6(1),e.Q6J("ngIf",null!=t.schedule)}}function A(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"ion-buttons",12)(1,"ion-button",13),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.zoomIn())}),e._UZ(2,"ion-icon",14),e.qZA(),e.TgZ(3,"ion-button",13),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.zoomOut())}),e._UZ(4,"ion-icon",15),e.qZA()()}}function C(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",8)(1,"p",9),e._uU(2),e.qZA(),e.TgZ(3,"pdf-viewer",10),e.NdJ("page",function(){return 0})("page-rendered",function(o){e.CHM(t);const c=e.oxw();return e.KtG(c.pageRendered(o))}),e.qZA(),e.YNc(4,A,5,0,"ion-buttons",11),e.qZA()}if(2&n){const t=e.oxw();e.xp6(2),e.hij(" ",(null==t.questionPaper?null:t.questionPaper.name)||"Question Paper"," "),e.xp6(1),e.Q6J("src",null==t.questionPaper?null:t.questionPaper.file_url)("zoom",t.zoom)("render-text",!0)("original-size",!1),e.xp6(1),e.Q6J("ngIf",null!=t.questionPaper)}}function b(n,s){if(1&n&&e._UZ(0,"img",23),2&n){const t=e.oxw().$implicit;e.Q6J("src",t.file_url,e.LSH)}}function Z(n,s){1&n&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",24),e.qZA())}function q(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"ion-col",18)(1,"ion-card",19)(2,"div",20),e.NdJ("click",function(){const c=e.CHM(t).$implicit,u=e.oxw(2);return e.KtG(u.playVideo(c.file_url))}),e.YNc(3,b,1,1,"img",21),e.YNc(4,Z,2,0,"div",7),e.qZA(),e.TgZ(5,"div",22)(6,"ion-text"),e._uU(7),e.qZA()()()()}if(2&n){const t=s.$implicit;e.xp6(3),e.Q6J("ngIf","image"===t.type),e.xp6(1),e.Q6J("ngIf","video"===t.type),e.xp6(3),e.hij(" ",t.name," ")}}function E(n,s){if(1&n&&(e.TgZ(0,"div")(1,"ion-row",16),e.YNc(2,q,8,3,"ion-col",17),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",null==t.test?null:t.test.file_urls)}}function Q(n,s){if(1&n&&e._UZ(0,"img",23),2&n){const t=e.oxw().$implicit;e.Q6J("src",t.file_url,e.LSH)}}function z(n,s){1&n&&e._UZ(0,"ion-icon",34)}function Y(n,s){1&n&&e._UZ(0,"ion-icon",24)}function O(n,s){1&n&&e._UZ(0,"ion-icon",27)}function k(n,s){1&n&&e._UZ(0,"ion-icon",27)}function F(n,s){1&n&&e._UZ(0,"ion-icon",27)}function R(n,s){1&n&&e._UZ(0,"ion-icon",27)}function H(n,s){1&n&&e._UZ(0,"ion-icon",27)}function G(n,s){1&n&&e._UZ(0,"ion-icon",27)}function K(n,s){1&n&&e._UZ(0,"ion-icon",27)}function j(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"ion-item")(1,"ion-avatar",28),e.YNc(2,Q,1,1,"img",21),e.YNc(3,z,1,0,"ion-icon",29),e.YNc(4,Y,1,0,"ion-icon",30),e.YNc(5,O,1,0,"ion-icon",31),e.YNc(6,k,1,0,"ion-icon",31),e.YNc(7,F,1,0,"ion-icon",31),e.YNc(8,R,1,0,"ion-icon",31),e.YNc(9,H,1,0,"ion-icon",31),e.YNc(10,G,1,0,"ion-icon",31),e.YNc(11,K,1,0,"ion-icon",31),e.qZA(),e.TgZ(12,"ion-label",32)(13,"h2"),e._uU(14),e.qZA(),e.TgZ(15,"p"),e._uU(16),e.qZA(),e.TgZ(17,"ion-button",33),e.NdJ("click",function(){const c=e.CHM(t).$implicit,u=e.oxw(2);return e.KtG(u.download(c))}),e._uU(18," Download Answer Sheet "),e.qZA(),e._UZ(19,"br"),e.TgZ(20,"ion-button",33),e.NdJ("click",function(){const c=e.CHM(t).$implicit,u=e.oxw(2);return e.KtG(u.uploadValuedAnswerSheert(c))}),e._uU(21," Upload Valued Answer Sheet "),e.qZA()()()}if(2&n){const t=s.$implicit;e.xp6(2),e.Q6J("ngIf","image"===t.type),e.xp6(1),e.Q6J("ngIf","audio"===t.type),e.xp6(1),e.Q6J("ngIf","video"===t.type),e.xp6(1),e.Q6J("ngIf","pdf"===t.type),e.xp6(1),e.Q6J("ngIf","txt"===t.type),e.xp6(1),e.Q6J("ngIf","docx"===t.type),e.xp6(1),e.Q6J("ngIf","xd"===t.type),e.xp6(1),e.Q6J("ngIf","xlsx"===t.type),e.xp6(1),e.Q6J("ngIf","ppt"===t.type),e.xp6(1),e.Q6J("ngIf","archive"===t.type),e.xp6(3),e.hij(" ",t.student_name," "),e.xp6(2),e.Oqu(t.name)}}function B(n,s){if(1&n&&(e.TgZ(0,"div")(1,"ion-list")(2,"ion-item-sliding"),e.YNc(3,j,22,12,"ion-item",25),e.TgZ(4,"ion-item-options",26)(5,"ion-item-option"),e._UZ(6,"ion-icon",27),e.qZA()()()()()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",t.answerSheets)}}function L(n,s){if(1&n&&e._UZ(0,"img",23),2&n){const t=e.oxw().$implicit;e.Q6J("src",t.file_url,e.LSH)}}function D(n,s){1&n&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",34)(2,"ion-icon",38),e.qZA())}function $(n,s){1&n&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",24),e.qZA())}function V(n,s){1&n&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",27),e.qZA())}function W(n,s){1&n&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",27),e.qZA())}function X(n,s){1&n&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",27),e.qZA())}function ee(n,s){1&n&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",27),e.qZA())}function te(n,s){1&n&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",27),e.qZA())}function ne(n,s){1&n&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",27),e.qZA())}function ie(n,s){1&n&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",27),e.qZA())}function oe(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"ion-col",18)(1,"ion-card",36),e.NdJ("click",function(){const c=e.CHM(t).$implicit,u=e.oxw(2);return e.KtG(u.download(c))}),e.TgZ(2,"div",37),e.YNc(3,L,1,1,"img",21),e.YNc(4,D,3,0,"div",7),e.YNc(5,$,2,0,"div",7),e.YNc(6,V,2,0,"div",7),e.YNc(7,W,2,0,"div",7),e.YNc(8,X,2,0,"div",7),e.YNc(9,ee,2,0,"div",7),e.YNc(10,te,2,0,"div",7),e.YNc(11,ne,2,0,"div",7),e.YNc(12,ie,2,0,"div",7),e.qZA(),e.TgZ(13,"div",22)(14,"ion-text"),e._uU(15),e.qZA()()()()}if(2&n){const t=s.$implicit;e.xp6(3),e.Q6J("ngIf","image"===t.type),e.xp6(1),e.Q6J("ngIf","audio"===t.type),e.xp6(1),e.Q6J("ngIf","video"===t.type),e.xp6(1),e.Q6J("ngIf","pdf"===t.type),e.xp6(1),e.Q6J("ngIf","txt"===t.type),e.xp6(1),e.Q6J("ngIf","docx"===t.type),e.xp6(1),e.Q6J("ngIf","xd"===t.type),e.xp6(1),e.Q6J("ngIf","xlsx"===t.type),e.xp6(1),e.Q6J("ngIf","ppt"===t.type),e.xp6(1),e.Q6J("ngIf","archive"===t.type),e.xp6(3),e.hij(" ",t.name," ")}}function se(n,s){if(1&n&&(e.TgZ(0,"div")(1,"ion-list",35)(2,"ion-row",16),e.YNc(3,oe,16,11,"ion-col",17),e.qZA()()()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",null==t.test?null:t.test.reviews)}}function ce(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"ion-footer")(1,"ion-toolbar")(2,"input",39,40),e.NdJ("change",function(o){e.CHM(t);const c=e.oxw();return e.KtG(c.fileSelected(o))}),e.qZA(),e.TgZ(4,"ion-button",41),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(3);return e.KtG(o.click())}),e.TgZ(5,"span",42),e._uU(6,"Upload summary of concept"),e.qZA()()()()}}function le(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"ion-footer")(1,"ion-toolbar")(2,"input",43,40),e.NdJ("change",function(o){e.CHM(t);const c=e.oxw();return e.KtG(c.fileSelected(o))}),e.qZA(),e.TgZ(4,"ion-button",41),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(3);return e.KtG(o.click())}),e.TgZ(5,"span",42),e._uU(6,"Upload Review"),e.qZA()()()()}}function ae(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"ion-footer")(1,"ion-toolbar")(2,"input",44,40),e.NdJ("change",function(o){e.CHM(t);const c=e.oxw();return e.KtG(c.uploadQuestionPaper(o))}),e.qZA(),e.TgZ(4,"ion-button",41),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(3);return e.KtG(o.click())}),e.TgZ(5,"span",42),e._uU(6,"Upload Question Paper"),e.qZA()()()()}}const re=[{path:"",component:(()=>{class n{constructor(t,i,o,c,u,g,v){this.cd=t,this.dataService=i,this.stateService=o,this.storageService=c,this.loadingCtrl=u,this.commonService=g,this.modalCtrl=v,this.test=null,this.segment="question-papers",this.schedule=null,this.questionPaper=null,this.isAudioPlaying=!0,this.zoom=1,this.answerSheets=[],this.courseId=this.stateService.getData("course")?.id,this.testId=this.stateService.getData("test")?.id,this.dataService.getTestById(this.testId).subscribe(T=>{this.test=T,this.cd.detectChanges()}),this.dataService.getQuestionPaperByTestId(this.testId).subscribe(T=>{this.questionPaper=T[0],this.zoom="question-papers"===this.segment?1:this.zoom,this.cd.detectChanges()}),this.dataService.getAnswerSheets(this.testId).subscribe(T=>{this.answerSheets=T,this.cd.detectChanges()})}ngOnInit(){}segmentChanged(t){console.log(t)}playAudio(t){console.log(this.audio.canPlayType),this.audio=new Audio(t)}playVideo(t){}download(t){(0,y.saveAs)(t.file_url,t.name)}uploadValuedAnswerSheert(t){this.modalCtrl.create({component:U.c,componentProps:{data:{...t,test:this.test}},backdropDismiss:!1}).then(i=>{i.present()},i=>{console.error("Error while opening modal:::::::::\n",i)})}uploadReview(t,i){var o=this;return(0,w.Z)(function*(){const c=t.target.files[0],u=yield o.loadingCtrl.create({message:"Uploading review"});u.present();const g={file:c,name:c.name},v=yield o.storageService.uploadReview(g);v&&v.file_url?(o.test.reviews&&o.test.reviews.length>0?o.test.reviews.push({file_url:v.file_url,type:o.commonService.getExtension(c.name),name:c.name,student_id:i.student_id,student_name:i.student_name}):o.test.reviews=[{file_url:v.file_url,type:o.commonService.getExtension(c.name),name:c.name,student_id:i.student_id,student_name:i.student_name}],yield o.dataService.updateTest(o.test),u.dismiss()):(console.error("Error while uploading file:::::::::::\n",v),u.dismiss())})()}uploadQuestionPaper(t){var i=this;return(0,w.Z)(function*(){const o=t.target.files[0],c=yield i.loadingCtrl.create({message:"Uploading question paper"});c.present();try{const u={file:o,name:i.courseId+"_G_"+i.testId+"_G_"+o.name,test_id:i.testId},g=yield i.storageService.pushFileToStorage(u,`uploads/question_papers/${u.name}`);if(g&&g.file_url){const v={file_url:g.file_url,type:i.commonService.getExtension(o.name),name:o.name,test_id:i.testId};i.commonService.isValidData(i.questionPaper?.id)&&(v.id=i.questionPaper.id),i.dataService.update(f.M.QUESTION_PAPERS,v).then(T=>{c.dismiss()},T=>{c.dismiss(),console.error("Error while uploading question paper:::::::::::\n",{...T}),("not-found"===T.code||"invalid-argument"===T.code)&&i.dataService.add(f.M.QUESTION_PAPERS,v).then(S=>{i.dataService.getScheduleByTestId(i.testId).subscribe(pe=>{i.questionPaper=pe[0]})},S=>{console.error("Error while adding question paper:::::::::::\n",S)})})}else console.error("Error while uploading question paper:::::::::::\n",g),c.dismiss()}catch(u){console.error("Exception while uploading question paper:::::::::::\n",u,{...u}),c.dismiss()}})()}fileSelected(t){var i=this;return(0,w.Z)(function*(){const o=t.target.files[0],c=yield i.loadingCtrl.create({message:"Uploading document"});c.present();const u={file:o,name:i.courseId+"_G_"+i.testId+"_G_"+o.name,test_id:i.testId},g=yield i.storageService.pushFileToStorage(u);g&&g.file_url?(i.test.file_urls&&i.test.file_urls.length>0?i.test.file_urls.push({file_url:g.file_url,type:i.commonService.getExtension(o.name),name:o.name}):i.test.file_urls=[{file_url:g.file_url,type:i.commonService.getExtension(o.name),name:o.name}],yield i.dataService.updateTest(i.test),c.dismiss()):(console.error("Error while uploading file:::::::::::\n",g),c.dismiss())})()}pageRendered(t){}zoomIn(){this.zoom=0===this.zoom?1:this.zoom+1}zoomOut(){this.zoom=this.zoom-1,0===this.zoom&&(this.zoom=1)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(l.D),e.Y36(r.b),e.Y36(m.V),e.Y36(a.HT),e.Y36(_.v),e.Y36(a.IN))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-test"]],decls:26,vars:10,consts:[["slot","start"],["defaultHref","gurukul/courses/tests"],["value","all","color","medium","scrollable","true","mode","md",3,"ngModel","ngModelChange"],["value","question-papers"],["value","summary-of-concepts"],["value","answers"],["class","w-100 h-100 position-relative",4,"ngIf"],[4,"ngIf"],[1,"w-100","h-100","position-relative"],[1,"size-14","fw-bold","m-0","p-3","ion-border",2,"background","var(--ion-color-light)"],[1,"d-block","w-100",2,"height","calc(100% - 53px)","background","var(--ion-color-medium)",3,"src","zoom","render-text","original-size","page","page-rendered"],["class","position-absolute zoom-btns rounded-pill shadow",4,"ngIf"],[1,"position-absolute","zoom-btns","rounded-pill","shadow"],[3,"click"],["slot","icon-only","name","add-circle-outline",1,"size-48"],["slot","icon-only","name","remove-circle-outline",1,"size-48"],[1,"ion-margin-top"],["size","6","size-lg","4","size-xl","3","class","ion-margin-bottom",4,"ngFor","ngForOf"],["size","6","size-lg","4","size-xl","3",1,"ion-margin-bottom"],["color","white",1,"h-100","ion-no-margin","file"],[1,"file-type","d-grid-center",3,"click"],["load","lazy",3,"src",4,"ngIf"],[1,"file-name"],["load","lazy",3,"src"],["color","medium","name","film-outline"],[4,"ngFor","ngForOf"],["side","end"],["color","medium","name","document-text-outline"],["slot","start","color","medium",1,"d-grid-center"],["color","medium","name","play-circle-outline",4,"ngIf"],["color","medium","name","film-outline",4,"ngIf"],["color","medium","name","document-text-outline",4,"ngIf"],[1,"ion-text-wrap"],["for","uploadReview",1,"ion-no-margin",3,"click"],["color","medium","name","play-circle-outline"],["lines","none"],["color","white",1,"h-100","ion-no-margin","file",3,"click"],[1,"file-type","d-grid-center"],["color","medium","name","pause-circle-outline"],["type","file","id","fileInput","accept","video/mp4,video/x-m4v,video/*",3,"change"],["f",""],["for","fileInput","expand","full","size","large",1,"ion-no-margin",3,"click"],[2,"font-size","14px"],["type","file","id","fileInput",3,"change"],["type","file","id","fileInput","accept","application/pdf",3,"change"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e._UZ(3,"ion-back-button",1),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5),e.qZA()(),e.TgZ(6,"ion-toolbar")(7,"ion-segment",2),e.NdJ("ngModelChange",function(c){return i.segment=c}),e.TgZ(8,"ion-segment-button",3)(9,"ion-label"),e._uU(10,"Question Papers"),e.qZA()(),e.TgZ(11,"ion-segment-button",4)(12,"ion-label"),e._uU(13,"Summary of Concepts"),e.qZA()(),e.TgZ(14,"ion-segment-button",5)(15,"ion-label"),e._uU(16,"Answer Sheets"),e.qZA()()()()(),e.TgZ(17,"ion-content"),e.YNc(18,J,5,6,"div",6),e.YNc(19,C,5,6,"div",6),e.YNc(20,E,3,1,"div",7),e.YNc(21,B,7,1,"div",7),e.YNc(22,se,4,1,"div",7),e.qZA(),e.YNc(23,ce,7,0,"ion-footer",7),e.YNc(24,le,7,0,"ion-footer",7),e.YNc(25,ae,7,0,"ion-footer",7)),2&t&&(e.xp6(5),e.Oqu((null==i.test?null:i.test.title)||"Test"),e.xp6(2),e.Q6J("ngModel",i.segment),e.xp6(11),e.Q6J("ngIf","schedule"===i.segment),e.xp6(1),e.Q6J("ngIf","question-papers"===i.segment),e.xp6(1),e.Q6J("ngIf","summary-of-concepts"===i.segment),e.xp6(1),e.Q6J("ngIf","answers"===i.segment),e.xp6(1),e.Q6J("ngIf","review-comments"===i.segment),e.xp6(1),e.Q6J("ngIf","summary-of-concepts"===i.segment),e.xp6(1),e.Q6J("ngIf","review-comments"===i.segment),e.xp6(1),e.Q6J("ngIf","question-papers"===i.segment))},dependencies:[P.sg,P.O5,x.JJ,x.On,a.BJ,a.oU,a.YG,a.Sm,a.PM,a.wI,a.W2,a.fr,a.Gu,a.gu,a.Ie,a.u8,a.IK,a.td,a.Q$,a.q_,a.Nd,a.cJ,a.GO,a.yW,a.sr,a.wd,a.QI,a.cs,p.rQ],styles:["#fileInput[_ngcontent-%COMP%], #uploadReview[_ngcontent-%COMP%]{position:absolute;opacity:0}ion-avatar[_ngcontent-%COMP%]{background:var(--ion-color-light)}.zoom-btns[_ngcontent-%COMP%]{bottom:20px;right:20px;z-index:99;background:var(--ion-color-light)}.file[_ngcontent-%COMP%]   .file-type[_ngcontent-%COMP%]{height:120px;background-color:var(--ion-color-light)}.file[_ngcontent-%COMP%]   .file-type[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:120px}.file[_ngcontent-%COMP%]   .file-type[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:42px}.file[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{padding:8px;background-color:var(--ion-color-white);position:relative;z-index:9}"]}),n})()}];let _e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[h.Bz.forChild(re),h.Bz]}),n})();var de=d(6665);let ue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[P.ez,x.u5,x.UX,a.Pc,_e,p.xC,de.AnswerSheetsPageModule]}),n})()},4327:function(M,I){var x;void 0!==(x=function(){"use strict";function h(l,r,m){var _=new XMLHttpRequest;_.open("GET",l),_.responseType="blob",_.onload=function(){e(_.response,r,m)},_.onerror=function(){console.error("could not download file")},_.send()}function w(l){var r=new XMLHttpRequest;r.open("HEAD",l,!1);try{r.send()}catch{}return 200<=r.status&&299>=r.status}function y(l){try{l.dispatchEvent(new MouseEvent("click"))}catch{var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),l.dispatchEvent(r)}}var f="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,U=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),e=f.saveAs||("object"!=typeof window||window!==f?function(){}:"download"in HTMLAnchorElement.prototype&&!U?function(l,r,m){var _=f.URL||f.webkitURL,p=document.createElement("a");p.download=r=r||l.name||"download",p.rel="noopener","string"==typeof l?(p.href=l,p.origin===location.origin?y(p):w(p.href)?h(l,r,m):y(p,p.target="_blank")):(p.href=_.createObjectURL(l),setTimeout(function(){_.revokeObjectURL(p.href)},4e4),setTimeout(function(){y(p)},0))}:"msSaveOrOpenBlob"in navigator?function(l,r,m){if(r=r||l.name||"download","string"!=typeof l)navigator.msSaveOrOpenBlob(function a(l,r){return typeof r>"u"?r={autoBom:!1}:"object"!=typeof r&&(console.warn("Deprecated: Expected third argument to be a object"),r={autoBom:!r}),r.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\ufeff",l],{type:l.type}):l}(l,m),r);else if(w(l))h(l,r,m);else{var _=document.createElement("a");_.href=l,_.target="_blank",setTimeout(function(){y(_)})}}:function(l,r,m,_){if((_=_||open("","_blank"))&&(_.document.title=_.document.body.innerText="downloading..."),"string"==typeof l)return h(l,r,m);var p="application/octet-stream"===l.type,N=/constructor/i.test(f.HTMLElement)||f.safari,J=/CriOS\/[\d]+/.test(navigator.userAgent);if((J||p&&N||U)&&typeof FileReader<"u"){var A=new FileReader;A.onloadend=function(){var Z=A.result;Z=J?Z:Z.replace(/^data:[^;]*;/,"data:attachment/file;"),_?_.location.href=Z:location=Z,_=null},A.readAsDataURL(l)}else{var C=f.URL||f.webkitURL,b=C.createObjectURL(l);_?_.location=b:location.href=b,_=null,setTimeout(function(){C.revokeObjectURL(b)},4e4)}});f.saveAs=e.saveAs=e,M.exports=e}.apply(I,[]))&&(M.exports=x)}}]);