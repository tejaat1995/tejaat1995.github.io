"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6244],{744:(Z,p,a)=>{a.d(p,{M:()=>t});let t=(()=>{class c{}return c.COURSES="courses",c.ORDERS="orders",c.STUDENTS="students",c.TESTS="tests",c.MEDIA="media",c.SCHEDULES="schedules",c.QUESTION_PAPERS="question_papers",c.VALUED_ANSWER_SHEET="valued_answer_sheets",c.ANSWER_SHEET="answer_sheets",c.STUDENT_ACTIVITY="student_activity",c.NOTIFICATIONS="notifications",c.CHAT_ROOM="chat_room",c.MESSAGES="messages",c})()},6244:(Z,p,a)=>{a.r(p),a.d(p,{TestPageModule:()=>de});var t=a(6895),c=a(433),d=a(2346),v=a(1619),f=a(5861),l=a(4327),e=a(8274),o=a(9244),r=a(6857),m=a(6578),S=a(9763),I=a(529);function y(i,s){if(1&i&&e._UZ(0,"img",20),2&i){const n=e.oxw().$implicit;e.Q6J("src",n.file_url,e.LSH)}}function P(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",21)(2,"ion-icon",22),e.qZA())}function J(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",23),e.qZA())}function A(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",24),e.qZA())}function C(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",24),e.qZA())}function E(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",24),e.qZA())}function U(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",24),e.qZA())}function R(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",24),e.qZA())}function M(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",24),e.qZA())}function O(i,s){if(1&i){const n=e.EpF();e.TgZ(0,"ion-col",15)(1,"ion-card",16),e.NdJ("click",function(){const g=e.CHM(n).$implicit,T=e.oxw(2);return e.KtG(T.download(g))}),e.TgZ(2,"div",17),e.YNc(3,y,1,1,"img",18),e.YNc(4,P,3,0,"div",11),e.YNc(5,J,2,0,"div",11),e.YNc(6,A,2,0,"div",11),e.YNc(7,C,2,0,"div",11),e.YNc(8,E,2,0,"div",11),e.YNc(9,U,2,0,"div",11),e.YNc(10,R,2,0,"div",11),e.YNc(11,M,2,0,"div",11),e.qZA(),e.TgZ(12,"div",19)(13,"ion-text"),e._uU(14),e.qZA()()()()}if(2&i){const n=s.$implicit;e.xp6(3),e.Q6J("ngIf","image"===n.type),e.xp6(1),e.Q6J("ngIf","audio"===n.type),e.xp6(1),e.Q6J("ngIf","video"===n.type),e.xp6(1),e.Q6J("ngIf","pdf"===n.type),e.xp6(1),e.Q6J("ngIf","txt"===n.type),e.xp6(1),e.Q6J("ngIf","docx"===n.type),e.xp6(1),e.Q6J("ngIf","xlsx"===n.type),e.xp6(1),e.Q6J("ngIf","ppt"===n.type),e.xp6(1),e.Q6J("ngIf","archive"===n.type),e.xp6(3),e.hij(" ",n.name," ")}}function Q(i,s){if(1&i&&(e.TgZ(0,"div")(1,"ion-list",12)(2,"ion-row",13),e.YNc(3,O,15,10,"ion-col",14),e.qZA()()()),2&i){const n=e.oxw();e.xp6(3),e.Q6J("ngForOf",null==n.test?null:n.test.file_urls)}}function w(i,s){if(1&i&&e._UZ(0,"img",20),2&i){const n=e.oxw().$implicit;e.Q6J("src",n.file_url,e.LSH)}}function N(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",21)(2,"ion-icon",22),e.qZA())}function B(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",23),e.qZA())}function Y(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",24),e.qZA())}function F(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",24),e.qZA())}function D(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",24),e.qZA())}function q(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",24),e.qZA())}function L(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",24),e.qZA())}function b(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",24),e.qZA())}function H(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",24),e.qZA())}function $(i,s){if(1&i){const n=e.EpF();e.TgZ(0,"ion-col",15)(1,"ion-card",16),e.NdJ("click",function(){const g=e.CHM(n).$implicit,T=e.oxw(2);return e.KtG(T.download(g))}),e.TgZ(2,"div",17),e.YNc(3,w,1,1,"img",18),e.YNc(4,N,3,0,"div",11),e.YNc(5,B,2,0,"div",11),e.YNc(6,Y,2,0,"div",11),e.YNc(7,F,2,0,"div",11),e.YNc(8,D,2,0,"div",11),e.YNc(9,q,2,0,"div",11),e.YNc(10,L,2,0,"div",11),e.YNc(11,b,2,0,"div",11),e.YNc(12,H,2,0,"div",11),e.qZA(),e.TgZ(13,"div",19)(14,"ion-text"),e._uU(15),e.qZA()()()()}if(2&i){const n=s.$implicit;e.xp6(3),e.Q6J("ngIf","image"===n.type),e.xp6(1),e.Q6J("ngIf","audio"===n.type),e.xp6(1),e.Q6J("ngIf","video"===n.type),e.xp6(1),e.Q6J("ngIf","pdf"===n.type),e.xp6(1),e.Q6J("ngIf","txt"===n.type),e.xp6(1),e.Q6J("ngIf","docx"===n.type),e.xp6(1),e.Q6J("ngIf","xd"===n.type),e.xp6(1),e.Q6J("ngIf","xlsx"===n.type),e.xp6(1),e.Q6J("ngIf","ppt"===n.type),e.xp6(1),e.Q6J("ngIf","archive"===n.type),e.xp6(3),e.hij(" ",n.name," ")}}function z(i,s){if(1&i&&(e.TgZ(0,"div")(1,"ion-list",12)(2,"ion-row",13),e.YNc(3,$,16,11,"ion-col",14),e.qZA()()()),2&i){const n=e.oxw();e.xp6(3),e.Q6J("ngForOf",null==n.test?null:n.test.answers)}}function G(i,s){if(1&i&&e._UZ(0,"img",20),2&i){const n=e.oxw().$implicit;e.Q6J("src",n.file_url,e.LSH)}}function W(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",21)(2,"ion-icon",22),e.qZA())}function K(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",23),e.qZA())}function j(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",24),e.qZA())}function k(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",24),e.qZA())}function V(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",24),e.qZA())}function X(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",24),e.qZA())}function ee(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",24),e.qZA())}function te(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",24),e.qZA())}function ie(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"ion-icon",24),e.qZA())}function ne(i,s){if(1&i){const n=e.EpF();e.TgZ(0,"ion-col",15)(1,"ion-card",16),e.NdJ("click",function(){const g=e.CHM(n).$implicit,T=e.oxw(2);return e.KtG(T.download(g))}),e.TgZ(2,"div",17),e.YNc(3,G,1,1,"img",18),e.YNc(4,W,3,0,"div",11),e.YNc(5,K,2,0,"div",11),e.YNc(6,j,2,0,"div",11),e.YNc(7,k,2,0,"div",11),e.YNc(8,V,2,0,"div",11),e.YNc(9,X,2,0,"div",11),e.YNc(10,ee,2,0,"div",11),e.YNc(11,te,2,0,"div",11),e.YNc(12,ie,2,0,"div",11),e.qZA(),e.TgZ(13,"div",19)(14,"ion-text"),e._uU(15),e.qZA()()()()}if(2&i){const n=s.$implicit;e.xp6(3),e.Q6J("ngIf","image"===n.type),e.xp6(1),e.Q6J("ngIf","audio"===n.type),e.xp6(1),e.Q6J("ngIf","video"===n.type),e.xp6(1),e.Q6J("ngIf","pdf"===n.type),e.xp6(1),e.Q6J("ngIf","txt"===n.type),e.xp6(1),e.Q6J("ngIf","docx"===n.type),e.xp6(1),e.Q6J("ngIf","xd"===n.type),e.xp6(1),e.Q6J("ngIf","xlsx"===n.type),e.xp6(1),e.Q6J("ngIf","ppt"===n.type),e.xp6(1),e.Q6J("ngIf","archive"===n.type),e.xp6(3),e.hij(" ",n.name," ")}}function oe(i,s){if(1&i&&(e.TgZ(0,"div")(1,"ion-list",12)(2,"ion-row",13),e.YNc(3,ne,16,11,"ion-col",14),e.qZA()()()),2&i){const n=e.oxw();e.xp6(3),e.Q6J("ngForOf",null==n.test?null:n.test.reviews)}}function se(i,s){if(1&i){const n=e.EpF();e.TgZ(0,"ion-footer")(1,"ion-toolbar",1)(2,"input",25,26),e.NdJ("change",function(u){e.CHM(n);const g=e.oxw();return e.KtG(g.fileSelected(u))}),e.qZA(),e.TgZ(4,"ion-button",27),e.NdJ("click",function(){e.CHM(n);const u=e.MAs(3);return e.KtG(u.click())}),e.TgZ(5,"span",28),e._uU(6,"Upload Answer"),e.qZA()()()()}}const re=[{path:"",component:(()=>{class i{constructor(n,_,u,g,T,h,_e){this.cd=n,this.dataService=_,this.stateService=u,this.storageService=g,this.loadingCtrl=T,this.commonService=h,this.http=_e,this.test=null,this.segment="content",this.courseId=this.stateService.getData("course")?.id||"",this.testId=this.stateService.getData("test")?.id||"",this.dataService.getTestById(this.testId).subscribe(x=>{this.test=x,this.cd.detectChanges()}),this.dataService.getStudentById(localStorage.getItem("student_id")||"").subscribe(x=>{this.student=x[0],localStorage.setItem("student",JSON.stringify(this.student)),this.cd.detectChanges()})}ngOnInit(){}segmentChanged(n){console.log(n)}fileSelected(n){var _=this;return(0,f.Z)(function*(){const u=n.target.files[0],g=yield _.loadingCtrl.create({message:"Uploading answer"});g.present();const T={file:u,name:u.name},h=yield _.storageService.uploadAnswer(T);h&&h.file_url?(_.test.answers&&_.test.answers.length>0?_.test.answers.push({file_url:h.file_url,type:_.commonService.getExtension(u.name),name:u.name,student_id:_.student.id,student_name:_.student.first_name+" "+_.student.last_name}):_.test.answers=[{file_url:h.file_url,type:_.commonService.getExtension(u.name),name:u.name,student_id:_.student.id,student_name:_.student.first_name+" "+_.student.last_name}],yield _.dataService.updateTest(_.test),g.dismiss()):(console.error("Error while uploading file:::::::::::\n",h),g.dismiss())})()}download(n){(0,l.saveAs)(n.file_url,n.name)}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(e.sBO),e.Y36(o.D),e.Y36(r.b),e.Y36(m.V),e.Y36(d.HT),e.Y36(S.v),e.Y36(I.eN))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-test"]],decls:23,vars:8,consts:[[1,"ion-no-border",3,"translucent"],["color","white"],["slot","start"],["icon","chevron-back-outline","defaultHref","purchased-tests"],["value","all","color","medium","scrollable","true","mode","md",3,"ngModel","ngModelChange","ionChange"],["value","content"],["value","answers"],["value","review-comments"],["color","white",1,"ion-padding"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngIf"],["lines","none","color","white"],[1,"ion-margin-top"],["size","6","size-lg","4","size-xl","3","class","ion-margin-bottom",4,"ngFor","ngForOf"],["size","6","size-lg","4","size-xl","3",1,"ion-margin-bottom"],["color","white",1,"h-100","ion-no-margin","file",3,"click"],[1,"file-type","d-grid-center"],["load","lazy",3,"src",4,"ngIf"],[1,"file-name"],["load","lazy",3,"src"],["color","medium","name","play-circle-outline"],["color","medium","name","pause-circle-outline"],["color","medium","name","film-outline"],["color","medium","name","document-text-outline"],["type","file","id","fileInput",3,"change"],["f",""],["for","fileInput","expand","full","size","large",1,"ion-no-margin",3,"click"],[2,"font-size","14px"]],template:function(n,_){1&n&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),e._UZ(3,"ion-back-button",3),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5),e.qZA()(),e.TgZ(6,"ion-toolbar",1)(7,"ion-segment",4),e.NdJ("ngModelChange",function(g){return _.segment=g})("ionChange",function(g){return _.segmentChanged(g)}),e.TgZ(8,"ion-segment-button",5)(9,"ion-label"),e._uU(10,"Content"),e.qZA()(),e.TgZ(11,"ion-segment-button",6)(12,"ion-label"),e._uU(13,"Answers"),e.qZA()(),e.TgZ(14,"ion-segment-button",7)(15,"ion-label"),e._uU(16,"Review Comments"),e.qZA()()()()(),e.TgZ(17,"ion-content",8)(18,"div",9),e.YNc(19,Q,4,1,"div",10),e.YNc(20,z,4,1,"div",10),e.YNc(21,oe,4,1,"div",10),e.qZA()(),e.YNc(22,se,7,0,"ion-footer",11)),2&n&&(e.Q6J("translucent",!0),e.xp6(5),e.hij(" ",(null==_.test?null:_.test.title)||"Test"," "),e.xp6(2),e.Q6J("ngModel",_.segment),e.xp6(11),e.Q6J("ngSwitch",_.segment),e.xp6(1),e.Q6J("ngSwitchCase","content"),e.xp6(1),e.Q6J("ngSwitchCase","answers"),e.xp6(1),e.Q6J("ngSwitchCase","review-comments"),e.xp6(1),e.Q6J("ngIf","answers"===_.segment))},dependencies:[t.sg,t.O5,t.RF,t.n9,c.JJ,c.On,d.oU,d.YG,d.Sm,d.PM,d.wI,d.W2,d.fr,d.Gu,d.gu,d.Q$,d.q_,d.Nd,d.cJ,d.GO,d.yW,d.sr,d.wd,d.QI,d.cs],styles:["input[type=file][_ngcontent-%COMP%]{position:absolute;opacity:0}.file[_ngcontent-%COMP%]   .file-type[_ngcontent-%COMP%]{height:120px;background-color:var(--ion-color-light)}.file[_ngcontent-%COMP%]   .file-type[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:120px}.file[_ngcontent-%COMP%]   .file-type[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:42px}.file[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{padding:8px;background-color:var(--ion-color-white);position:relative;z-index:9}"]}),i})()}];let ce=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[v.Bz.forChild(re),v.Bz]}),i})(),de=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[t.ez,c.u5,d.Pc,ce]}),i})()},9763:(Z,p,a)=>{a.d(p,{v:()=>d});var t=a(8274),c=a(2346);let d=(()=>{class v{constructor(l,e){this.toastCtrl=l,this.navCtrl=e}presentToast(l="Please wait...",e="primary",o=3e3){this.toastCtrl.create({cssClass:"",color:e,duration:o,message:l}).then(r=>{r.present()},r=>{console.error("Error while toasting message",r)})}isValidData(l){return null!=l&&""!==l&&l!==[]&&0!==Object.keys(l).length}getExtension(l){let e=l.split(/[#?]/)[0].split(".").pop().trim();return["jpg","jpeg","png","gif","tiff","svg"].includes(e.toLowerCase())?e="image":["mp3","m4a","acc","ogg","wma","flac","alac"].includes(e.toLowerCase())?e="audio":["3gp","mp4","mov","wmv","flv","avi","avchd","webm","mkv"].includes(e.toLowerCase())?e="video":["zip","rar"].includes(e.toLowerCase())&&(e="archive"),e.toLowerCase()}navigateForward(l,e={}){this.navCtrl.navigateForward(l,{state:{...e}})}navigateBack(l,e={}){this.navCtrl.navigateBack(l,{state:{...e}})}navigateRoot(l,e={}){this.navCtrl.setDirection("root"),this.navCtrl.navigateRoot(l,{state:{...e}})}}return v.\u0275fac=function(l){return new(l||v)(t.LFG(c.yF),t.LFG(c.SH))},v.\u0275prov=t.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},9244:(Z,p,a)=>{a.d(p,{D:()=>v});var t=a(3725),c=a(744),d=a(8274);let v=(()=>{class f{constructor(e){this.firestore=e}get(e){const o=(0,t.hJ)(this.firestore,e),r=(0,t.IO)(o,(0,t.Xo)("created_at","asc"));return(0,t.BS)(r,{idField:"id"})}getById(e,o){const r=(0,t.JU)(this.firestore,e+`/${o}`);return(0,t._1)(r,{idField:"id"})}getByUID(e,o){console.log(e,o);const r=(0,t.hJ)(this.firestore,e),m=(0,t.IO)(r,(0,t.ar)("uid","==",o),(0,t.Xo)("created_at","asc"));return(0,t.BS)(m,{idField:"id"})}add(e,o){const r=(0,t.hJ)(this.firestore,e);return(0,t.ET)(r,{...o,created_at:(0,t.Bt)()})}delete(e,o){const r=(0,t.JU)(this.firestore,e+`/${o.id}`);return e===c.M.MEDIA||e===c.M.MEDIA?(0,t.r7)(r,{media:(0,t.Ab)(o?.media),updated_at:(0,t.Bt)()}):(0,t.oe)(r)}update(e,o){const r=(0,t.JU)(this.firestore,e+`/${o.id}`);return(0,t.r7)(r,e===c.M.MEDIA||e===c.M.MEDIA?{media:(0,t.vr)(...o?.media),updated_at:(0,t.Bt)()}:{...o,updated_at:(0,t.Bt)()})}getCourses(){const e=(0,t.hJ)(this.firestore,c.M.COURSES),o=(0,t.IO)(e,(0,t.ar)("status","==","ACTIVE"));return(0,t.BS)(o,{idField:"id"})}getCourseById(e){const o=(0,t.JU)(this.firestore,`courses/${e}`);return(0,t._1)(o,{idField:"id"})}getTests(e){const o=(0,t.hJ)(this.firestore,"tests"),r=(0,t.IO)(o,(0,t.ar)("course_id","==",e||""));return(0,t.BS)(r,{idField:"id"})}getTestById(e){const o=(0,t.JU)(this.firestore,`tests/${e}`);return(0,t._1)(o,{idField:"id"})}getValuedAnswerSheetByTestId(e,o){const r=(0,t.hJ)(this.firestore,c.M.VALUED_ANSWER_SHEET),m=(0,t.IO)(r,(0,t.ar)("test_id","==",e||""),(0,t.ar)("student_id","==",o||""));return(0,t.BS)(m,{idField:"id"})}getRemarksByTestId(e,o){const r=(0,t.hJ)(this.firestore,c.M.STUDENT_ACTIVITY),m=(0,t.IO)(r,(0,t.ar)("test_id","==",e||""),(0,t.ar)("student_id","==",o||""));return(0,t.BS)(m,{idField:"id"})}getAnswerSheetByTestId(e){const o=(0,t.hJ)(this.firestore,c.M.ANSWER_SHEET),r=(0,t.IO)(o,(0,t.ar)("test_id","==",e||""));return(0,t.BS)(r,{idField:"id"})}getScheduleByCourseId(e){const o=(0,t.hJ)(this.firestore,c.M.SCHEDULES),r=(0,t.IO)(o,(0,t.ar)("course_id","==",e));return(0,t.BS)(r,{idField:"id"})}getScheduleByTestId(e){const o=(0,t.hJ)(this.firestore,c.M.SCHEDULES),r=(0,t.IO)(o,(0,t.ar)("test_id","==",e||""));return(0,t.BS)(r,{idField:"id"})}getQuestionPaperByTestId(e){const o=(0,t.hJ)(this.firestore,c.M.QUESTION_PAPERS),r=(0,t.IO)(o,(0,t.ar)("test_id","==",e||""));return(0,t.BS)(r,{idField:"id"})}updateTest(e){const o=(0,t.JU)(this.firestore,`tests/${e.id}`);return(0,t.r7)(o,{...e,updated_at:(0,t.Bt)()})}getOrdersList(){const e=(0,t.hJ)(this.firestore,"orders"),o=(0,t.IO)(e,(0,t.ar)("student_id","==",localStorage.getItem("uid")||""));return(0,t.BS)(o,{idField:"id"})}getPurchasedOrders(){const e=(0,t.hJ)(this.firestore,"orders"),o=(0,t.IO)(e,(0,t.ar)("student_id","==",localStorage.getItem("student_id")||""),(0,t.ar)("status","==",!0));return(0,t.BS)(o,{idField:"id"})}getOrders(e){const o=(0,t.hJ)(this.firestore,"orders"),r=(0,t.IO)(o,(0,t.ar)("course_id","==",e.course_id||""),(0,t.ar)("student_id","==",e.student_id||""));return(0,t.PL)(r)}addOrder(e){const o=(0,t.hJ)(this.firestore,"orders");return(0,t.ET)(o,{...e,created_at:(0,t.Bt)()})}updateOrder(e){const o=(0,t.JU)(this.firestore,`orders/${e.id}`);return(0,t.r7)(o,{...e,updated_at:(0,t.Bt)()})}getStudentById(e){const o=(0,t.JU)(this.firestore,`students/${e}`);return(0,t._1)(o,{idField:"id"})}getStudent(e){const o=(0,t.hJ)(this.firestore,"students"),r=(0,t.IO)(o,(0,t.ar)("email","==",e.email||""),(0,t.ar)("password","==",e.password||""));return(0,t.BS)(r,{idField:"id"})}checkStudent(e){const o=(0,t.hJ)(this.firestore,c.M.STUDENTS),r=(0,t.IO)(o,(0,t.ar)("email","==",e));return(0,t.BS)(r,{idField:"id"})}addStudent(e){const o=(0,t.hJ)(this.firestore,"students");return(0,t.ET)(o,{...e,created_at:(0,t.Bt)()})}deleteStudent(e){const o=(0,t.JU)(this.firestore,`students/${e.id}`);return(0,t.oe)(o)}updateStudent(e){const o=(0,t.JU)(this.firestore,`students/${e.id}`);return(0,t.r7)(o,{...e,updated_at:(0,t.Bt)()})}getChat(e){const o=(0,t.hJ)(this.firestore,c.M.CHAT_ROOM),r=(0,t.IO)(o,(0,t.ar)("chat_id","==",e));return(0,t.BS)(r,{idField:"id"})}getMessages(e){const o=(0,t.hJ)(this.firestore,c.M.MESSAGES),r=(0,t.IO)(o,(0,t.ar)("chat_id","==",e),(0,t.Xo)("created_at","asc"));return(0,t.BS)(r,{idField:"id"})}}return f.\u0275fac=function(e){return new(e||f)(d.LFG(t.gg))},f.\u0275prov=d.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},6857:(Z,p,a)=>{a.d(p,{b:()=>c});var t=a(8274);let c=(()=>{class d{constructor(){this._data={}}getData(f){return this._data[f]}setData(f,l){this._data[f]=l}}return d.\u0275fac=function(f){return new(f||d)},d.\u0275prov=t.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()}}]);