"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3131],{744:(y,h,a)=>{a.d(h,{M:()=>e});let e=(()=>{class n{}return n.COURSES="courses",n.ORDERS="orders",n.STUDENTS="students",n.TESTS="tests",n.MEDIA="media",n.SCHEDULES="schedules",n.QUESTION_PAPERS="question_papers",n.VALUED_ANSWER_SHEET="valued_answer_sheets",n.ANSWER_SHEET="answer_sheets",n.STUDENT_ACTIVITY="student_activity",n.NOTIFICATIONS="notifications",n})()},3131:(y,h,a)=>{a.r(h),a.d(h,{PaymentPageModule:()=>P});var e=a(6895),n=a(433),i=a(2346),l=a(1619),c=a(5861),t=a(8274),r=a(9244),o=a(6857),s=a(6578),p=a(9763);function R(d,m){if(1&d){const u=t.EpF();t.TgZ(0,"ion-item",12)(1,"ion-label")(2,"ion-text"),t._uU(3),t.qZA()(),t.TgZ(4,"ion-buttons",13),t.NdJ("click",function(){t.CHM(u);const _=t.oxw();return t.KtG(_.copyURL())}),t.TgZ(5,"ion-button"),t._UZ(6,"ion-icon",14),t.qZA()()()}if(2&d){const u=t.oxw();t.xp6(3),t.hij(" ",u.uploadedURL||1234," ")}}const E=[{path:"",component:(()=>{class d{constructor(u,f,_,S,g){this.dataService=u,this.stateService=f,this.storageService=_,this.loadingCtrl=S,this.commonService=g}ngOnInit(){}copyURL(){navigator.clipboard.writeText(this.uploadedURL)}fileSelected(u){var f=this;return(0,c.Z)(function*(){const _=u.target.files[0],S=yield f.loadingCtrl.create({message:"Uploading payment info"});S.present();const g=yield f.storageService.pushFileToStorage({file:_,name:_.name});g&&g.file_url?(f.uploadedURL=g.file_url,yield f.dataService.updateOrder({payment_id:g.file_url,id:localStorage.getItem("order_id")||""}).then(v=>{f.commonService.presentToast("Updated the payment status.","primary")},v=>{console.error("Error while adding the test:::::\n",v),f.commonService.presentToast("Unable to update order","danger")}),S.dismiss()):(console.error("Error while uploading file:::::::::::\n",g),S.dismiss())})()}}return d.\u0275fac=function(u){return new(u||d)(t.Y36(r.D),t.Y36(o.b),t.Y36(s.V),t.Y36(i.HT),t.Y36(p.v))},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-payment"]],decls:35,vars:2,consts:[[1,"ion-no-border",3,"translucent"],["color","white"],["slot","start"],["icon","chevron-back-outline","defaultHref","tests"],["color","white",1,"ion-padding"],["slot","end","color","danger"],["color","danger"],["color","white","lines","none","color","light","class","url",4,"ngIf"],["type","file","id","fileInput",3,"change"],["f",""],["for","fileInput","expand","full","size","large",1,"ion-no-margin",3,"click"],[2,"font-size","14px"],["color","white","lines","none","color","light",1,"url"],["slot","end",3,"click"],["slot","icon-only","color","dark","name","copy-outline"]],template:function(u,f){if(1&u){const _=t.EpF();t.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),t._UZ(3,"ion-back-button",3),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5," Payment "),t.qZA()()(),t.TgZ(6,"ion-content",4)(7,"ion-item")(8,"ion-label"),t._uU(9,"UPI"),t.qZA(),t.TgZ(10,"ion-note",5),t._uU(11,"XXXXXX"),t.qZA()(),t.TgZ(12,"ion-item")(13,"ion-label")(14,"h2"),t._uU(15,"Net Banking"),t.qZA(),t.TgZ(16,"ion-note",6),t._uU(17," XXXXXXXXXXXX"),t._UZ(18,"br"),t._uU(19," XXXXXX"),t._UZ(20,"br"),t._uU(21," XXXXXXXX "),t.qZA()()(),t.TgZ(22,"ion-item")(23,"ion-label"),t._uU(24,"Contact US"),t.qZA(),t.TgZ(25,"ion-note",5),t._uU(26,"+91-9988776655"),t.qZA()(),t.YNc(27,R,7,1,"ion-item",7),t.qZA(),t.TgZ(28,"ion-footer")(29,"ion-toolbar",1)(30,"input",8,9),t.NdJ("change",function(g){return f.fileSelected(g)}),t.qZA(),t.TgZ(32,"ion-button",10),t.NdJ("click",function(){t.CHM(_);const g=t.MAs(31);return t.KtG(g.click())}),t.TgZ(33,"span",11),t._uU(34,"Upload payment acknowledgement"),t.qZA()()()()}2&u&&(t.Q6J("translucent",!0),t.xp6(27),t.Q6J("ngIf",f.uploadedURL))},dependencies:[e.O5,i.oU,i.YG,i.Sm,i.W2,i.fr,i.Gu,i.gu,i.Ie,i.Q$,i.uN,i.yW,i.sr,i.wd,i.cs],styles:[".url[_ngcontent-%COMP%]{padding:12px;--border-radius: 5px}input[type=file][_ngcontent-%COMP%]{position:absolute;opacity:0}"]}),d})()}];let T=(()=>{class d{}return d.\u0275fac=function(u){return new(u||d)},d.\u0275mod=t.oAB({type:d}),d.\u0275inj=t.cJS({imports:[l.Bz.forChild(E),l.Bz]}),d})(),P=(()=>{class d{}return d.\u0275fac=function(u){return new(u||d)},d.\u0275mod=t.oAB({type:d}),d.\u0275inj=t.cJS({imports:[e.ez,n.u5,i.Pc,T]}),d})()},9763:(y,h,a)=>{a.d(h,{v:()=>i});var e=a(8274),n=a(2346);let i=(()=>{class l{constructor(t,r){this.toastCtrl=t,this.navCtrl=r}presentToast(t="Please wait...",r="primary",o=3e3){this.toastCtrl.create({cssClass:"",color:r,duration:o,message:t}).then(s=>{s.present()},s=>{console.error("Error while toasting message",s)})}isValidData(t){return null!=t&&""!==t&&t!==[]&&0!==Object.keys(t).length}getExtension(t){let r=t.split(/[#?]/)[0].split(".").pop().trim();return["jpg","jpeg","png","gif","tiff","svg"].includes(r.toLowerCase())?r="image":["mp3","m4a","acc","ogg","wma","flac","alac"].includes(r.toLowerCase())?r="audio":["3gp","mp4","mov","wmv","flv","avi","avchd","webm","mkv"].includes(r.toLowerCase())?r="video":["zip","rar"].includes(r.toLowerCase())&&(r="archive"),r.toLowerCase()}navigateForward(t,r={}){this.navCtrl.navigateForward(t,{state:{...r}})}navigateBack(t,r={}){this.navCtrl.navigateBack(t,{state:{...r}})}navigateRoot(t,r={}){this.navCtrl.setDirection("root"),this.navCtrl.navigateRoot(t,{state:{...r}})}}return l.\u0275fac=function(t){return new(t||l)(e.LFG(n.yF),e.LFG(n.SH))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},9244:(y,h,a)=>{a.d(h,{D:()=>l});var e=a(3725),n=a(744),i=a(8274);let l=(()=>{class c{constructor(r){this.firestore=r}get(r){const o=(0,e.hJ)(this.firestore,r),s=(0,e.IO)(o,(0,e.Xo)("created_at","asc"));return(0,e.BS)(s,{idField:"id"})}getById(r,o){const s=(0,e.JU)(this.firestore,r+`/${o}`);return(0,e._1)(s,{idField:"id"})}getByUID(r,o){console.log(r,o);const s=(0,e.hJ)(this.firestore,r),p=(0,e.IO)(s,(0,e.ar)("uid","==",o),(0,e.Xo)("created_at","asc"));return(0,e.BS)(p,{idField:"id"})}add(r,o){const s=(0,e.hJ)(this.firestore,r);return(0,e.ET)(s,{...o,created_at:(0,e.Bt)()})}delete(r,o){const s=(0,e.JU)(this.firestore,r+`/${o.id}`);return r===n.M.MEDIA||r===n.M.MEDIA?(0,e.r7)(s,{media:(0,e.Ab)(o?.media),updated_at:(0,e.Bt)()}):(0,e.oe)(s)}update(r,o){const s=(0,e.JU)(this.firestore,r+`/${o.id}`);return(0,e.r7)(s,r===n.M.MEDIA||r===n.M.MEDIA?{media:(0,e.vr)(...o?.media),updated_at:(0,e.Bt)()}:{...o,updated_at:(0,e.Bt)()})}getCourses(){const r=(0,e.hJ)(this.firestore,"courses");return(0,e.BS)(r,{idField:"id"})}getCourseById(r){const o=(0,e.JU)(this.firestore,`courses/${r}`);return(0,e._1)(o,{idField:"id"})}getTests(r){const o=(0,e.hJ)(this.firestore,"tests"),s=(0,e.IO)(o,(0,e.ar)("course_id","==",r||""));return(0,e.BS)(s,{idField:"id"})}getTestById(r){const o=(0,e.JU)(this.firestore,`tests/${r}`);return(0,e._1)(o,{idField:"id"})}getValuedAnswerSheetByTestId(r,o){const s=(0,e.hJ)(this.firestore,n.M.VALUED_ANSWER_SHEET),p=(0,e.IO)(s,(0,e.ar)("test_id","==",r||""),(0,e.ar)("student_id","==",o||""));return(0,e.BS)(p,{idField:"id"})}getRemarksByTestId(r,o){const s=(0,e.hJ)(this.firestore,n.M.STUDENT_ACTIVITY),p=(0,e.IO)(s,(0,e.ar)("test_id","==",r||""),(0,e.ar)("student_id","==",o||""));return(0,e.BS)(p,{idField:"id"})}getAnswerSheetByTestId(r){const o=(0,e.hJ)(this.firestore,n.M.ANSWER_SHEET),s=(0,e.IO)(o,(0,e.ar)("test_id","==",r||""));return(0,e.BS)(s,{idField:"id"})}getScheduleByCourseId(r){const o=(0,e.hJ)(this.firestore,n.M.SCHEDULES),s=(0,e.IO)(o,(0,e.ar)("course_id","==",r));return(0,e.BS)(s,{idField:"id"})}getScheduleByTestId(r){const o=(0,e.hJ)(this.firestore,n.M.SCHEDULES),s=(0,e.IO)(o,(0,e.ar)("test_id","==",r||""));return(0,e.BS)(s,{idField:"id"})}getQuestionPaperByTestId(r){const o=(0,e.hJ)(this.firestore,n.M.QUESTION_PAPERS),s=(0,e.IO)(o,(0,e.ar)("test_id","==",r||""));return(0,e.BS)(s,{idField:"id"})}updateTest(r){const o=(0,e.JU)(this.firestore,`tests/${r.id}`);return(0,e.r7)(o,{...r,updated_at:(0,e.Bt)()})}getOrdersList(){const r=(0,e.hJ)(this.firestore,"orders"),o=(0,e.IO)(r,(0,e.ar)("student_id","==",localStorage.getItem("uid")||""));return(0,e.BS)(o,{idField:"id"})}getPurchasedOrders(){const r=(0,e.hJ)(this.firestore,"orders"),o=(0,e.IO)(r,(0,e.ar)("student_id","==",localStorage.getItem("student_id")||""),(0,e.ar)("status","==",!0));return(0,e.BS)(o,{idField:"id"})}getOrders(r){const o=(0,e.hJ)(this.firestore,"orders"),s=(0,e.IO)(o,(0,e.ar)("course_id","==",r.course_id||""),(0,e.ar)("student_id","==",r.student_id||""));return(0,e.PL)(s)}addOrder(r){const o=(0,e.hJ)(this.firestore,"orders");return(0,e.ET)(o,{...r,created_at:(0,e.Bt)()})}updateOrder(r){const o=(0,e.JU)(this.firestore,`orders/${r.id}`);return(0,e.r7)(o,{...r,updated_at:(0,e.Bt)()})}getStudentById(r){const o=(0,e.JU)(this.firestore,`students/${r}`);return(0,e._1)(o,{idField:"id"})}getStudent(r){const o=(0,e.hJ)(this.firestore,"students"),s=(0,e.IO)(o,(0,e.ar)("email","==",r.email||""),(0,e.ar)("password","==",r.password||""));return(0,e.BS)(s,{idField:"id"})}checkStudent(r){const o=(0,e.hJ)(this.firestore,n.M.STUDENTS),s=(0,e.IO)(o,(0,e.ar)("email","==",r));return(0,e.BS)(s,{idField:"id"})}addStudent(r){const o=(0,e.hJ)(this.firestore,"students");return(0,e.ET)(o,{...r,created_at:(0,e.Bt)()})}deleteStudent(r){const o=(0,e.JU)(this.firestore,`students/${r.id}`);return(0,e.oe)(o)}updateStudent(r){const o=(0,e.JU)(this.firestore,`students/${r.id}`);return(0,e.r7)(o,{...r,updated_at:(0,e.Bt)()})}}return c.\u0275fac=function(r){return new(r||c)(i.LFG(e.gg))},c.\u0275prov=i.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},6857:(y,h,a)=>{a.d(h,{b:()=>n});var e=a(8274);let n=(()=>{class i{constructor(){this._data={}}getData(c){return this._data[c]}setData(c,t){this._data[c]=t}}return i.\u0275fac=function(c){return new(c||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()}}]);